(window.webpackJsonp=window.webpackJsonp||[]).push([[196],{3511:function(e,t,o){var content=o(4810);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(13).default)("75edac9f",content,!0,{sourceMap:!1})},4809:function(e,t,o){"use strict";o(3511)},4810:function(e,t,o){var n=o(12)((function(i){return i[1]}));n.push([e.i,'.o-shareBooster[data-v-67c0e87e]{position:fixed;bottom:0;border-top:1px solid var(--color-border-default);transition:all .2s ease-in;transform:translateY(110%)}.o-shareBooster[data-v-67c0e87e],.o-shareBooster[data-v-67c0e87e]:before{left:0;width:100%;background-color:var(--color-surface-normal)}.o-shareBooster[data-v-67c0e87e]:before{position:absolute;bottom:-10px;z-index:-1;display:block;height:100%;content:""}@media only screen and (max-width:480px){.o-shareBooster[data-v-67c0e87e]{display:none}}.o-shareBooster.is--active[data-v-67c0e87e],.o-shareBooster[data-v-67c0e87e]:focus-within{z-index:10;transition:all .4s cubic-bezier(1,0,0,1);transform:translate(0)}.o-shareBooster__inner[data-v-67c0e87e]{display:flex;justify-content:space-between;width:620px;padding-top:4px;padding-bottom:4px;margin-right:auto;margin-left:auto}@media only screen and (min-width:481px)and (max-width:768px){.o-shareBooster__inner[data-v-67c0e87e]{width:auto;padding-right:16px;padding-left:16px}}.o-shareBooster__note[data-v-67c0e87e]{display:flex;justify-content:space-between;margin-left:-16px}.o-shareBooster__share[data-v-67c0e87e]{position:relative;display:flex;justify-content:space-between;margin-right:-16px}.o-shareBooster__shareCoachMark[data-v-67c0e87e]{position:absolute;right:0;bottom:64px;width:90%;margin:0 5%}.o-shareBooster__item[data-v-67c0e87e]{display:flex;align-items:center;justify-content:center;min-width:56px;height:56px;line-height:56px;color:var(--color-text-clickable);text-align:center;cursor:pointer}@media only screen and (min-width:769px){.o-shareBooster__item[data-v-67c0e87e]{transition:all .2s cubic-bezier(1,0,0,1)}.o-shareBooster__item[data-v-67c0e87e]:hover{color:var(--color-text-secondary)}}.o-shareBooster__item--suki[data-v-67c0e87e]{padding-right:16px;padding-left:16px}.o-shareBooster__item--add[data-v-67c0e87e]{position:relative}.o-shareBooster__like[data-v-67c0e87e]{display:inline-block;display:flex;align-items:center;justify-content:center;color:var(--color-custom-accent);vertical-align:top}@media only screen and (min-width:769px){.o-shareBooster__like[data-v-67c0e87e]{transition:all .2s cubic-bezier(1,0,0,1)}}.o-shareBooster__count[data-v-67c0e87e]{display:inline-block;margin-left:4px;font-size:var(--font-size-sm);font-weight:400;color:var(--color-text-like);vertical-align:middle}@media only screen and (min-width:769px){.o-shareBooster__count[data-v-67c0e87e]:hover{text-decoration:underline}}',""]),n.locals={},e.exports=n},5257:function(e,t,o){"use strict";o.r(t);var n=o(0),r=o(3),l=o(1414),c=o(253),d=o(366),h=o(30),k=o(1708),m=o(575),_=o(26),f=o(1600),v=o(2497),y=o(2160),w=o(367),x=o(1947),T=r.a.extend({components:{LikeV3:x.default,ShareCoachMark:v.a,MagazineAddThanks:f.a,NtIcon:_.default,ShareThanks:y.default,SocialShareButton:w.default},mixins:[d.a,h.a,k.a],props:{note:{type:Object,required:!0},shareTrackingContents:{type:Object,default:()=>({})}},data:()=>({lastScrollY:0,lastOffsetHeight:0,showFooter:!0,isShareCoachMarkVisible:!1}),computed:{locationAddedToMagazine(){return this.$store.getters[m.MAGAZINE_LIST_GETTER_TYPES.GET_LOCATION_ADDED_TO_MAGAZINE]},noteIdAddedToMagazine(){return this.$store.getters[m.MAGAZINE_LIST_GETTER_TYPES.GET_NOTE_ID_ADDED_TO_MAGAZINE]},threshold:()=>2592e6},mounted(){this.isLoggedIn&&this.mountModals("commonAddNote"),Object(c.a)((()=>{this.lastScrollY=window.scrollY,this.lastOffsetHeight=document.documentElement.offsetHeight,window.addEventListener("scroll",this.handleScroll,{passive:!0}),this.$store.commit(m.MAGAZINE_LIST_MUTATION_TYPES.SET_NOTE_ADDED_TO_MAGAZINE,{noteId:null,location:""})}))},beforeDestroy(){window.clearTimeout(this.shareAnimationTimer),window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll:Object(l.a)((function(){var e=window.scrollY,t=document.documentElement.offsetHeight,o=this.lastScrollY-e,n=o>0,r=Math.abs(o);if(this.lastOffsetHeight!==t)return this.lastOffsetHeight=t,void(this.lastScrollY=e);if(n){if(r<60)return;this.showFooter=!0}else{if(r<120)return;this.showFooter=!1}this.lastScrollY=e}),100),showAddToMagazineModal(){var e;this.isLoggedIn?(null===(e=this.currentUser)||void 0===e?void 0:e.emailConfirmedFlag)?(this.pushCommonAddNoteModal({note:this.note,location:"pcBooster"}),this.$tracker.trackActionLogs([this.$tracker.buildActionLogRecord({kind:"magazine-add-click",contents:{content_key:this.note.key,content_type:"Note",route_name:this.$route.name}})])):this.pushRequestEmailConfirmModal():this.showLoginOrSignupModal()},showLoginOrSignupModal(){this.pushLoginOrSignupModal({type:"magazineAdd"})},copyLinkUrl(){var e=this;return Object(n.a)((function*(){yield e.copyLinkToClipboard(e.note.noteUrl)}))()},showDelayedShareCoachMark(){if(this.isLoggedIn&&!this.isShareThanksVisible){var e=this.note.user.likeAppealImage?5e3:3e3;this.shareAnimationTimer=setTimeout((()=>{this.isShareCoachMarkVisible=!0}),e)}},openLikerModal(){this.pushLikerModal({likableKey:this.note.key,likableId:this.note.id,likableType:"note",likeCount:this.note.likeCount,anonymousLikeCount:this.note.anonymousLikeCount})}}}),B=(o(4809),o(5)),component=Object(B.a)(T,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"o-shareBooster",class:{"is--active":e.showFooter}},[o("div",{staticClass:"o-shareBooster__inner"},[o("div",{staticClass:"o-shareBooster__note"},[o("like-v3",{staticClass:"o-shareBooster__item--suki",attrs:{"is-liked":e.note.isLiked,"note-key":e.note.key,"author-id":e.note.userId,"author-image-url":e.note.user.userProfileImageUrl||e.note.user.userProfileImagePath,"like-count":e.note.likeCount,"show-like-count":!0,"like-thanks-tail-position":"bottomLeft","like-thanks-type":"pcBooster","click-log-model":"noteDetailBooster"},on:{like:function(t){return e.$emit("like")},unlike:function(t){return e.$emit("unlike",t)},"animation-end":e.showDelayedShareCoachMark,"click-like-count":e.openLikerModal}}),e._v(" "),o("div",{staticClass:"o-shareBooster__item o-shareBooster__item--add"},[e.noteIdAddedToMagazine===e.note.id&&"pcBooster"===e.locationAddedToMagazine?o("magazine-add-thanks",{attrs:{note:e.note,type:"pcBooster"}}):e._e(),e._v(" "),o("nt-icon",{staticClass:"c-icon c-icon--magazineAdd",attrs:{type:"magazineAdd","data-tooltip":"記事を保存","aria-label":"記事を保存"},nativeOn:{click:function(t){return e.showAddToMagazineModal()}}})],1)],1),e._v(" "),o("div",{staticClass:"o-shareBooster__share"},[e.isShareThanksVisible?o("share-thanks",{attrs:{note:e.note,type:"pcBooster",paused:e.isShareAnimationPaused}}):e._e(),e._v(" "),e.isShareCoachMarkVisible?o("share-coach-mark",{staticClass:"o-shareBooster__shareCoachMark",attrs:{slot:"balloon",threshold:e.threshold},slot:"balloon"}):e._e(),e._v(" "),o("button",{staticClass:"o-shareBooster__item",attrs:{"aria-label":"リンクをコピー","data-tooltip":"リンクをコピー"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.copyLinkUrl(t)}}},[o("nt-icon",{attrs:{clickable:!1,type:"copy"}})],1),e._v(" "),o("social-share-button",{staticClass:"o-shareBooster__item",attrs:{"send-click-tracking":!0,"send-note-share-statistic":!0,"share-target":e.note,"share-url":e.note.twitterShareUrl,"share-target-type":"Note","social-kind":"twitter",via:"share-booster-pc","additional-click-tracking-contents":e.shareTrackingContents},on:{"click-share":function(t){e.onClickShare(e.note,t)}}}),e._v(" "),o("social-share-button",{staticClass:"o-shareBooster__item",attrs:{"send-click-tracking":!0,"send-note-share-statistic":!0,"share-target":e.note,"share-url":e.note.facebookShareUrl,"share-target-type":"Note","social-kind":"facebook",via:"share-booster-pc","additional-click-tracking-contents":e.shareTrackingContents},on:{"click-share":function(t){e.onClickShare(e.note,t)}}}),e._v(" "),o("social-share-button",{staticClass:"o-shareBooster__item",attrs:{"send-click-tracking":!0,"send-note-share-statistic":!0,"share-target":e.note,"share-url":e.note.lineShareUrl,"share-target-type":"Note","social-kind":"line",via:"share-booster-pc","additional-click-tracking-contents":e.shareTrackingContents},on:{"click-share":function(t){e.onClickShare(e.note,t)}}}),e._v(" "),o("social-share-button",{staticClass:"o-shareBooster__item",attrs:{"send-click-tracking":!0,"send-note-share-statistic":!0,"share-target":e.note,"share-url":e.note.noteShareUrl,"icon-attributes":{type:"noteAdd"},"share-target-type":"Note","social-kind":"note",via:"share-booster-pc","additional-click-tracking-contents":e.shareTrackingContents},on:{"click-share":function(t){e.onClickShare(e.note,t)}}})],1)])])}),[],!1,null,"67c0e87e",null);t.default=component.exports}}]);