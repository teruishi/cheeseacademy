(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{1450:function(e,t,o){"use strict";var r=o(69),n=o(1203);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function c(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var d={components:{Avatar:o(187).a},props:{avatars:{type:Array,required:!0},maxVisibleCount:{type:Number,required:!0},countLimit:{type:Number,default:void 0},size:{type:String,default:"medium"},avatarCount:{type:Number,default:void 0},ariaLabel:{type:String,default:void 0}},computed:{showAvatars(){return this.avatars.length>0},computedAvatarCount(){return this.avatarCount||this.avatars.length},extraCount(){return this.computedAvatarCount-this.maxVisibleCount},showExtraCount(){return this.extraCount>0},visibleAvatars(){return this.avatars.slice(0,this.maxVisibleCount).map((e=>c(c({},e),{},{__key:Object(n.a)()})))},computedMoreClass(){return["m-avatars__item","m-avatars__item--more","m-avatars__item--more--".concat(this.size)]},extraCountText(){return void 0!==this.countLimit&&this.computedAvatarCount>=this.countLimit?"+".concat(this.countLimit-this.maxVisibleCount,"〜"):"+".concat(this.extraCount)}},methods:{clickAvatars(){this.$emit("click-avatars")}}},h=(o(1653),o(5)),component=Object(h.a)(d,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.showAvatars?o("div",{staticClass:"m-avatars"},[o("button",{staticClass:"m-avatars__list",attrs:{"aria-label":e.ariaLabel},on:{click:e.clickAvatars}},[e._l(e.visibleAvatars,(function(t){return o("div",{key:t.__key,staticClass:"m-avatars__item"},[o("avatar",{attrs:{src:t.src,alt:t.alt,size:e.size}})],1)})),e._v(" "),e.showExtraCount?o("div",{class:e.computedMoreClass},[e._v("\n      "+e._s(e.extraCountText)+"\n    ")]):e._e()],2)]):e._e()}),[],!1,null,"677e8b90",null);t.a=component.exports},1456:function(e,t,o){var content=o(1548);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(13).default)("814aa12a",content,!0,{sourceMap:!1})},1529:function(e,t,o){"use strict";var r=o(34),n=o(26),l=o(357),c={components:{NtButton:r.a,NtIcon:n.default,NtIconLabel:l.a},props:{buttonType:{type:String,default:void 0},iconType:{type:String,default:void 0},labelText:{type:String,default:void 0},size:{type:String,default:void 0},buttonSize:{type:String,default:void 0},iconSize:{type:String,default:void 0},width:{type:String,default:void 0},disabled:{type:Boolean,default:void 0}},computed:{computedButtonSize(){return this.buttonSize||this.size},computedIconSize(){return this.iconSize||this.size}}},d=(o(1547),o(5)),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("nt-button",{staticClass:"m-iconButton",attrs:{type:e.buttonType,size:e.computedButtonSize,width:e.width,disabled:e.disabled}},[e.iconType?o("span",{class:{"m-iconButton__labelWithIcon":e.labelText}},[!1===Boolean(e.labelText)?o("nt-icon-label",{attrs:{type:e.iconType}}):e._e(),e._v(" "),o("nt-icon",{attrs:{type:e.iconType,size:e.computedIconSize,clickable:!1}})],1):e._e(),e._v(" "),e.labelText?o("span",[e._v(e._s(e.labelText))]):e._e()])}),[],!1,null,"32c9948c",null);t.a=component.exports},1533:function(e,t,o){var content=o(1654);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(13).default)("7b0cf324",content,!0,{sourceMap:!1})},1547:function(e,t,o){"use strict";o(1456)},1548:function(e,t,o){var r=o(12)((function(i){return i[1]}));r.push([e.i,".m-iconButton .m-iconButton__labelWithIcon[data-v-32c9948c]{margin-right:4px}",""]),r.locals={},e.exports=r},1653:function(e,t,o){"use strict";o(1533)},1654:function(e,t,o){var r=o(12)((function(i){return i[1]}));r.push([e.i,'.m-avatars__list[data-v-677e8b90]{display:flex}.m-avatars__item[data-v-677e8b90]{position:relative;margin-right:-8px;cursor:pointer}.m-avatars__item[data-v-677e8b90]:before{position:absolute;top:-1px;right:-1px;bottom:-1px;left:-1px;box-sizing:initial;display:block;content:"";border:2px solid var(--color-whiteAlpha-900);border-radius:30px}.m-avatars__item[data-v-677e8b90]:last-child{margin-right:0}.m-avatars__item[data-v-677e8b90]:nth-child(n){z-index:10}.m-avatars__item[data-v-677e8b90]:nth-child(2){z-index:9}.m-avatars__item[data-v-677e8b90]:nth-child(3){z-index:8}.m-avatars__item[data-v-677e8b90]:nth-child(4){z-index:7}.m-avatars__item[data-v-677e8b90]:nth-child(5){z-index:6}.m-avatars__item[data-v-677e8b90]:nth-child(6){z-index:5}.m-avatars__item[data-v-677e8b90]:nth-child(7){z-index:4}.m-avatars__item[data-v-677e8b90]:nth-child(8){z-index:3}.m-avatars__item[data-v-677e8b90]:nth-child(9){z-index:2}.m-avatars__item[data-v-677e8b90]:nth-child(10){z-index:1}.m-avatars__item--more[data-v-677e8b90]{padding:0 8px;font-size:var(--font-size-xs);color:var(--color-text-secondary);text-align:center;background-color:var(--color-background-secondary)}.m-avatars__item--more--small[data-v-677e8b90]{min-width:24px;height:24px;line-height:24px;border-radius:24px}.m-avatars__item--more--medium[data-v-677e8b90]{min-width:32px;height:32px;line-height:32px;border-radius:32px}.m-avatars__item--more--large[data-v-677e8b90]{min-width:56px;height:56px;line-height:56px;border-radius:56px}',""]),r.locals={},e.exports=r},2047:function(e,t,o){var content=o(2294);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(13).default)("4c488804",content,!0,{sourceMap:!1})},2048:function(e,t,o){var content=o(2296);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(13).default)("f3694fb4",content,!0,{sourceMap:!1})},2049:function(e,t,o){var content=o(2298);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(13).default)("0d82ec77",content,!0,{sourceMap:!1})},2159:function(e,t,o){"use strict";var r=o(1450),n=o(47),l=o(30),c={components:{AvatarList:r.a,NtLink:n.a},mixins:[l.a],props:{reviewerCount:{type:Number,required:!0},reviewers:{type:Array,required:!0}},computed:{maxVisibleCount:()=>7,avatars(){return this.reviewers.map((e=>({src:e.userProfileImagePath,alt:e.nickname||e.urlname||""})))},reviewersText(){return"".concat(this.reviewerCount,"人がオススメしています")}},methods:{clickAvatars(){this.pushContentReviewersModal()}}},d=(o(2295),o(5)),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.reviewers.length>0?o("div",{staticClass:"m-contentReviewers"},[o("div",{staticClass:"m-contentReviewers__body"},[o("div",{staticClass:"m-contentReviewers__list"},[o("avatar-list",{attrs:{avatars:e.avatars,"max-visible-count":e.maxVisibleCount,"avatar-count":e.reviewerCount,size:"medium"},on:{"click-avatars":e.clickAvatars}})],1),e._v(" "),o("nt-link",{nativeOn:{click:function(t){return e.clickAvatars(t)}}},[o("div",{staticClass:"m-contentReviewers__label"},[e._v("\n        "+e._s(e.reviewersText)+"\n      ")])])],1)]):e._e()}),[],!1,null,"6c3b5b67",null);t.a=component.exports},2293:function(e,t,o){"use strict";o(2047)},2294:function(e,t,o){var r=o(12)((function(i){return i[1]}));r.push([e.i,".m-contentReviewButton[data-v-9d621ee2]{width:100%}",""]),r.locals={},e.exports=r},2295:function(e,t,o){"use strict";o(2048)},2296:function(e,t,o){var r=o(12)((function(i){return i[1]}));r.push([e.i,".m-contentReviewers__body[data-v-6c3b5b67]{display:flex;flex-wrap:wrap;align-items:center;justify-content:center;background-color:var(--color-surface-normal);border-radius:4px}.m-contentReviewers__label[data-v-6c3b5b67]{font-size:var(--font-size-sm);color:var(--color-text-secondary)}@media only screen and (max-width:480px){.m-contentReviewers__label[data-v-6c3b5b67]{font-size:var(--font-size-xs)}}.m-contentReviewers__list[data-v-6c3b5b67]{display:flex;margin-right:8px}.m-contentReviewers--more[data-v-6c3b5b67]{z-index:1;min-width:30px;height:30px;padding:0 8px;font-size:var(--font-size-xs);line-height:30px;color:var(--color-text-secondary);text-align:center;background-color:var(--color-background-secondary);border-radius:30px}",""]),r.locals={},e.exports=r},2297:function(e,t,o){"use strict";o(2049)},2298:function(e,t,o){var r=o(12)((function(i){return i[1]}));r.push([e.i,'.o-noteReview[data-v-6a045a6b]{position:relative;display:flex;flex-direction:column;flex-wrap:wrap;align-items:center;justify-content:space-between;padding:24px;margin:0 0 16px}.o-noteReview[data-v-6a045a6b]:before{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;pointer-events:none;content:"";border:1px solid var(--color-border-strong);border-radius:4px}.o-noteReview__title[data-v-6a045a6b]{position:relative;z-index:3;padding:0 16px;margin-top:-36px;margin-bottom:16px;font-size:var(--font-size-base);color:var(--color-text-primary);background-color:var(--color-surface-normal)}@media only screen and (max-width:480px){.o-noteReview__title[data-v-6a045a6b]{font-size:var(--font-size-xs)}}.o-noteReview__info[data-v-6a045a6b]{display:flex;align-items:center;margin-top:8px}.o-noteReview__description[data-v-6a045a6b]{font-size:var(--font-size-xs);color:var(--color-text-secondary)}.o-noteReview__action[data-v-6a045a6b]{position:relative;z-index:2;width:100%}.o-noteReview__reviewers[data-v-6a045a6b]{position:relative;z-index:2;margin-top:8px}.o-noteReview__button[data-v-6a045a6b]{display:none}.o-noteReview__button.is-show[data-v-6a045a6b]{display:block}@media only screen and (max-width:503px){.o-noteReview__sp[data-v-6a045a6b]{margin-top:24px}}.o-noteReview__thanks[data-v-6a045a6b]{position:absolute;top:0;right:0;bottom:0;left:0;z-index:2;display:flex;align-items:center;justify-content:center;font-size:var(--font-size-lg);font-weight:700;color:var(--color-custom-accent);pointer-events:none;background-color:var(--color-surface-normal);opacity:0}@media only screen and (max-width:480px){.o-noteReview__thanks[data-v-6a045a6b]{font-size:var(--font-size-base)}}@keyframes effectThanks-data-v-6a045a6b{0%{opacity:0}25%{opacity:1}75%{opacity:1}to{opacity:0}}.o-noteReview__thanks.is-show[data-v-6a045a6b]{animation:effectThanks-data-v-6a045a6b 2.6s}.o-noteReviewModal__label[data-v-6a045a6b]{display:flex;margin-top:8px}.o-noteReviewModal__help[data-v-6a045a6b]{margin-left:8px}.o-noteReviewModal__text[data-v-6a045a6b]{font-size:var(--font-size-sm);color:var(--color-text-success)}.o-noteReviewModal__helpLink[data-v-6a045a6b]{color:var(--color-text-clickable)}@media only screen and (min-width:769px){.o-noteReviewModal__helpLink[data-v-6a045a6b]{transition:all .2s cubic-bezier(1,0,0,1)}.o-noteReviewModal__helpLink[data-v-6a045a6b]:hover{color:var(--color-text-secondary)}}',""]),r.locals={},e.exports=r},2474:function(e,t,o){"use strict";var r=o(0),n={components:{IconButton:o(1529).a},props:{isReviewed:{type:Boolean,required:!0}}},l=(o(2293),o(5)),c=Object(l.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"m-contentReviewButton"},[o("div",{directives:[{name:"show",rawName:"v-show",value:!e.isReviewed,expression:"!isReviewed"}],class:{"is-show":!e.isReviewed}},[o("icon-button",{attrs:{"button-type":"secondary","icon-type":"satisfied",size:"medium",width:"fit","label-text":"オススメする"},nativeOn:{click:function(t){return e.$emit("toggle-review")}}})],1),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.isReviewed,expression:"isReviewed"}],class:{"is-show":e.isReviewed}},[o("icon-button",{attrs:{"button-type":"primary","icon-type":"check",size:"medium",width:"fit","label-text":"この記事をオススメ中"},nativeOn:{click:function(t){return e.$emit("toggle-review")}}})],1)])}),[],!1,null,"9d621ee2",null).exports,d=o(2159),h=o(26),v=o(47),m=o(30),_=o(7),f=o(19),x={components:{ContentReviewButtons:c,ContentReviewers:d.a,NtIcon:h.default,NtLink:v.a},mixins:[m.a],props:{note:{type:Object,required:!0},type:{type:String,required:!0},via:{type:String,default:""}},data:()=>({isProcessing:!1,isReviewed:!1}),computed:{myReviewIdExists(){return null!==this.note.myReviewId}},methods:{toggleReview(){this.isProcessing||(this.isLoggedIn?this.note.myReviewId?this.destroyReview():this.createReview():this.$webview.isIosWebview||this.$webview.isAndroidWebview?window.location.href=this.$webview.loginOrSignupUrl():this.pushLoginOrSignupModal({type:"review"}))},createReview(){var e=this;return Object(r.a)((function*(){e.isProcessing=!0,(yield e.$store.dispatch(_.NOTE_DETAIL_ACTION_TYPES.CREATE_CONTENT_REVIEW,{user:e.currentUser,via:e.via}))?e.isReviewed=!0:e.$store.dispatch(f.FLASH_MESSAGE_ACTION_TYPES.SHOW_FLASH,{text:"操作に失敗しました。",type:"error"}),e.isProcessing=!1}))()},destroyReview(){var e=this;return Object(r.a)((function*(){e.isProcessing=!0,yield e.$store.dispatch(_.NOTE_DETAIL_ACTION_TYPES.DESTROY_CONTENT_REVIEW,e.currentUser),e.isReviewed=!1,e.isProcessing=!1}))()}}},w=(o(2297),Object(l.a)(x,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return"noteDetail"===e.type?o("div",{staticClass:"o-noteReview o-noteReview__sp"},[e.note.isMyNote||e.myReviewIdExists?e._e():o("h2",{staticClass:"o-noteReview__title"},[e._v("\n    みんなにも読んでほしいですか？\n  ")]),e._v(" "),e.note.isMyNote?e._e():o("content-review-buttons",{attrs:{"is-reviewed":e.myReviewIdExists},on:{"toggle-review":function(t){return e.toggleReview()}}}),e._v(" "),e.note.reviewerCount>0?o("content-reviewers",{staticClass:"o-noteReview__reviewers",attrs:{"reviewer-count":e.note.reviewerCount,reviewers:e.note.contentReviewers||[]}}):e._e(),e._v(" "),o("div",{staticClass:"o-noteReview__info"},[o("div",{staticClass:"o-noteReview__description"},[e._v("\n      オススメした記事はフォロワーのタイムラインに表示されます！\n    ")]),e._v(" "),o("div",{staticClass:"o-noteReviewModal__help"},[o("nt-link",{staticClass:"o-noteReviewModal__helpLink",attrs:{href:"https://help-note.com/hc/ja/articles/360017943613",target:"_blank","aria-label":"記事を「オススメ」する"}},[o("nt-icon",{attrs:{type:"help",clickable:!1}})],1)],1)]),e._v(" "),o("div",{staticClass:"o-noteReview__thanks",class:{"is-show":e.isReviewed},attrs:{"aria-hidden":e.isReviewed?"false":"true","aria-live":"polite"}},[e.isReviewed?o("div",[o("nt-icon",{attrs:{clickable:!1,type:"satisfied"}}),e._v("\n      オススメありがとうございます！\n    ")],1):e._e()])],1):"noteDetailReviewer"===e.type?o("div",{staticClass:"o-noteReview"},[o("content-reviewers",{attrs:{"reviewer-count":e.note.reviewerCount,reviewers:e.note.contentReviewers||[]}})],1):"inModal"===e.type?o("div",{staticClass:"o-noteReviewModal"},[o("content-review-buttons",{attrs:{"is-reviewed":e.isReviewed||e.myReviewIdExists},on:{"toggle-review":function(t){!e.myReviewIdExists&&e.toggleReview()}}}),e._v(" "),o("div",{staticClass:"o-noteReviewModal__label"},[o("div",{staticClass:"o-noteReviewModal__text"},[e._v("\n      オススメするとフォロワーに記事を紹介できます\n    ")]),e._v(" "),o("div",{staticClass:"o-noteReviewModal__help"},[o("nt-link",{staticClass:"o-noteReviewModal__helpLink",attrs:{href:"https://help-note.com/hc/ja/articles/360017943613",target:"_blank","aria-label":"記事を「オススメ」する"}},[o("nt-icon",{attrs:{type:"help",clickable:!1}})],1)],1)])],1):e._e()}),[],!1,null,"6a045a6b",null));t.a=w.exports},3165:function(e,t,o){var content=o(4078);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(13).default)("b8e9b524",content,!0,{sourceMap:!1})},3166:function(e,t,o){var content=o(4080);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(13).default)("2c9be0cb",content,!0,{sourceMap:!1})},3599:function(e,t,o){"use strict";o(10),o(20),o(11),o(29),o(15);var r=o(3),n=o(567),l=o(16),c=o(187),d=o(2474),h=o(116),v=o(397),m=o(34),_=o(25),f=o(9),x=o(30),w=o(197),y=o(1493),M=o(21),z=o(1526),C=r.a.extend({components:{Avatar:c.a,Confetti:()=>Promise.all([o.e(31),o.e(37)]).then(o.bind(null,5238)),ContentReview:d.a,ModalHeading:h.a,ModalShareButtons:v.a,NtButton:m.a,NtImage:_.a},mixins:[x.a,z.a],props:{isModal:{type:Boolean,default:!1},placeType:{type:String,default:"purchase-modal"}},data:()=>({twShareUrl:null,fbShareUrl:null,lineShareUrl:null,showShareButtons:!1,shareTarget:{},shareTargetType:""}),computed:{modalName:()=>"afterPurchaseMessage",noteDetail(){return this.$store.state.pages.noteDetail.data},note(){return this.$store.state.purchase.note},magazine(){return this.$store.state.purchase.magazine},magazineLayout(){var e,t;return null===(t=null===(e=this.$store.state.pages)||void 0===e?void 0:e.magazineTop)||void 0===t?void 0:t.magazineLayout},allowedActionTypes:()=>Object.keys(f.afterPurchase),actionType(){return this.$store.state.modal.purchaseModalContainer.actionType},camelizedActionType(){return this.actionType?Object(n.a)(this.actionType):null},creatorImage(){return this.$store.state.modal.purchaseModalContainer.creatorImage},creatorMessage(){return this.$store.state.modal.purchaseModalContainer.creatorMessage},messageDisplayOptions(){return this.$store.state.modal.purchaseModalContainer.messageDisplayOptions},title(){return this.allowedActionTypes.includes(this.camelizedActionType)?f.afterPurchase[this.camelizedActionType].title:null},message(){return this.allowedActionTypes.includes(this.camelizedActionType)?this.creatorMessage||f.afterPurchase[this.camelizedActionType].defaultMessage:null},sharePromptMessage(){return f.afterPurchase[this.camelizedActionType].sharePromptMessage},beforePurchasingPlaceFromNote(){return"note-detail"===this.$store.state.purchase.beforePurchasingPlace},buttonText(){switch(this.actionType){case"note_purchase":return"購入した記事を読む";case"support":return"記事に戻る";case"magazine_purchase":case"magazine_subscribe":return this.beforePurchasingPlaceFromNote?"購入した記事を読む":"購入したマガジンを見る";default:return"戻る"}},isPurchasingContents(){switch(this.actionType){case"support":return!1;case"note_purchase":case"magazine_purchase":case"magazine_subscribe":return!0;default:return!1}},conversionMagazineId(){var e,t,o;return(null===(e=this.magazine)||void 0===e?void 0:e.id)?this.magazine.id:(null===(t=this.noteDetail)||void 0===t?void 0:t.magazine)?this.noteDetail.magazine.id:(null===(o=this.magazineLayout)||void 0===o?void 0:o.id)?this.magazineLayout.id:null},isConfettiShown(){var e;return!0===(null===(e=this.messageDisplayOptions)||void 0===e?void 0:e.confetti)},contentAuthor(){return this.$store.state.purchase.creator},simpleNonRefundableMessageExperimentGroupName(){var e,t=this.$store.getters[M.USER_GETTER_TYPES.EXPERIMENT_INFO_MAP],o=null===(e=null==t?void 0:t.PurchaseSimpleNonRefundableMessageExperiment)||void 0===e?void 0:e.groupName;return null!=o?o:"others"},isSimpleNonRefundableMessageTreatment(){return"treatment"==this.simpleNonRefundableMessageExperimentGroupName}},methods:{init(){var e,t,o;Object.assign(this.$data,{twShareUrl:null,fbShareUrl:null,lineShareUrl:null,showShareButtons:!1,shareTarget:{},shareTargetType:""});var r=l.o.get("note-detail-paywall-click"),n=this.$currentPage,c=this.$prevPage;switch(this.actionType){case"note_purchase":this.note&&(this.twShareUrl=this.note.twitterShareUrl,this.fbShareUrl=this.note.facebookShareUrl,this.lineShareUrl=this.note.lineShareUrl,this.showShareButtons=!(!this.twShareUrl||!this.fbShareUrl),this.shareTarget=this.note,this.shareTargetType="Note"),"true"===r&&this.sendPaywallLog(this.note.id,"Note",this.note.user.id),Object(w.a)(this.$axios,{targetId:this.note.id,targetType:"note",url:n,referrer:c,actionName:"Purchase"}),this.sendConversionLog("Note",null===(e=this.note)||void 0===e?void 0:e.key,"paid");break;case"support":this.note&&(this.twShareUrl=this.note.twitterShareUrl,this.fbShareUrl=this.note.facebookShareUrl,this.lineShareUrl=this.note.lineShareUrl,this.showShareButtons=!(!this.twShareUrl||!this.fbShareUrl),this.shareTarget=this.note,this.shareTargetType="Note"),"true"===r&&this.sendPaywallLog(this.note.id,"Note",this.note.user.id),Object(w.a)(this.$axios,{targetId:this.note.id,targetType:"note",url:n,referrer:c,actionName:"Support"}),this.sendConversionLog("Note",null===(t=this.note)||void 0===t?void 0:t.key,"support");break;case"magazine_purchase":case"magazine_subscribe":if(this.magazine&&this.magazine.id&&(this.twShareUrl=this.magazine.twitterShareUrl,this.fbShareUrl=this.magazine.facebookShareUrl,this.lineShareUrl=this.magazine.lineShareUrl,this.showShareButtons=!(!this.twShareUrl||!this.fbShareUrl),this.shareTarget=this.magazine,this.shareTargetType="Magazine"),"true"===r&&this.sendPaywallLog(this.magazine.id,"Magazine",this.magazine.user.id),this.conversionMagazineId){var d="magazine_subscribe"===this.actionType?"Subscribe":"Purchase";Object(w.a)(this.$axios,{targetId:this.conversionMagazineId,targetType:"magazine",url:n,referrer:c,actionName:d})}var h="magazine_purchase"===this.actionType?"paid":"subscription";this.sendConversionLog("Magazine",null===(o=this.magazine)||void 0===o?void 0:o.key,h)}l.o.remove("note-detail-paywall-click")},close(){this.$emit("close")},sendPaywallLog(e,t,o){this.$tracker.trackActionLogs([this.$tracker.buildActionLogRecord({kind:"note-detail-paywall-finish",contents:{target_id:e,target_type:t,creator_user_id:o,is_logged_in:this.isLoggedIn,experiment_info:{simple_non_refundable_message:{group_name:this.simpleNonRefundableMessageExperimentGroupName},purchase_confirm_button:{group_name:this.purchaseConfirmButtonGroupName}}}})])},sendConversionLog(e,t,o){Object(y.c)(this.$tracker,{kind:y.a.cv_purchase_completed,action:"imp",contentKey:t,contentType:e,placeType:this.placeType,purchaseType:o,experiment_info:{purchase_confirm_button:{group_name:this.purchaseConfirmButtonGroupName}}})}}}),R=(o(4077),o(4079),o(5)),component=Object(R.a)(C,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("client-only",[e.isConfettiShown?o("confetti"):e._e()],1),e._v(" "),o("div",{staticClass:"m-basicModalContent__header",class:{"o-afterPurchaseMessageModal__headerTreatment":e.isPurchaseConfirmButtonTreatment}},[e.isModal?o("modal-heading",[e._v("\n      "+e._s(e.title)+"\n    ")]):[e._v("\n      "+e._s(e.title)+"\n    ")]],2),e._v(" "),o("div",{staticClass:"o-afterPurchaseMessageModal__body"},[o("div",{staticClass:"o-afterPurchaseMessageModal__item"},[o("div",{staticClass:"o-afterPurchaseMessageModal__bg"},[o("nt-image",{staticClass:"o-afterPurchaseMessageModal__bgImage",attrs:{src:"~/assets/images/fig_supportthanks.png"}})],1),e._v(" "),o("div",{staticClass:"o-afterPurchaseMessageModal__avatar"},[e.creatorImage?o("avatar",{attrs:{src:e.creatorImage,size:"xxlarge"}}):o("nt-image",{staticClass:"o-afterPurchaseMessageModal__default",attrs:{src:"~/assets/images/default_note_logo_202212.png",alt:""}})],1),e._v(" "),o("div",{staticClass:"o-afterPurchaseMessageModal__message",domProps:{textContent:e._s(e.message)}})]),e._v(" "),e.isPurchasingContents?o("div",{staticClass:"o-afterPurchaseMessageModal__formAction",class:{"o-afterPurchaseMessageModal__footerTreatment":e.isPurchaseConfirmButtonTreatment}},[o("nt-button",{attrs:{type:"primary",width:"medium"},on:{click:function(t){return t.preventDefault(),e.close(t)}}},[e._v("\n        "+e._s(e.buttonText)+"\n      ")])],1):e._e(),e._v(" "),"support"===e.actionType?o("div",{staticClass:"o-afterPurchaseMessageModal__support"},[e.note?o("content-review",{attrs:{note:e.note,type:"inModal",via:"purchased_support"}}):e._e()],1):e._e(),e._v(" "),e.showShareButtons?o("modal-share-buttons",{staticClass:"o-afterPurchaseMessageModal__shareButtons",attrs:{"tw-share-url":e.twShareUrl,"fb-share-url":e.fbShareUrl,"line-share-url":e.lineShareUrl,message:e.sharePromptMessage,"modal-name":e.modalName,"share-target":e.shareTarget,"share-target-type":e.shareTargetType}}):e._e()],1),e._v(" "),e.isPurchasingContents?e._e():o("div",{staticClass:"m-basicModalContent__footer"},[o("nt-button",{attrs:{type:"basic",size:"small"},on:{click:function(t){return t.preventDefault(),e.close(t)}}},[e._v("\n      "+e._s(e.buttonText)+"\n    ")])],1)],1)}),[],!1,null,"7f75a927",null);t.a=component.exports},4077:function(e,t,o){"use strict";o(3165)},4078:function(e,t,o){var r=o(12)((function(i){return i[1]}));r.push([e.i,".m-basicModalContent[data-v-7f75a927]{position:relative;margin:56px auto;background:var(--color-surface-normal);border-radius:4px}@media only screen and (max-width:480px){.m-basicModalContent[data-v-7f75a927]{margin:8px auto 80px}}.m-basicModalContent__header[data-v-7f75a927]:not(:empty){padding:16px;font-size:var(--font-size-base);color:var(--color-text-primary);text-align:center;border-bottom:1px solid var(--color-border-default)}@media only screen and (max-width:480px){.m-basicModalContent__body[data-v-7f75a927]{width:100%}}.m-basicModalContent__body--height[data-v-7f75a927]{max-height:440px}@media only screen and (max-width:480px){.m-basicModalContent__body--height[data-v-7f75a927]{height:calc(100vh - 240px)}}.m-basicModalContent__body--scrollable[data-v-7f75a927]{max-height:440px;overflow-y:auto}@media only screen and (max-width:480px){.m-basicModalContent__body--scrollable[data-v-7f75a927]{max-height:calc(100vh - 240px)}}.m-basicModalContent__footer[data-v-7f75a927]{display:flex;align-items:center;justify-content:center;padding:16px;background-color:var(--color-background-secondary);border-top:1px solid var(--color-border-default);border-radius:0 0 4px 4px}.m-basicModalContent--size_small[data-v-7f75a927]{width:470px}@media only screen and (max-width:480px){.m-basicModalContent--size_small[data-v-7f75a927]{width:calc(100% - 16px)}}.m-basicModalContent--size_medium[data-v-7f75a927]{width:580px}@media only screen and (max-width:480px){.m-basicModalContent--size_medium[data-v-7f75a927]{width:calc(100% - 16px)}}.m-basicModalContent--size_large[data-v-7f75a927]{width:100%}@media only screen and (max-width:480px){.m-basicModalContent--size_large[data-v-7f75a927]{width:calc(100% - 16px)}}",""]),r.locals={},e.exports=r},4079:function(e,t,o){"use strict";o(3166)},4080:function(e,t,o){var r=o(12)((function(i){return i[1]}));r.push([e.i,'.o-afterPurchaseMessageModal__footerTreatment[data-v-7f75a927],.o-afterPurchaseMessageModal__headerTreatment[data-v-7f75a927]{border-bottom:none!important}.o-afterPurchaseMessageModal__item[data-v-7f75a927]{position:relative}.o-afterPurchaseMessageModal__bg[data-v-7f75a927]{position:absolute;top:0;left:0;pointer-events:none}.o-afterPurchaseMessageModal__bgImage[data-v-7f75a927]{width:auto;max-width:100%}.o-afterPurchaseMessageModal__default[data-v-7f75a927]{width:104px;border-radius:50%}.o-afterPurchaseMessageModal__avatar[data-v-7f75a927]{position:relative;z-index:2;display:flex;align-items:center;justify-content:center;padding:48px 0}@media only screen and (max-width:480px){.o-afterPurchaseMessageModal__avatar[data-v-7f75a927]{padding:32px 0}}.o-afterPurchaseMessageModal__message[data-v-7f75a927]{position:relative;z-index:2;padding:24px;margin:0 40px 40px;font-size:var(--font-size-base);text-align:left;white-space:pre-line;background-color:var(--color-surface-normal);border:1px solid var(--color-border-default);border-radius:4px}.o-afterPurchaseMessageModal__message[data-v-7f75a927]:before{position:absolute;top:-12px;left:50%;display:block;width:9px;height:9px;margin-left:-6px;content:"";background-color:var(--color-surface-normal);border-right:1px solid var(--color-border-default);border-bottom:1px solid var(--color-border-default);transform:rotate(225deg) translate(-5px,-5px)}.o-afterPurchaseMessageModal__support[data-v-7f75a927]{margin:0 40px 40px}.o-afterPurchaseMessageModal__formAction[data-v-7f75a927]{padding:0 0 40px;text-align:center;border-bottom:1px solid var(--color-border-default)}.o-afterPurchaseMessageModal__shareButtons[data-v-7f75a927]{padding:14px 24px 24px}@media only screen and (max-width:480px){.o-afterPurchaseMessageModal__shareButtons[data-v-7f75a927]{padding:16px 24px 24px}}.o-afterPurchaseMessageModal__actionMessage[data-v-7f75a927]{width:100%;margin-bottom:8px;font-size:var(--font-size-sm);text-align:center}',""]),r.locals={},e.exports=r}}]);