(window.webpackJsonp=window.webpackJsonp||[]).push([[173],{1539:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));n(29);var r=n(1585),o=(e,t)=>!!e.name&&(r.b.includes(e.name)||t&&r.a.includes(e.name));t.a={isCreatorTop:o,isCreatorTopHome:e=>"urlname"===e.name,isCreatorTopCircle:e=>"circle"===e.name||"urlname-circle"===e.name,isCreatorTopStore:e=>"store"===e.name||"urlname-store"===e.name}},1585:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return h}));var r=["urlname","urlname-archives","urlname-archives-year-month","urlname-followers","urlname-followings","urlname-likes","urlname-magazines","urlname-circle","urlname-s-sectionId","urlname-menu-menuId","urlname-menu-menuId-s-sectionId","urlname-store","urlname-topic_preview","urlname-all"],o=["archives","archives-year-month","followers","followings","index","likes","magazines","circle","s-sectionId","menu-menuId","menu-menuId-s-sectionId","store","topic_preview","all"],c=["urlname-n-key","n-key"],d=["urlname-m-key","urlname-m-key-archive-date","urlname-m-key-hashtag-hashtagId","urlname-m-key-menu-menuId","urlname-m-key-subscribe","m-key","m-key-archive-date","m-key-hashtag-hashtagId","m-key-menuId","m-key-subscribe","subscribe"],l=["index","urlname"],m=["topic_preview","urlname-topic_preview"],h=l.concat(m)},3378:function(e,t,n){var content=n(4525);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(13).default)("71ff7b78",content,!0,{sourceMap:!1})},4524:function(e,t,n){"use strict";n(3378)},4525:function(e,t,n){var r=n(12)((function(i){return i[1]}));r.push([e.i,".activationMessage[data-v-2dba4c7c]{width:100%;padding:10px;font-size:var(--font-size-xs);line-height:1.5em;color:var(--color-text-primary);text-align:center;background-color:var(--color-surface-successSubdued);border-bottom:1px solid var(--color-border-default)}.activationMessage a[data-v-2dba4c7c]:hover{text-decoration:underline}@media only screen and (max-width:480px){.activationMessage[data-v-2dba4c7c]{padding:8px;font-size:var(--font-size-xs);line-height:1.4}}.activationMessage .beforeResend .resend[data-v-2dba4c7c]{font-weight:700;text-decoration:underline;cursor:pointer}.activationMessage .beforeResend .resend[data-v-2dba4c7c]:hover{text-decoration:none}",""]),r.locals={},e.exports=r},5021:function(e,t,n){"use strict";n.r(t);n(15);var r=n(3),o=n(0),c=n(401),d=Object.freeze({BEFORE_SEND:"beforeSend",SENDING:"sending",FINISHED:"finished",COMPLETED:"completed"}),l=r.a.extend({data:()=>({resendStatus:d.BEFORE_SEND}),computed:{statusBeforeSend(){return this.resendStatus===d.BEFORE_SEND},statusSending(){return this.resendStatus===d.SENDING},statusFinished(){return this.resendStatus===d.FINISHED},statusCompleted(){return this.resendStatus===d.COMPLETED},showActivationMessage(){return this.currentUser&&!this.currentUser.emailConfirmedFlag&&!this.statusCompleted&&"follow_recommend"!==this.$route.name&&"signup-note_id"!==this.$route.name}},methods:{resend(){var e=this;return Object(o.a)((function*(){var t;e.resendStatus=d.SENDING;try{yield Object(c.b)(e.$axios),e.resendStatus=d.FINISHED,setTimeout((()=>{e.resendStatus=d.COMPLETED}),3e3)}catch(n){429===(null===(t=n.response)||void 0===t?void 0:t.status)?alert("メールは送信されています。もう一度送る場合は、時間を置いてからお試しください。"):alert("エラーが発生しました。時間を置いて再度お試しください。"),e.resendStatus=d.BEFORE_SEND}}))()}}}),m=(n(4524),n(5)),h=Object(m.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showActivationMessage?n("div",{staticClass:"activationMessage"},[e.statusBeforeSend?n("div",{staticClass:"beforeResend"},[n("p",[e._v("\n      投稿や購入などの基本機能はメールアドレス認証が必要です。"),n("br"),e._v("\n      認証メールを確認して、登録手続きを完了してください。"),n("br"),e._v(" "),n("button",{staticClass:"resend",attrs:{type:"button"},on:{click:e.resend}},[e._v("\n        認証メールを再送する\n      ")])])]):e.statusSending?n("div",{attrs:{"aria-live":"assertive"}},[e._v("\n    送信中\n  ")]):e.statusFinished?n("div",{attrs:{"aria-live":"assertive"}},[e._v("\n    確認メールを再送しました\n  ")]):e._e()]):e._e()}),[],!1,null,"2dba4c7c",null).exports,f=(n(29),n(1539)),v=n(539),y="reconnect_twitter_message",w=r.a.extend({components:{MessageAlert:v.a},data:()=>({closedMessageKeys:[]}),computed:{infoMessages(){if(this.$path.customDomain)return[];var e=this.$store.state.prefetchData.infoMessages;return Array.isArray(e)?this.showReconnectTwitterMessage?[{key:y,kind:"message",body:'noteにいるTwitterの友達をみつけよう！Twitterアカウントの再連携で友達を探せます。<a href="/settings/account">再連携する</a>'}]:e.filter((e=>!this.$cookies.get(e.key)&&!this.closedMessageKeys.includes(e.key))):[]},showReconnectTwitterMessage(){return this.currentUser&&this.currentUser.reconnectTwitterSetting&&this.currentUser.isLinkedTwitter&&!this.$cookies.get(y)&&!this.closedMessageKeys.includes(y)},isNoteDetail(){return"urlname-n-key"===this.$route.name},isCreatorTop(){return Object(f.b)(this.$route,Boolean(this.$store.state.metadata.customDomain))}},methods:{close(e){this.closedMessageKeys.includes(e)||(this.$cookies.set(e,!0,{expires:new Date("Fri, 31 Dec 9999 23:59:59 GMT")}),this.closedMessageKeys.push(e))},showMessage(e){return!this.isNoteDetail&&!this.isCreatorTop||e}}}),_=Object(m.a)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.infoMessages,(function(t,i){return n("div",{key:t.key},[0===i&&e.showMessage(t.isDisplayedOnNoteDetail)?n("message-alert",{attrs:{"message-key":t.key,body:t.body,kind:t.kind},on:{close:function(n){return e.close(t.key)}}}):e._e()],1)})),0)}),[],!1,null,null,null).exports,M=n(31),k=n(322),E=r.a.extend({components:{ActivationMessage:h,InfoMessages:_},computed:{show(){return"follow_recommend"!==this.$route.name},showActivationMessage(){return this.currentUser&&!this.currentUser.emailConfirmedFlag},showInfoMessage(){return!/a-purchase/.test(this.$route.name)}},updated(){this.notifyContainerHeight()},mounted(){this.notifyContainerHeight()},methods:Object.assign(Object.assign({},Object(M.b)({setNavbarMessageHeight:k.NAVBAR_ACTION_TYPES.SET_NAVBAR_MESSAGE_HEIGHT})),{notifyContainerHeight(){this.$refs.container&&this.setNavbarMessageHeight(this.$refs.container.offsetHeight)}})}),S=Object(m.a)(E,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("div",{ref:"container"},[e.showActivationMessage?n("activation-message"):e.showInfoMessage?n("info-messages"):e._e()],1):e._e()}),[],!1,null,null,null);t.default=S.exports}}]);