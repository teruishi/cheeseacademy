(window.webpackJsonp=window.webpackJsonp||[]).push([[377],{1420:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));r(10),r(11),r(58),r(32),r(24),r(363);var n,o=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r},c=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class l{constructor(e){n.set(this,void 0),o(this,n,this.makeURL(this.deleteImageUrlParams(e)))}format(e){return c(this,n)instanceof URL&&c(this,n).searchParams.set("format",e),this}width(e){return c(this,n)instanceof URL&&c(this,n).searchParams.set("width","".concat(e)),this}height(e){return c(this,n)instanceof URL&&c(this,n).searchParams.set("height","".concat(e)),this}size(e,t){return c(this,n)instanceof URL&&(c(this,n).searchParams.set("width","".concat(e)),c(this,n).searchParams.set("height","".concat(t||e))),this}dpr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return c(this,n)instanceof URL&&c(this,n).searchParams.set("dpr","".concat(e)),this}quality(){var q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:85;return c(this,n)instanceof URL&&c(this,n).searchParams.set("quality","".concat(q)),this}crop(e){return c(this,n)instanceof URL&&c(this,n).searchParams.set("crop",e),this}fit(e){return c(this,n)instanceof URL&&c(this,n).searchParams.set("fit",e),this}toString(){return decodeURIComponent(c(this,n).toString())}makeURL(e){try{return new URL(e)}catch(t){if(t instanceof TypeError||"TypeError"===t.name)return e;throw t}}deleteImageUrlParams(e){return e.replace(/\?.*$/,"")}}n=new WeakMap},1475:function(e,t,r){"use strict";var n=r(3),o=r(365),c=n.a.extend({props:{datetime:{type:String,required:!0},format:{type:String,default:"YYYY年M月D日 HH:mm",required:!1}},computed:{displayTime(){return Object(o.b)(this.datetime,this.format)}}}),l=r(5),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("time",{attrs:{datetime:e.datetime}},[e._t("default"),e._v(e._s(e.displayTime))],2)}),[],!1,null,null,null);t.a=component.exports},1737:function(e,t,r){var content=r(1880);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("4f2e92e4",content,!0,{sourceMap:!1})},1826:function(e,t,r){"use strict";var n={},o=(r(1879),r(5)),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"m-confirmListItem"},[r("h1",{staticClass:"m-confirmListItem__title"},[e._t("header")],2),e._v(" "),r("div",{staticClass:"m-confirmListItem__body"},[e._t("body")],2)])}),[],!1,null,"147929ec",null);t.a=component.exports},1879:function(e,t,r){"use strict";r(1737)},1880:function(e,t,r){var n=r(12)((function(i){return i[1]}));n.push([e.i,".m-confirmListItem__title[data-v-147929ec]{margin-bottom:8px;font-size:var(--font-size-sm);color:var(--color-text-secondary)}.m-confirmListItem__body[data-v-147929ec]{font-weight:700}",""]),n.locals={},e.exports=n},2051:function(e,t,r){var content=r(2323);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("ca1bd3b8",content,!0,{sourceMap:!1})},2052:function(e,t,r){var content=r(2325);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("7cc0355f",content,!0,{sourceMap:!1})},2096:function(e,t,r){var n=r(52);e.exports=function(e){return n(e).getMonth()}},2097:function(e,t,r){var n=r(52);e.exports=function(e){return n(e).getFullYear()}},2214:function(e,t,r){var n=r(52);e.exports=function(e){return n(e).getDate()}},2299:function(e,t,r){var content=r(2652);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("1a78f512",content,!0,{sourceMap:!1})},2300:function(e,t,r){var content=r(2654);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("2a219841",content,!0,{sourceMap:!1})},2302:function(e,t,r){var content=r(2658);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("8eacd5b6",content,!0,{sourceMap:!1})},2303:function(e,t,r){var content=r(2660);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("3f122c42",content,!0,{sourceMap:!1})},2305:function(e,t,r){var content=r(2664);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("41944c4c",content,!0,{sourceMap:!1})},2306:function(e,t,r){var content=r(2666);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("113baf5f",content,!0,{sourceMap:!1})},2307:function(e,t,r){var content=r(2668);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("5d46856c",content,!0,{sourceMap:!1})},2308:function(e,t,r){var content=r(2670);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("2caf6aea",content,!0,{sourceMap:!1})},2309:function(e,t,r){var content=r(2672);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("4c362d07",content,!0,{sourceMap:!1})},2310:function(e,t,r){var content=r(2674);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("7602d350",content,!0,{sourceMap:!1})},2311:function(e,t,r){var content=r(2676);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("75de720e",content,!0,{sourceMap:!1})},2314:function(e,t,r){var content=r(2683);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("410c7e6b",content,!0,{sourceMap:!1})},2315:function(e,t,r){var content=r(2685);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("5cb74ab6",content,!0,{sourceMap:!1})},2322:function(e,t,r){"use strict";r(2051)},2323:function(e,t,r){var n=r(12)((function(i){return i[1]}));n.push([e.i,".m-basicModalContent[data-v-38e2f3bc]{position:relative;margin:56px auto;background:var(--color-surface-normal);border-radius:4px}@media only screen and (max-width:480px){.m-basicModalContent[data-v-38e2f3bc]{margin:8px auto 80px}}.m-basicModalContent__header[data-v-38e2f3bc]:not(:empty){padding:16px;font-size:var(--font-size-base);color:var(--color-text-primary);text-align:center;border-bottom:1px solid var(--color-border-default)}@media only screen and (max-width:480px){.m-basicModalContent__body[data-v-38e2f3bc]{width:100%}}.m-basicModalContent__body--height[data-v-38e2f3bc]{max-height:440px}@media only screen and (max-width:480px){.m-basicModalContent__body--height[data-v-38e2f3bc]{height:calc(100vh - 240px)}}.m-basicModalContent__body--scrollable[data-v-38e2f3bc]{max-height:440px;overflow-y:auto}@media only screen and (max-width:480px){.m-basicModalContent__body--scrollable[data-v-38e2f3bc]{max-height:calc(100vh - 240px)}}.m-basicModalContent__footer[data-v-38e2f3bc]{display:flex;align-items:center;justify-content:center;padding:16px;background-color:var(--color-background-secondary);border-top:1px solid var(--color-border-default);border-radius:0 0 4px 4px}.m-basicModalContent--size_small[data-v-38e2f3bc]{width:470px}@media only screen and (max-width:480px){.m-basicModalContent--size_small[data-v-38e2f3bc]{width:calc(100% - 16px)}}.m-basicModalContent--size_medium[data-v-38e2f3bc]{width:580px}@media only screen and (max-width:480px){.m-basicModalContent--size_medium[data-v-38e2f3bc]{width:calc(100% - 16px)}}.m-basicModalContent--size_large[data-v-38e2f3bc]{width:100%}@media only screen and (max-width:480px){.m-basicModalContent--size_large[data-v-38e2f3bc]{width:calc(100% - 16px)}}",""]),n.locals={},e.exports=n},2324:function(e,t,r){"use strict";r(2052)},2325:function(e,t,r){var n=r(12)((function(i){return i[1]}));n.push([e.i,".m-purchaseNoteGuestComplete__thanks[data-v-38e2f3bc]{padding:32px 40px}.m-purchaseNoteGuestComplete__thanksNum[data-v-38e2f3bc]{margin-bottom:16px;font-weight:700;text-align:center}.m-purchaseNoteGuestComplete__thanksMessage[data-v-38e2f3bc]{margin-bottom:8px;font-size:var(--font-size-sm);font-weight:700;color:var(--color-text-danger);text-align:center}.m-purchaseNoteGuestComplete__signup[data-v-38e2f3bc]{padding:32px 24px 24px;margin:0 16px 16px;background-color:var(--color-background-secondary);border:1px solid var(--color-border-default);border-radius:4px}.m-purchaseNoteGuestComplete__signupTitle[data-v-38e2f3bc]{margin-bottom:16px;font-size:var(--font-size-xl);font-weight:700;text-align:center}.m-purchaseNoteGuestComplete__signupDescription[data-v-38e2f3bc]{margin-bottom:24px;font-size:var(--font-size-sm)}.m-purchaseNoteGuestComplete__signupItem+.m-purchaseNoteGuestComplete__signupItem[data-v-38e2f3bc]{margin-top:24px}.m-purchaseNoteGuestComplete__signupItem__description[data-v-38e2f3bc]{font-size:var(--font-size-xs)}.m-purchaseNoteGuestComplete__signupName[data-v-38e2f3bc]{margin-bottom:8px;font-size:var(--font-size-sm);font-weight:700}.m-purchaseNoteGuestComplete__signupValue[data-v-38e2f3bc]{font-size:var(--font-size-sm)}.m-purchaseNoteGuestComplete__signupLink[data-v-38e2f3bc]{color:var(--color-custom-accent)}.m-purchaseNoteGuestComplete__mailsend[data-v-38e2f3bc]{padding:32px 40px;text-align:center}.m-purchaseNoteGuestComplete__attention[data-v-38e2f3bc]{font-size:var(--font-size-xs);color:var(--color-text-secondary);text-align:center}.m-purchaseNoteGuestComplete__privacyPolicyLink[data-v-38e2f3bc],.m-purchaseNoteGuestComplete__termsLink[data-v-38e2f3bc]{color:var(--color-text-secondary);text-decoration:underline}.m-purchaseNoteGuestComplete__privacyPolicyLink[data-v-38e2f3bc]:hover,.m-purchaseNoteGuestComplete__termsLink[data-v-38e2f3bc]:hover{color:var(--color-text-primary)}",""]),n.locals={},e.exports=n},2326:function(e,t,r){var content=r(2695);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("c4596b92",content,!0,{sourceMap:!1})},2327:function(e,t,r){var content=r(2697);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("14a78ced",content,!0,{sourceMap:!1})},2482:function(e,t,r){"use strict";var n=r(0),o=(r(68),r(32),r(15),r(3)),c=r(9),l=r(53),d=r(80),m=r(114),h=r(116),_=r(34),v=r(78),f=r(21),M=r(30),x=r(355),C=o.a.extend({components:{FormErrorList:d.a,FormInput:m.a,ModalHeading:h.a,NtButton:_.a,NtLinkFunctional:v.a},mixins:[M.a,x.a],props:{isModal:{type:Boolean,default:!1},registerCompleted:{type:Boolean,default:!1}},validations:{password:{required:l.required,minLength:Object(l.minLength)(c.user.password.minLength),maxLength:Object(l.maxLength)(c.user.password.maxLength),pattern:e=>RegExp("^[!-~]+$").test(e)},urlname:{required:l.required,minLength:Object(l.minLength)(c.user.urlname.minLength),maxLength:Object(l.maxLength)(c.user.urlname.maxLength),pattern:e=>RegExp("^[a-z0-9_]+$").test(e)}},data:()=>({nickname:"",password:"",urlname:"",isSubmitting:!1,apiErrorMsgForUrlname:""}),computed:{note(){return this.$store.state.purchase.note},guest(){return this.$store.state.purchase.guest},guestAuthorizationNumber(){return this.$store.state.modal.purchaseModalContainer.guestAuthorizationNumber},disabledSubmitBtn(){return this.isSubmitting||this.$v.$anyError||Boolean(this.apiErrorMsgForUrlname)},urlnameMinLength(){return this.$v.urlname.$params.minLength.min},urlnameMaxLength(){return this.$v.urlname.$params.maxLength.max},passwordMinLength(){return this.$v.password.$params.minLength.min},passwordMaxLength(){return this.$v.password.$params.maxLength.max}},methods:{init(){Object.assign(this.$data,{nickname:"",password:"",urlname:"",isSubmitting:!1,apiErrorMsgForUrlname:""}),this.sendPaywallLog(this.note.id,"Note",this.note.user.id)},register(){var e=this;return Object(n.a)((function*(){if(e.$v.$touch(),!e.$v.$invalid){e.isSubmitting=!0;try{var t=yield e.$store.dispatch(f.USER_ACTION_TYPES.SIGNUP,{email:e.guest.mail,card:e.guest.card,nickname:e.nickname,password:e.password,urlname:e.urlname});e.handleSignupResponse(t)}catch(t){alert(e.toApiErrorMessage(t.response))}e.isSubmitting=!1}}))()},handleSignupResponse(e){if(e.error)return["invalid_urlname","duplicate_urlname"].includes(e.error.code)&&(this.apiErrorMsgForUrlname=e.error.message),void alert(this.toApiErrorMessage(e.error));this.$emit("after-register")},handleAfterSignup(){this.$emit("close-after-signup")},close(){this.$emit("close-without-signup")},sendPaywallLog(e,t,r){this.$tracker.trackActionLogs([this.$tracker.buildActionLogRecord({kind:"note-detail-paywall-finish",contents:{target_id:e,target_type:t,creator_user_id:r,is_logged_in:this.isLoggedIn}})])}}}),y=(r(2322),r(2324),r(5)),component=Object(y.a)(C,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-purchaseNoteGuestComplete"},[e.registerCompleted?[r("div",{staticClass:"m-basicModalContent__header"},[e.isModal?r("modal-heading",{staticStyle:{display:"inline"}},[e._v("\n        ユーザー登録が完了しました\n      ")]):[e._v("\n        ユーザー登録が完了しました\n      ")]],2),e._v(" "),r("div",{staticClass:"m-purchaseNoteGuestComplete__mailsend"},[e._v("\n      ユーザー登録に関するメールが送信されました\n    ")]),e._v(" "),r("div",{staticClass:"m-basicModalContent__footer"},[r("nt-button",{attrs:{size:"small",type:"basic"},on:{click:function(t){return e.handleAfterSignup()}}},[e._v("\n        閉じる\n      ")])],1)]:[r("div",{staticClass:"m-basicModalContent__header"},[e.isModal?r("modal-heading",{staticStyle:{display:"inline"}},[e._v("\n        購入が完了しました\n      ")]):[e._v("\n        購入が完了しました\n      ")]],2),e._v(" "),r("div",{staticClass:"m-basicModalContent__body"},[r("div",{staticClass:"m-purchaseNoteGuestComplete__thanks"},[e._m(0),e._v(" "),r("div",{staticClass:"m-purchaseNoteGuestComplete__thanksNum"},[e._v("\n          オーダー番号："),r("span",[e._v(e._s(e.guestAuthorizationNumber))]),r("br"),e._v("\n          メールアドレス："),r("span",[e._v(e._s(e.guest.mail))])])]),e._v(" "),r("section",{staticClass:"m-purchaseNoteGuestComplete__signup"},[r("h1",{staticClass:"m-purchaseNoteGuestComplete__signupTitle"},[e._v("\n          もう一息で会員登録\n        ")]),e._v(" "),r("p",{staticClass:"m-purchaseNoteGuestComplete__signupDescription"},[e._v("\n          新作のお知らせを受け取ったり、購入した記事をnoteで読めるようになります。\n        ")]),e._v(" "),r("div",{staticClass:"m-purchaseNoteGuestComplete__signupItem"},[r("form-input",{attrs:{id:"password",required:!0,"has-error":e.$v.password.$error,type:"password",label:"パスワード",placeholder:""},on:{blur:function(t){return e.$v.password.$touch()}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}},[r("p",{staticClass:"m-purchaseNoteGuestComplete__signupItem__description",attrs:{slot:"description"},slot:"description"},[e._v("\n              "+e._s(e.passwordMinLength)+"文字以上の半角英数記号\n            ")]),e._v(" "),r("form-error-list",{directives:[{name:"show",rawName:"v-show",value:e.$v.password.$error,expression:"$v.password.$error"}],attrs:{slot:"errorMessage"},slot:"errorMessage"},[r("div",{directives:[{name:"show",rawName:"v-show",value:!e.$v.password.required,expression:"!$v.password.required"}]},[e._v("\n                パスワードは入力必須です。\n              ")]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.$v.password.minLength,expression:"!$v.password.minLength"}]},[e._v("\n                "+e._s(e.passwordMinLength)+" 文字以上で入力してください。\n              ")]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.$v.password.maxLength,expression:"!$v.password.maxLength"}]},[e._v("\n                "+e._s(e.passwordMaxLength)+" 文字以内で入力してください。\n              ")]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.$v.password.pattern,expression:"!$v.password.pattern"}]},[e._v("\n                パスワードは半角英数記号を入力してください。\n              ")])])],1)],1),e._v(" "),r("div",{staticClass:"m-purchaseNoteGuestComplete__signupItem"},[r("form-input",{attrs:{id:"nickname",required:!1,type:"text",label:"noteで表示される名前",placeholder:"noteさん"},on:{blur:function(t){return e.$v.urlname.$touch()}},model:{value:e.nickname,callback:function(t){e.nickname=t},expression:"nickname"}})],1),e._v(" "),r("div",{staticClass:"m-purchaseNoteGuestComplete__signupItem"},[r("form-input",{attrs:{id:"urlname",required:!0,"has-error":e.$v.urlname.$error,type:"text",label:"note ID（あなたのURLに使われます）",placeholder:"note_id"},on:{blur:function(t){return e.$v.urlname.$touch()},input:function(t){e.apiErrorMsgForUrlname=""}},model:{value:e.urlname,callback:function(t){e.urlname=t},expression:"urlname"}},[r("p",{staticClass:"m-purchaseNoteGuestComplete__signupItem__description",attrs:{slot:"description"},slot:"description"},[e._v("\n              "+e._s(e.urlnameMinLength)+"〜"+e._s(e.urlnameMaxLength)+"文字の半角英数字・_（アンダースコア）\n            ")]),e._v(" "),r("form-error-list",{directives:[{name:"show",rawName:"v-show",value:e.$v.urlname.$error||e.apiErrorMsgForUrlname,expression:"$v.urlname.$error || apiErrorMsgForUrlname"}],attrs:{slot:"errorMessage"},slot:"errorMessage"},[r("div",{directives:[{name:"show",rawName:"v-show",value:!e.$v.urlname.required,expression:"!$v.urlname.required"}]},[e._v("\n                note IDは入力必須です。\n              ")]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.$v.urlname.minLength||!e.$v.urlname.maxLength,expression:"!$v.urlname.minLength || !$v.urlname.maxLength"}]},[e._v("\n                "+e._s(e.urlnameMinLength)+"文字以上〜"+e._s(e.urlnameMaxLength)+"文字以内で入力してください。\n              ")]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.$v.urlname.pattern,expression:"!$v.urlname.pattern"}]},[e._v("\n                使用できるのは半角英数字（小文字）とアンダースコア(_)のみです。\n              ")]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.apiErrorMsgForUrlname,expression:"apiErrorMsgForUrlname"}]},[e._v("\n                "+e._s(e.apiErrorMsgForUrlname)+"\n              ")])])],1)],1),e._v(" "),r("div",{staticClass:"m-purchaseNoteGuestComplete__signupItem\n            m-purchaseNoteGuestComplete__attention"},[e._v("\n          会員登録には、\n          "),r("nt-link-functional",{staticClass:"m-purchaseNoteGuestComplete__termsLink",attrs:{href:e.$path.termsPath(),target:"_blank"}},[e._v("\n            利用規約\n          ")]),e._v("\n          と\n          "),r("nt-link-functional",{staticClass:"m-purchaseNoteGuestComplete__privacyPolicyLink",attrs:{href:"https://note.jp/n/nd65ead4182a6#b8d0587d-bfbc-4e7a-9e9e-ee7aacb88b3d",target:"_blank"}},[e._v("\n            プライバシーポリシー\n          ")]),e._v("\n          への同意が必要です。\n        ")],1),e._v(" "),r("div",{staticClass:"m-purchaseNoteGuestComplete__signupItem"},[r("nt-button",{attrs:{disabled:e.disabledSubmitBtn,type:"primary",size:"medium",width:"fit"},on:{click:function(t){return e.register()}}},[e._v("\n            登録する\n          ")])],1)])]),e._v(" "),r("div",{staticClass:"m-basicModalContent__footer"},[r("nt-button",{attrs:{disabled:e.isSubmitting,type:"basic",size:"small"},on:{click:function(t){return e.close()}}},[e._v("\n        閉じる\n      ")])],1)]],2)}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{staticClass:"m-purchaseNoteGuestComplete__thanksMessage"},[e._v("\n          ※下記のオーダー番号とメールアドレスをお控えください。"),r("br"),e._v("メールが届かなかった場合、照会が必要になります。\n        ")])}],!1,null,"38e2f3bc",null);t.a=component.exports},2484:function(e,t,r){"use strict";var n=r(3),o=r(93),c=n.a.extend({components:{NtSvgIcon:o.a},props:{benefitAppealTexts:{type:Array,required:!0},iconType:{type:String,default:"recommend"},size:{type:String,default:"medium"}},computed:{appealTexts(){return this.benefitAppealTexts.map((e=>void 0===(null==e?void 0:e.type)?{type:this.iconType,text:e}:e))},benefitListStyle(){return"small"===this.size?"gap-[0.125rem]":"gap-2"},benefitListItemStyle(){return"small"===this.size?"text-xs":"text-sm font-bold"}}}),l=r(5),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",{class:"m-BenefitAppealTexts flex flex-col "+e.benefitListStyle,attrs:{"aria-label":"特典一覧"}},e._l(e.appealTexts,(function(t,i){return r("li",{key:i,class:"flex items-start break-all "+e.benefitListItemStyle},[r("div",{staticClass:"mr-2 flex items-center justify-center"},[r("nt-svg-icon",{attrs:{"aria-hidden":"true",type:t.type}})],1),e._v(" "),r("span",{staticClass:"self-center"},[e._v("\n      "+e._s(t.text)+"\n    ")])])})),0)}),[],!1,null,null,null);t.a=component.exports},2651:function(e,t,r){"use strict";r(2299)},2652:function(e,t,r){var n=r(12)((function(i){return i[1]}));n.push([e.i,".m-basicModalContent[data-v-366aff22]{position:relative;margin:56px auto;background:var(--color-surface-normal);border-radius:4px}@media only screen and (max-width:480px){.m-basicModalContent[data-v-366aff22]{margin:8px auto 80px}}.m-basicModalContent__header[data-v-366aff22]:not(:empty){padding:16px;font-size:var(--font-size-base);color:var(--color-text-primary);text-align:center;border-bottom:1px solid var(--color-border-default)}@media only screen and (max-width:480px){.m-basicModalContent__body[data-v-366aff22]{width:100%}}.m-basicModalContent__body--height[data-v-366aff22]{max-height:440px}@media only screen and (max-width:480px){.m-basicModalContent__body--height[data-v-366aff22]{height:calc(100vh - 240px)}}.m-basicModalContent__body--scrollable[data-v-366aff22]{max-height:440px;overflow-y:auto}@media only screen and (max-width:480px){.m-basicModalContent__body--scrollable[data-v-366aff22]{max-height:calc(100vh - 240px)}}.m-basicModalContent__footer[data-v-366aff22]{display:flex;align-items:center;justify-content:center;padding:16px;background-color:var(--color-background-secondary);border-top:1px solid var(--color-border-default);border-radius:0 0 4px 4px}.m-basicModalContent--size_small[data-v-366aff22]{width:470px}@media only screen and (max-width:480px){.m-basicModalContent--size_small[data-v-366aff22]{width:calc(100% - 16px)}}.m-basicModalContent--size_medium[data-v-366aff22]{width:580px}@media only screen and (max-width:480px){.m-basicModalContent--size_medium[data-v-366aff22]{width:calc(100% - 16px)}}.m-basicModalContent--size_large[data-v-366aff22]{width:100%}@media only screen and (max-width:480px){.m-basicModalContent--size_large[data-v-366aff22]{width:calc(100% - 16px)}}",""]),n.locals={},e.exports=n},2653:function(e,t,r){"use strict";r(2300)},2654:function(e,t,r){var n=r(12)((function(i){return i[1]}));n.push([e.i,".m-purchaseCaution__item[data-v-366aff22]{margin-right:24px;margin-left:24px}@media only screen and (max-width:480px){.m-purchaseCaution__item[data-v-366aff22]{margin-right:16px;margin-left:16px}}.m-purchaseCaution__item+.m-purchaseCaution__item[data-v-366aff22]{margin-top:16px}.m-purchaseCaution__item--target[data-v-366aff22]{padding:16px 24px;margin-right:0;margin-left:0;background-color:var(--color-background-secondary)}@media only screen and (max-width:480px){.m-purchaseCaution__item--target[data-v-366aff22]{padding:16px}}.m-purchaseCaution__item--border[data-v-366aff22]{padding-top:16px;border-top:1px solid var(--color-border-default)}.m-purchaseCaution__helpLink[data-v-366aff22]{color:var(--color-text-clickable)}@media only screen and (min-width:769px){.m-purchaseCaution__helpLink[data-v-366aff22]{transition:all .2s cubic-bezier(1,0,0,1)}.m-purchaseCaution__helpLink[data-v-366aff22]:hover{color:var(--color-text-secondary)}}.m-purchaseCaution__text[data-v-366aff22]{padding:16px;font-size:var(--font-size-base);font-weight:700;line-height:1.5}",""]),n.locals={},e.exports=n},2657:function(e,t,r){"use strict";r(2302)},2658:function(e,t,r){var n=r(12)((function(i){return i[1]}));n.push([e.i,".m-basicModalContent[data-v-626e00c9]{position:relative;margin:56px auto;background:var(--color-surface-normal);border-radius:4px}@media only screen and (max-width:480px){.m-basicModalContent[data-v-626e00c9]{margin:8px auto 80px}}.m-basicModalContent__header[data-v-626e00c9]:not(:empty){padding:16px;font-size:var(--font-size-base);color:var(--color-text-primary);text-align:center;border-bottom:1px solid var(--color-border-default)}@media only screen and (max-width:480px){.m-basicModalContent__body[data-v-626e00c9]{width:100%}}.m-basicModalContent__body--height[data-v-626e00c9]{max-height:440px}@media only screen and (max-width:480px){.m-basicModalContent__body--height[data-v-626e00c9]{height:calc(100vh - 240px)}}.m-basicModalContent__body--scrollable[data-v-626e00c9]{max-height:440px;overflow-y:auto}@media only screen and (max-width:480px){.m-basicModalContent__body--scrollable[data-v-626e00c9]{max-height:calc(100vh - 240px)}}.m-basicModalContent__footer[data-v-626e00c9]{display:flex;align-items:center;justify-content:center;padding:16px;background-color:var(--color-background-secondary);border-top:1px solid var(--color-border-default);border-radius:0 0 4px 4px}.m-basicModalContent--size_small[data-v-626e00c9]{width:470px}@media only screen and (max-width:480px){.m-basicModalContent--size_small[data-v-626e00c9]{width:calc(100% - 16px)}}.m-basicModalContent--size_medium[data-v-626e00c9]{width:580px}@media only screen and (max-width:480px){.m-basicModalContent--size_medium[data-v-626e00c9]{width:calc(100% - 16px)}}.m-basicModalContent--size_large[data-v-626e00c9]{width:100%}@media only screen and (max-width:480px){.m-basicModalContent--size_large[data-v-626e00c9]{width:calc(100% - 16px)}}",""]),n.locals={},e.exports=n},2659:function(e,t,r){"use strict";r(2303)},2660:function(e,t,r){var n=r(12)((function(i){return i[1]}));n.push([e.i,"@media only screen and (max-width:480px){.m-purchaseSupportConfirm__contentTreatment[data-v-626e00c9]{margin-bottom:-60px!important}}.m-purchaseSupportConfirm__headerTreatment[data-v-626e00c9]{padding-left:8px!important;font-size:var(--font-size-xl)!important;font-weight:700;text-align:start!important;border-bottom:none!important}.m-purchaseSupportConfirm__footerTreatment[data-v-626e00c9]{display:flex;flex-direction:column;padding:16px 0}@media only screen and (max-width:480px){.m-purchaseSupportConfirm__footerTreatment[data-v-626e00c9]{position:fixed;bottom:0;left:0;z-index:1;width:100%;padding:16px 16px calc(16px + env(safe-area-inset-bottom))}}.m-purchaseSupportConfirm__coverTreatment[data-v-626e00c9]{padding:0 8px;margin-right:8px!important;margin-left:8px!important;border-radius:8px}@media only screen and (max-width:480px){.m-purchaseSupportConfirm__linkTreatment[data-v-626e00c9]{padding-top:24px;margin:0 8px;border-top:1px solid var(--color-border-default)}}.m-purchaseSupportConfirm__title[data-v-626e00c9]{margin-top:24px;margin-bottom:24px;font-size:var(--font-size-lg);font-weight:700;text-align:center}.m-purchaseSupportConfirm__avatar[data-v-626e00c9]{display:flex;justify-content:center;margin-top:24px;margin-bottom:24px}.m-purchaseSupportConfirm__item[data-v-626e00c9]{margin:24px}.m-purchaseSupportConfirm__item+.m-purchaseSupportConfirm__item[data-v-626e00c9]{padding-top:16px;margin-top:16px;border-top:1px solid var(--color-border-default)}.m-purchaseSupportConfirm__item--target[data-v-626e00c9]{padding:16px 24px;margin:0;background-color:var(--color-background-secondary)}.m-purchaseSupportConfirm__item--target+.m-purchaseSupportConfirm__item[data-v-626e00c9]{padding-top:0;border-top:0}.m-purchaseSupportConfirm__credit[data-v-626e00c9]{margin-bottom:8px}.m-purchaseSupportConfirm__count[data-v-626e00c9]{display:flex;justify-content:flex-end;font-size:var(--font-size-sm);color:var(--color-text-secondary)}.m-purchaseSupportConfirm__message[data-v-626e00c9]{white-space:pre-line}",""]),n.locals={},e.exports=n},2663:function(e,t,r){"use strict";r(2305)},2664:function(e,t,r){var n=r(12)((function(i){return i[1]}));n.push([e.i,".m-basicModalContent[data-v-f352f65c]{position:relative;margin:56px auto;background:var(--color-surface-normal);border-radius:4px}@media only screen and (max-width:480px){.m-basicModalContent[data-v-f352f65c]{margin:8px auto 80px}}.m-basicModalContent__header[data-v-f352f65c]:not(:empty){padding:16px;font-size:var(--font-size-base);color:var(--color-text-primary);text-align:center;border-bottom:1px solid var(--color-border-default)}@media only screen and (max-width:480px){.m-basicModalContent__body[data-v-f352f65c]{width:100%}}.m-basicModalContent__body--height[data-v-f352f65c]{max-height:440px}@media only screen and (max-width:480px){.m-basicModalContent__body--height[data-v-f352f65c]{height:calc(100vh - 240px)}}.m-basicModalContent__body--scrollable[data-v-f352f65c]{max-height:440px;overflow-y:auto}@media only screen and (max-width:480px){.m-basicModalContent__body--scrollable[data-v-f352f65c]{max-height:calc(100vh - 240px)}}.m-basicModalContent__footer[data-v-f352f65c]{display:flex;align-items:center;justify-content:center;padding:16px;background-color:var(--color-background-secondary);border-top:1px solid var(--color-border-default);border-radius:0 0 4px 4px}.m-basicModalContent--size_small[data-v-f352f65c]{width:470px}@media only screen and (max-width:480px){.m-basicModalContent--size_small[data-v-f352f65c]{width:calc(100% - 16px)}}.m-basicModalContent--size_medium[data-v-f352f65c]{width:580px}@media only screen and (max-width:480px){.m-basicModalContent--size_medium[data-v-f352f65c]{width:calc(100% - 16px)}}.m-basicModalContent--size_large[data-v-f352f65c]{width:100%}@media only screen and (max-width:480px){.m-basicModalContent--size_large[data-v-f352f65c]{width:calc(100% - 16px)}}",""]),n.locals={},e.exports=n},2665:function(e,t,r){"use strict";r(2306)},2666:function(e,t,r){var n=r(12)((function(i){return i[1]}));n.push([e.i,".m-purchaseSupportPaymentMethod__headerTreatment[data-v-f352f65c]{padding-left:8px!important;font-size:var(--font-size-xl)!important;font-weight:700;text-align:start!important;border-bottom:none!important}.m-purchaseSupportPaymentMethod__footerTreatment[data-v-f352f65c]{display:flex;flex-direction:column;padding:16px 0}@media only screen and (max-width:480px){.m-purchaseSupportPaymentMethod__footerTreatment[data-v-f352f65c]{position:fixed;bottom:0;left:0;z-index:1;width:100%;padding:16px 16px calc(16px + env(safe-area-inset-bottom))}}.m-purchaseSupportPaymentMethod__carrier[data-v-f352f65c]{width:100%;margin:24px 0 24px 32px}.m-purchaseSupportPaymentMethod__about[data-v-f352f65c]{margin-top:24px}.m-purchaseSupportPaymentMethod__helpCarrier[data-v-f352f65c]{font-size:var(--font-size-sm);color:var(--color-text-secondary);text-decoration:underline}@media only screen and (min-width:769px){.m-purchaseSupportPaymentMethod__helpCarrier[data-v-f352f65c]:hover{color:var(--color-text-primary)}}.m-purchaseSupportPaymentMethod__item[data-v-f352f65c]{display:flex;flex-wrap:wrap;align-items:center}.m-purchaseSupportPaymentMethod__item+.m-purchaseSupportPaymentMethod__item[data-v-f352f65c]{padding-top:16px;margin-top:16px;border-top:1px solid var(--color-border-default)}.m-purchaseSupportPaymentMethod__itemInner--help[data-v-f352f65c]{margin-left:8px;line-height:1}.m-purchaseSupportPaymentMethod__helpLink[data-v-f352f65c]{display:inline-block;width:24px;height:24px;color:var(--color-text-clickable);vertical-align:middle}@media only screen and (min-width:769px){.m-purchaseSupportPaymentMethod__helpLink[data-v-f352f65c]{transition:all .2s cubic-bezier(1,0,0,1)}.m-purchaseSupportPaymentMethod__helpLink[data-v-f352f65c]:hover{color:var(--color-text-secondary)}}.m-purchaseSupportPaymentMethod__body[data-v-f352f65c]{margin:24px}",""]),n.locals={},e.exports=n},2667:function(e,t,r){"use strict";r(2307)},2668:function(e,t,r){var n=r(12)((function(i){return i[1]}));n.push([e.i,".m-couponForm__body[data-v-039a6944]{display:flex;align-items:center;justify-content:space-between}.m-couponForm__submit[data-v-039a6944]{margin-left:8px}",""]),n.locals={},e.exports=n},2669:function(e,t,r){"use strict";r(2308)},2670:function(e,t,r){var n=r(12)((function(i){return i[1]}));n.push([e.i,".m-basicModalContent[data-v-2713ce64]{position:relative;margin:56px auto;background:var(--color-surface-normal);border-radius:4px}@media only screen and (max-width:480px){.m-basicModalContent[data-v-2713ce64]{margin:8px auto 80px}}.m-basicModalContent__header[data-v-2713ce64]:not(:empty){padding:16px;font-size:var(--font-size-base);color:var(--color-text-primary);text-align:center;border-bottom:1px solid var(--color-border-default)}@media only screen and (max-width:480px){.m-basicModalContent__body[data-v-2713ce64]{width:100%}}.m-basicModalContent__body--height[data-v-2713ce64]{max-height:440px}@media only screen and (max-width:480px){.m-basicModalContent__body--height[data-v-2713ce64]{height:calc(100vh - 240px)}}.m-basicModalContent__body--scrollable[data-v-2713ce64]{max-height:440px;overflow-y:auto}@media only screen and (max-width:480px){.m-basicModalContent__body--scrollable[data-v-2713ce64]{max-height:calc(100vh - 240px)}}.m-basicModalContent__footer[data-v-2713ce64]{display:flex;align-items:center;justify-content:center;padding:16px;background-color:var(--color-background-secondary);border-top:1px solid var(--color-border-default);border-radius:0 0 4px 4px}.m-basicModalContent--size_small[data-v-2713ce64]{width:470px}@media only screen and (max-width:480px){.m-basicModalContent--size_small[data-v-2713ce64]{width:calc(100% - 16px)}}.m-basicModalContent--size_medium[data-v-2713ce64]{width:580px}@media only screen and (max-width:480px){.m-basicModalContent--size_medium[data-v-2713ce64]{width:calc(100% - 16px)}}.m-basicModalContent--size_large[data-v-2713ce64]{width:100%}@media only screen and (max-width:480px){.m-basicModalContent--size_large[data-v-2713ce64]{width:calc(100% - 16px)}}",""]),n.locals={},e.exports=n},2671:function(e,t,r){"use strict";r(2309)},2672:function(e,t,r){var n=r(12)((function(i){return i[1]}));n.push([e.i,".m-purchaseSubscribeMagazine__headerTreatment[data-v-2713ce64]{padding-left:8px!important;font-size:var(--font-size-xl)!important;font-weight:700;text-align:start!important;border-bottom:none!important}.m-purchaseSubscribeMagazine__footerTreatment[data-v-2713ce64]{display:flex;flex-direction:column;padding:16px 0}@media only screen and (max-width:480px){.m-purchaseSubscribeMagazine__footerTreatment[data-v-2713ce64]{position:fixed;bottom:0;left:0;z-index:1;width:100%;padding:16px 16px calc(16px + env(safe-area-inset-bottom))}}.m-purchaseSubscribeMagazine__helpSupport[data-v-2713ce64]{color:var(--color-text-clickable)}@media only screen and (min-width:769px){.m-purchaseSubscribeMagazine__helpSupport[data-v-2713ce64]{transition:color .2s cubic-bezier(1,0,0,1)}.m-purchaseSubscribeMagazine__helpSupport[data-v-2713ce64]:hover{color:var(--color-text-secondary)}}.m-purchaseSubscribeMagazine__item[data-v-2713ce64]{margin:16px}.m-purchaseSubscribeMagazine__item--strong[data-v-2713ce64]{padding:24px 48px;background-color:var(--color-background-secondary);border:1px solid var(--color-border-default);border-radius:4px}@media only screen and (max-width:480px){.m-purchaseSubscribeMagazine__item--strong[data-v-2713ce64]{padding:16px}}.m-purchaseSubscribeMagazine__coupon[data-v-2713ce64]{margin-top:8px;margin-left:96px;font-size:var(--font-size-sm);color:var(--color-custom-accent)}@media only screen and (max-width:480px){.m-purchaseSubscribeMagazine__coupon[data-v-2713ce64]{margin-left:88px}}.m-purchaseSubscribeMagazine__alert[data-v-2713ce64]{font-size:var(--font-size-xs);font-weight:700;color:var(--color-text-danger);text-align:center}.m-purchaseSubscribeMagazine__message[data-v-2713ce64]{font-size:var(--font-size-sm);text-align:center}.m-purchaseSubscribeMagazine__date[data-v-2713ce64]{margin-bottom:8px;font-size:var(--font-size-xl);font-weight:700;text-align:center}.m-purchaseSubscribeMagazine__dateSub[data-v-2713ce64]{display:inline;font-size:var(--font-size-xs);font-weight:400}.m-purchaseSubscribeMagazine__dateMore[data-v-2713ce64]{font-size:var(--font-size-xs);font-weight:400;color:var(--color-text-secondary);text-align:center}.m-purchaseSubscribeMagazine__price[data-v-2713ce64]{margin-bottom:8px;font-size:var(--font-size-xl);font-weight:700;text-align:center}.m-purchaseSubscribeMagazine__priceSub[data-v-2713ce64]{display:inline;font-size:var(--font-size-xs);font-weight:400}.m-purchaseSubscribeMagazine__select[data-v-2713ce64]{margin-top:16px}.m-purchaseSubscribeMagazine__carrier[data-v-2713ce64]{padding:16px;margin-top:16px;background-color:var(--color-surface-normal);border-radius:4px}.m-purchaseSubscribeMagazine__carrierItem+.m-purchaseSubscribeMagazine__carrierItem[data-v-2713ce64]{margin-top:8px}.m-purchaseSubscribeMagazine__attention[data-v-2713ce64]{margin-top:16px}.m-purchaseSubscribeMagazine__attentionItem[data-v-2713ce64]{display:flex;align-content:center}.m-purchaseSubscribeMagazine__attentionItem+.m-purchaseSubscribeMagazine__attentionItem[data-v-2713ce64]{margin-top:8px}.m-purchaseSubscribeMagazine__attentionIcon[data-v-2713ce64]{flex:0 0 auto;margin-right:8px;line-height:1.5;color:var(--color-custom-accent)}.m-purchaseSubscribeMagazine__cautionIcon[data-v-2713ce64]{flex:0 0 auto;margin-right:8px;line-height:1.5;color:var(--color-text-caution)}.m-purchaseSubscribeMagazine__attentionText[data-v-2713ce64]{width:100%;font-size:var(--font-size-xs);font-weight:700;line-height:1.5;color:var(--color-text-secondary)}",""]),n.locals={},e.exports=n},2673:function(e,t,r){"use strict";r(2310)},2674:function(e,t,r){var n=r(12)((function(i){return i[1]}));n.push([e.i,".m-basicModalContent[data-v-9d9e1dce]{position:relative;margin:56px auto;background:var(--color-surface-normal);border-radius:4px}@media only screen and (max-width:480px){.m-basicModalContent[data-v-9d9e1dce]{margin:8px auto 80px}}.m-basicModalContent__header[data-v-9d9e1dce]:not(:empty){padding:16px;font-size:var(--font-size-base);color:var(--color-text-primary);text-align:center;border-bottom:1px solid var(--color-border-default)}@media only screen and (max-width:480px){.m-basicModalContent__body[data-v-9d9e1dce]{width:100%}}.m-basicModalContent__body--height[data-v-9d9e1dce]{max-height:440px}@media only screen and (max-width:480px){.m-basicModalContent__body--height[data-v-9d9e1dce]{height:calc(100vh - 240px)}}.m-basicModalContent__body--scrollable[data-v-9d9e1dce]{max-height:440px;overflow-y:auto}@media only screen and (max-width:480px){.m-basicModalContent__body--scrollable[data-v-9d9e1dce]{max-height:calc(100vh - 240px)}}.m-basicModalContent__footer[data-v-9d9e1dce]{display:flex;align-items:center;justify-content:center;padding:16px;background-color:var(--color-background-secondary);border-top:1px solid var(--color-border-default);border-radius:0 0 4px 4px}.m-basicModalContent--size_small[data-v-9d9e1dce]{width:470px}@media only screen and (max-width:480px){.m-basicModalContent--size_small[data-v-9d9e1dce]{width:calc(100% - 16px)}}.m-basicModalContent--size_medium[data-v-9d9e1dce]{width:580px}@media only screen and (max-width:480px){.m-basicModalContent--size_medium[data-v-9d9e1dce]{width:calc(100% - 16px)}}.m-basicModalContent--size_large[data-v-9d9e1dce]{width:100%}@media only screen and (max-width:480px){.m-basicModalContent--size_large[data-v-9d9e1dce]{width:calc(100% - 16px)}}",""]),n.locals={},e.exports=n},2675:function(e,t,r){"use strict";r(2311)},2676:function(e,t,r){var n=r(12)((function(i){return i[1]}));n.push([e.i,".m-subscribeMembershipPlanModal__headerTreatment[data-v-9d9e1dce]{padding-left:8px!important;font-size:var(--font-size-xl)!important;font-weight:700;text-align:start!important;border-bottom:none!important}.m-subscribeMembershipPlanModal__bodyTreatment[data-v-9d9e1dce]{max-height:100%!important}.m-subscribeMembershipPlanModal__footerTreatment[data-v-9d9e1dce]{display:flex;flex-direction:column;padding:16px 0}@media only screen and (max-width:480px){.m-subscribeMembershipPlanModal__footerTreatment[data-v-9d9e1dce]{position:fixed;bottom:0;left:0;z-index:1;width:100%;padding:16px 16px calc(16px + env(safe-area-inset-bottom))}}.m-subscribeMembershipPlanModal__title[data-v-9d9e1dce]{font-weight:700}.m-subscribeMembershipPlanModal__body[data-v-9d9e1dce]{max-height:calc(100vh - 388px);max-height:calc(100svh - 332px);overflow:auto}@media only screen and (max-width:480px){.m-subscribeMembershipPlanModal__body[data-v-9d9e1dce]{max-height:calc(100vh - 308px);max-height:calc(100svh - 252px);overflow:auto}}.m-subscribeMembershipPlanModal__detail[data-v-9d9e1dce]{padding:24px}.m-subscribeMembershipPlanModal__card[data-v-9d9e1dce]{position:relative;width:300px;margin:0 auto 24px;overflow:hidden;border-radius:4%/7.1%;box-shadow:var(--elevation-4)}.m-subscribeMembershipPlanModal__cardInner[data-v-9d9e1dce]{position:relative;height:0;padding-bottom:56.25%}.m-subscribeMembershipPlanModal__cardImg[data-v-9d9e1dce]{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;background:var(--color-gray-500);object-fit:cover}.m-subscribeMembershipPlanModal__section[data-v-9d9e1dce]{margin-bottom:24px}.m-subscribeMembershipPlanModal__section[data-v-9d9e1dce]:last-child{margin-bottom:0}.m-subscribeMembershipPlanModal__agreement[data-v-9d9e1dce]{padding:16px 24px}.m-subscribeMembershipPlanModal__agreementForm~.m-subscribeMembershipPlanModal__agreementForm[data-v-9d9e1dce]{margin-top:8px}.m-subscribeMembershipPlanModal__heading[data-v-9d9e1dce]{margin-bottom:8px;font-size:var(--font-size-base);font-weight:700}.m-subscribeMembershipPlanModal__description[data-v-9d9e1dce]{font-size:var(--font-size-sm)}.m-subscribeMembershipPlanModal__paymentLabel[data-v-9d9e1dce]{margin-top:8px;font-size:var(--font-size-sm)}.m-subscribeMembershipPlanModal__defaultBenefitList[data-v-9d9e1dce]{margin-bottom:16px}.m-subscribeMembershipPlanModal__benefitItem[data-v-9d9e1dce]{font-size:var(--font-size-sm)}.m-subscribeMembershipPlanModal__benefitItem+.m-subscribeMembershipPlanModal__benefitItem[data-v-9d9e1dce]{margin-top:8px}.m-subscribeMembershipPlanModal__benefitTitle[data-v-9d9e1dce]{display:flex;align-items:center;font-weight:700}.m-subscribeMembershipPlanModal__benefitIcon[data-v-9d9e1dce]{display:flex;align-items:center;justify-content:center;margin-right:8px}.m-subscribeMembershipPlanModal__benefitDescription[data-v-9d9e1dce]{margin:8px 0}.m-subscribeMembershipPlanModal__badgeList[data-v-9d9e1dce]{display:flex;gap:8px}.m-subscribeMembershipPlanModal__unsubscribeButton[data-v-9d9e1dce]{margin-right:auto}.m-subscribeMembershipPlanModal__footer[data-v-9d9e1dce]{background-color:var(--color-background-secondary)}.m-subscribeMembershipPlanModal__attention[data-v-9d9e1dce]{margin:0 24px 16px;font-size:var(--font-size-xs);text-align:right}.m-subscribeMembershipPlanModal__attentionLink[data-v-9d9e1dce]{color:var(--color-text-secondary);text-decoration:underline}.m-subscribeMembershipPlanModal__attentionLink[data-v-9d9e1dce]:hover{color:var(--color-text-primary)}",""]),n.locals={},e.exports=n},2681:function(e,t,r){var map={"./bg_support_01.png":623,"./bg_support_02.png":624,"./bg_support_03.png":625,"./bg_support_04.png":626};function n(e){var t=o(e);return r(t)}function o(e){if(!r.o(map,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return map[e]}n.keys=function(){return Object.keys(map)},n.resolve=o,e.exports=n,n.id=2681},2682:function(e,t,r){"use strict";r(2314)},2683:function(e,t,r){var n=r(12)((function(i){return i[1]}));n.push([e.i,".m-basicModalContent[data-v-1095997c]{position:relative;margin:56px auto;background:var(--color-surface-normal);border-radius:4px}@media only screen and (max-width:480px){.m-basicModalContent[data-v-1095997c]{margin:8px auto 80px}}.m-basicModalContent__header[data-v-1095997c]:not(:empty){padding:16px;font-size:var(--font-size-base);color:var(--color-text-primary);text-align:center;border-bottom:1px solid var(--color-border-default)}@media only screen and (max-width:480px){.m-basicModalContent__body[data-v-1095997c]{width:100%}}.m-basicModalContent__body--height[data-v-1095997c]{max-height:440px}@media only screen and (max-width:480px){.m-basicModalContent__body--height[data-v-1095997c]{height:calc(100vh - 240px)}}.m-basicModalContent__body--scrollable[data-v-1095997c]{max-height:440px;overflow-y:auto}@media only screen and (max-width:480px){.m-basicModalContent__body--scrollable[data-v-1095997c]{max-height:calc(100vh - 240px)}}.m-basicModalContent__footer[data-v-1095997c]{display:flex;align-items:center;justify-content:center;padding:16px;background-color:var(--color-background-secondary);border-top:1px solid var(--color-border-default);border-radius:0 0 4px 4px}.m-basicModalContent--size_small[data-v-1095997c]{width:470px}@media only screen and (max-width:480px){.m-basicModalContent--size_small[data-v-1095997c]{width:calc(100% - 16px)}}.m-basicModalContent--size_medium[data-v-1095997c]{width:580px}@media only screen and (max-width:480px){.m-basicModalContent--size_medium[data-v-1095997c]{width:calc(100% - 16px)}}.m-basicModalContent--size_large[data-v-1095997c]{width:100%}@media only screen and (max-width:480px){.m-basicModalContent--size_large[data-v-1095997c]{width:calc(100% - 16px)}}",""]),n.locals={},e.exports=n},2684:function(e,t,r){"use strict";r(2315)},2685:function(e,t,r){var n=r(12)((function(i){return i[1]}));n.push([e.i,'.m-purchaseSupport__footerTreatment[data-v-1095997c]{display:flex;flex-direction:column;padding:16px 0}@media only screen and (max-width:480px){.m-purchaseSupport__footerTreatment[data-v-1095997c]{position:fixed;bottom:0;left:0;z-index:1;width:100%;padding:16px 16px calc(16px + env(safe-area-inset-bottom))}}.m-purchaseSupport__inner[data-v-1095997c]{margin:24px}.m-purchaseSupport__cover[data-v-1095997c]{padding:24px 48px;background-position:50%;background-size:cover}.m-purchaseSupport__balloon[data-v-1095997c]{position:relative;width:100%;padding:8px 16px;margin-bottom:16px;background-color:var(--color-surface-normal);border-radius:4px}.m-purchaseSupport__balloon[data-v-1095997c]:before{position:absolute;bottom:-6px;left:50%;width:12px;height:12px;content:"";background-color:inherit;transform:translate(-50%) rotate(45deg)}.m-purchaseSupport__balloonInner[data-v-1095997c]{display:-webkit-box;overflow:hidden;font-size:var(--font-size-xs);line-height:1.5;-webkit-box-orient:vertical;-webkit-line-clamp:4}.m-purchaseSupport__title[data-v-1095997c]{font-size:var(--font-size-xs);font-weight:700;text-align:center}.m-purchaseSupport__link[data-v-1095997c]{display:block;font-size:var(--font-size-xs);color:var(--color-text-secondary);text-align:center;text-decoration:underline}@media only screen and (min-width:769px){.m-purchaseSupport__link[data-v-1095997c]:hover{color:var(--color-text-primary)}}.m-purchaseSupport__avatar[data-v-1095997c]{display:flex;justify-content:center;margin-bottom:16px}.m-purchaseSupport__item[data-v-1095997c]{position:relative}.m-purchaseSupport__item+.m-purchaseSupport__item[data-v-1095997c]{margin-top:24px}.m-purchaseSupport__help[data-v-1095997c]{position:absolute;top:0;right:0;display:flex;align-items:center;line-height:1.5;color:var(--color-text-primary)}.m-purchaseSupport__helpText[data-v-1095997c]{margin-right:4px;font-size:var(--font-size-xs)}',""]),n.locals={},e.exports=n},2694:function(e,t,r){"use strict";r(2326)},2695:function(e,t,r){var n=r(12)((function(i){return i[1]}));n.push([e.i,".m-basicModalContent[data-v-b5475266]{position:relative;margin:56px auto;background:var(--color-surface-normal);border-radius:4px}@media only screen and (max-width:480px){.m-basicModalContent[data-v-b5475266]{margin:8px auto 80px}}.m-basicModalContent__header[data-v-b5475266]:not(:empty){padding:16px;font-size:var(--font-size-base);color:var(--color-text-primary);text-align:center;border-bottom:1px solid var(--color-border-default)}@media only screen and (max-width:480px){.m-basicModalContent__body[data-v-b5475266]{width:100%}}.m-basicModalContent__body--height[data-v-b5475266]{max-height:440px}@media only screen and (max-width:480px){.m-basicModalContent__body--height[data-v-b5475266]{height:calc(100vh - 240px)}}.m-basicModalContent__body--scrollable[data-v-b5475266]{max-height:440px;overflow-y:auto}@media only screen and (max-width:480px){.m-basicModalContent__body--scrollable[data-v-b5475266]{max-height:calc(100vh - 240px)}}.m-basicModalContent__footer[data-v-b5475266]{display:flex;align-items:center;justify-content:center;padding:16px;background-color:var(--color-background-secondary);border-top:1px solid var(--color-border-default);border-radius:0 0 4px 4px}.m-basicModalContent--size_small[data-v-b5475266]{width:470px}@media only screen and (max-width:480px){.m-basicModalContent--size_small[data-v-b5475266]{width:calc(100% - 16px)}}.m-basicModalContent--size_medium[data-v-b5475266]{width:580px}@media only screen and (max-width:480px){.m-basicModalContent--size_medium[data-v-b5475266]{width:calc(100% - 16px)}}.m-basicModalContent--size_large[data-v-b5475266]{width:100%}@media only screen and (max-width:480px){.m-basicModalContent--size_large[data-v-b5475266]{width:calc(100% - 16px)}}",""]),n.locals={},e.exports=n},2696:function(e,t,r){"use strict";r(2327)},2697:function(e,t,r){var n=r(12)((function(i){return i[1]}));n.push([e.i,".m-purchaseNoteGuestConfirm__item[data-v-b5475266]{margin:24px}.m-purchaseNoteGuestConfirm__item+.m-purchaseNoteGuestConfirm__item[data-v-b5475266]{padding-top:16px;margin-top:16px;border-top:1px solid var(--color-border-default)}.m-purchaseNoteGuestConfirm__item--target[data-v-b5475266]{padding:16px 24px;margin:0;background-color:var(--color-background-secondary)}.m-purchaseNoteGuestConfirm__item--target+.m-purchaseNoteGuestConfirm__item[data-v-b5475266]{padding-top:0;border-top:0}.m-purchaseNoteGuestConfirm__link[data-v-b5475266]{color:var(--color-custom-accent)}",""]),n.locals={},e.exports=n},2874:function(e,t,r){"use strict";var n=r(0),o=(r(15),r(3)),c=r(16),l=r(9),d=r(245),m=r(355),h=r(30),_=r(188),v=r(638),f=r(47),M=r(1419),x=r(34),C=r(26),y=r(1475),w=r(1763),S=r(78),P=r(189),k=r(80),z=function(){var e=Object(n.a)((function*(e,option){yield e.trackActionLogs([e.buildActionLogRecord({kind:"subscribe-by-coupon",contents:{action:option.action,key:option.key}})])}));return function(t,r){return e.apply(this,arguments)}}(),$=o.a.extend({components:{NtLinkFunctional:S.a,NtButton:x.a,NtInput:P.a,FormErrorList:k.a},props:{magazine:{type:Object,default:()=>({})}},data:()=>({usingCoupon:!1,couponApplied:!1,couponCode:"",couponErrorMessage:""}),mounted(){z(this.$tracker,{action:"imp",key:this.magazine.key})},methods:{apply(){this.couponCode?this.$emit("apply",this.couponCode):this.$emit("invalid","クーポンコードを入力してください。")},handleClickUsingCoupon(){this.usingCoupon=!0,z(this.$tracker,{action:"click",key:this.magazine.key})}}}),T=(r(2667),r(5)),N=Object(T.a)($,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-couponForm"},[e.usingCoupon?e._e():r("div",{staticClass:"m-couponForm__use"},[r("button",{attrs:{type:"button"},on:{click:e.handleClickUsingCoupon}},[e._v("\n      クーポンを使用する\n    ")])]),e._v(" "),e.usingCoupon&&!e.couponApplied?r("div",[r("div",{staticClass:"m-couponForm__body"},[r("nt-input",{attrs:{id:"couponCode",placeholder:"クーポンコード",type:"text",width:"fit"},model:{value:e.couponCode,callback:function(t){e.couponCode="string"==typeof t?t.trim():t},expression:"couponCode"}}),e._v(" "),r("nt-button",{staticClass:"m-couponForm__submit",attrs:{type:"primary"},on:{click:e.apply}},[e._v("\n        適用\n      ")])],1),e._v(" "),e.couponErrorMessage?r("form-error-list",[r("div",[e._v(e._s(e.couponErrorMessage))])]):e._e(),e._v(" "),r("div",[r("nt-link-functional",{attrs:{href:"https://help-note.com/hc/ja/articles/4406551600921",target:"_blank"}},[e._v("\n        クーポンの詳しい使用方法\n      ")])],1)],1):e._e()])}),[],!1,null,"039a6944",null).exports,E=r(190),I=r(358),L=r(378),A=r(246),F=r(116),O=r(1937),B=r(1493),G=r(2214),U=r.n(G),j=r(237),R=r.n(j),D=r(232),Y=r.n(D),H=r(2097),K=r.n(H),W=r(2096),V=r.n(W),J=new Date,Q=()=>{var e=K()(J),t=V()(J)+1;return"".concat(e,"年").concat(t,"月")},X=()=>{return"".concat((t=U()(R()(J)),"".concat(Q()).concat(t,"日")),"から").concat((e=U()(Y()(J)),"".concat(Q()).concat(e,"日")),"まで無料");var e,t},Z=r(1526),ee=[{id:"creditcard",value:"クレジットカードでお支払い"},{id:"carrier",value:"スマホの料金と一緒にお支払い"}],te=o.a.extend({components:{NtLink:f.a,NtCurrency:M.a,NtButton:x.a,NtIcon:C.default,NtTime:y.a,PurchaseCover:w.a,CouponForm:N,FormCheckbox:E.a,FormSelect:I.a,FormRadio:L.a,FormErrorList:k.a,ModalFooterButtonGroup:A.a,ModalHeading:F.a,PurchaseConfirmLink:O.a},mixins:[h.a,m.a,d.a,Z.a],props:{isModal:{type:Boolean,default:!1},placeType:{type:String,default:"purchase-subscribe-magazine-modal"}},data:()=>({paymentMethod:"creditcard",carrierPaymentMethod:"monthly_docomo",apiError:null,isSubmitting:!1,couponErrorMessage:""}),computed:{via(){return this.$store.state.modal.purchaseModalContainer.via},magazine(){return this.$store.state.purchase.magazine},appliedCoupon(){return this.$store.state.coupon.appliedCoupon},isCouponApplied(){return!!this.appliedCoupon},coverUrl(){var e,t,r=(null===(e=this.magazine)||void 0===e?void 0:e.coverLandscapeSp)||(null===(t=this.magazine)||void 0===t?void 0:t.cover);return this.$options.filters.defaultRenewMagazineCover(r)},showFirstMonthFree(){var e;return"creditcard"===this.paymentMethod&&("first_month_free"===(null===(e=this.magazine.subscriptionInfo)||void 0===e?void 0:e.option)&&!this.isCouponApplied)},showSubscribeButton(){return!("creditcard"===this.paymentMethod&&!this.currentUser.canCheckout)},subscribeButtonLabel(){return"creditcard"===this.paymentMethod?"購読する":"monthly_docomo"===this.carrierPaymentMethod?l.paymentButtonLabels.docomo:"monthly_au"===this.carrierPaymentMethod?l.paymentButtonLabels.au:l.paymentButtonLabels.softbank},conversionKind(){return this.$store.state.purchase.conversionKind},conversionContentId(){return this.$store.state.purchase.conversionContentId},showWithFollow(){return void 0!==this.magazine.user.id&&(!this.magazine.user.isFollowing&&this.showSubscribeButton)},isCarrier(){return"carrier"===this.paymentMethod},authorName(){return this.magazine.user.nickname||this.magazine.user.urlname},isCouponUsable(){return this.magazine.hasCoupon&&!this.appliedCoupon},subscribableMonth:()=>Q(),freeMonthPeriod:()=>X(),couponFreePeriodMessage(){var e;return"first_month_free"===(null===(e=this.magazine.subscriptionInfo)||void 0===e?void 0:e.option)?"このマガジンの初月無料とクーポンの併用のため":"クーポン利用のため"},contentAuthor(){return this.$store.state.purchase.creator}},mounted(){Object(B.c)(this.$tracker,{kind:B.a.cv_purchasing_process,action:"imp",contentType:"Magazine",contentKey:this.magazine.key,placeType:this.placeType,purchaseType:"subscription",experiment_info:{purchase_confirm_button:{group_name:this.purchaseConfirmButtonGroupName}}})},methods:Object.assign(Object.assign(Object.assign({},h.a.methods),m.a.methods),{init(){Object.assign(this.$data,{paymentMethod:"creditcard",carrierPaymentMethod:"monthly_docomo",apiError:null,isSubmitting:!1,couponErrorMessage:""}),"creditCardInput"!==this.via&&this.$store.commit(v.COUPON_MUTATION_TYPES.RESET_STATE)},selectablePaymentMethods(){return this.appliedCoupon?(this.paymentMethod="creditcard",ee.filter((e=>"creditcard"===e.id))):ee},setWithFollow(e){this.withFollow=e},applyCoupon(e){var t=this;return Object(n.a)((function*(){t.couponErrorMessage="",t.isSubmitting=!0,yield t.$store.dispatch(v.COUPON_ACTION_TYPES.APPLY_COUPON,{couponCode:e,magazineKey:t.magazine.key});var r=t.$store.state.coupon.errored;r?400===r.status?t.couponErrorMessage="マガジンが存在しません。":404===r.status?t.couponErrorMessage="クーポンコードに誤りがあります。クーポンコードをご確認ください。":406===r.status?t.couponErrorMessage="有効期限外のクーポンです。クーポンの有効期限をご確認ください。":409===r.status?t.couponErrorMessage="入力したクーポンコードは既に使用済みです。":t.couponErrorMessage=r.data.error:yield z(t.$tracker,{action:"accepted",key:t.magazine.key}),t.isSubmitting=!1}))()},invalidCoupon(e){this.couponErrorMessage=e},subscribe(){var e=this;return Object(n.a)((function*(){var t="creditcard"===e.paymentMethod?e.paymentMethod:e.carrierPaymentMethod;e.isSubmitting=!0,yield e.$store.dispatch(_.PURCHASE_ACTION_TYPES.SUBSCRIBE_MAGAZINE,{paymentMethod:t,magazine:e.magazine,isCouponApplied:e.isCouponApplied,conversionKind:e.conversionKind,conversionContentId:e.conversionContentId,returnUrl:e.isModal?null:"".concat(l.defaultBaseUrl,"/a/purchase/after_purchase")});var r=e.$store.state.purchase.errored;if(r)return e.apiError=r,void(e.isSubmitting=!1);e.showWithFollow&&e.withFollow&&(yield e.followUser({userId:e.magazine.user.id,userKey:e.magazine.user.key,via:"subscription_magazine"})),e.isCouponApplied&&(yield z(e.$tracker,{action:"subscribed",key:e.magazine.key})),e.$emit("afterPurchase",{paymentMethod:t,purchaseResponse:e.$store.state.purchase.successed})}))()},closeModal(){c.o.remove("note-detail-paywall-click"),this.$store.dispatch(_.PURCHASE_ACTION_TYPES.SET_BEFORE_PURCHASING_PLACE,""),this.$emit("close")},paymentLabel:e=>l.paymentLabels[e]})}),ae=(r(2669),r(2671),Object(T.a)(te,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-purchaseSubscribeMagazine"},[e.isPurchaseConfirmButtonTreatment?r("div",[r("nt-button",{staticClass:"ml-2 mt-2",attrs:{size:"small",type:"basic",disabled:e.isSubmitting},on:{click:function(t){return t.preventDefault(),e.closeModal(t)}}},[e._v("\n      戻る\n    ")])],1):e._e(),e._v(" "),r("div",{staticClass:"m-basicModalContent__header",class:{"m-purchaseSubscribeMagazine__headerTreatment":e.isPurchaseConfirmButtonTreatment}},[e.isModal?r("modal-heading",{staticStyle:{display:"inline"}},[e._v("\n      購入内容の確認\n    ")]):[e._v("\n      購入内容の確認\n    ")],e._v(" "),r("nt-link",{staticClass:"m-purchaseSubscribeMagazine__helpSupport",attrs:{href:e.$path.staticPath("https://help-note.com/hc/ja/articles/360010310214"),"aria-label":"有料記事を購入する（購入方法）",target:"_blank"}},[r("nt-icon",{attrs:{clickable:!1,type:"help"}})],1)],2),e._v(" "),r("div",{staticClass:"m-basicModalContent__body"},[r("div",{staticClass:"m-purchaseSubscribeMagazine__body"},[r("div",{staticClass:"m-purchaseSubscribeMagazine__item"},[r("purchase-cover",{attrs:{kind:"magazine","image-url":e.coverUrl,title:e.magazine.name,"author-name":e.authorName,magazine:e.magazine}}),e._v(" "),r("div",{staticClass:"m-purchaseSubscribeMagazine__coupon"},[e.isCouponUsable?r("coupon-form",{attrs:{magazine:e.magazine},on:{apply:e.applyCoupon,invalid:e.invalidCoupon}}):e._e(),e._v(" "),e.couponErrorMessage?r("form-error-list",[r("div",[e._v(e._s(e.couponErrorMessage))])]):e._e()],1)],1),e._v(" "),r("div",{staticClass:"m-purchaseSubscribeMagazine__item m-purchaseSubscribeMagazine__item--strong"},[e.isCouponApplied?[r("div",{staticClass:"m-purchaseSubscribeMagazine__message"},[e._v("\n            "+e._s(e.couponFreePeriodMessage)),r("br"),e._v("\n            以下の期間は無料でご利用いただけます\n          ")]),e._v(" "),r("div",{staticClass:"m-purchaseSubscribeMagazine__date"},[r("nt-time",{attrs:{datetime:e.appliedCoupon.discount.freeSubscriptionEndedAt,format:"YYYY年M月D日"}}),e._v(" "),r("div",{staticClass:"m-purchaseSubscribeMagazine__dateSub"},[e._v("\n              まで無料\n            ")])],1),e._v(" "),r("div",{staticClass:"m-purchaseSubscribeMagazine__dateMore"},[e._v("\n            以降は\n            "),r("nt-currency",{attrs:{amount:e.magazine.price,suffix:" / 月"}})],1)]:[r("div",{staticClass:"m-purchaseSubscribeMagazine__price"},[r("span",{staticClass:"m-purchaseSubscribeMagazine__priceSub"},[e._v("¥")]),e._v(" "),r("nt-currency",{attrs:{prefix:"",amount:e.magazine.price,suffix:""}}),e._v(" "),r("span",{staticClass:"m-purchaseSubscribeMagazine__priceSub"},[e._v(" / 月")])],1)],e._v(" "),e.magazine.isPreSuspended?r("div",{staticClass:"m-purchaseSubscribeMagazine__alert"},[e._v("\n          このマガジンは"+e._s(e.magazine.suspendedAt)+"に停止します\n        ")]):e._e(),e._v(" "),e.showFirstMonthFree?r("div",{staticClass:"m-purchaseSubscribeMagazine__message"},[e._v("\n          クレジットカード決済の場合は\n          "),r("br"),e._v("\n          初月無料でご利用いただけます\n        ")]):e._e(),e._v(" "),r("div",{staticClass:"m-purchaseSubscribeMagazine__select"},[r("form-select",{attrs:{id:"paymentMethod",options:e.selectablePaymentMethods(),name:"paymentMethod"},model:{value:e.paymentMethod,callback:function(t){e.paymentMethod=t},expression:"paymentMethod"}})],1),e._v(" "),e.isCarrier?r("div",{staticClass:"m-purchaseSubscribeMagazine__carrier"},[r("div",{staticClass:"m-purchaseSubscribeMagazine__carrierItem"},[r("form-radio",{attrs:{id:"docomo",value:"monthly_docomo",label:e.paymentLabel("docomo"),name:"carrierPaymentMethod"},model:{value:e.carrierPaymentMethod,callback:function(t){e.carrierPaymentMethod=t},expression:"carrierPaymentMethod"}})],1),e._v(" "),r("div",{staticClass:"m-purchaseSubscribeMagazine__carrierItem"},[r("form-radio",{attrs:{id:"au",value:"monthly_au",label:e.paymentLabel("au"),name:"carrierPaymentMethod"},model:{value:e.carrierPaymentMethod,callback:function(t){e.carrierPaymentMethod=t},expression:"carrierPaymentMethod"}})],1),e._v(" "),r("div",{staticClass:"m-purchaseSubscribeMagazine__carrierItem"},[r("form-radio",{attrs:{id:"softbank",value:"monthly_softbank",label:e.paymentLabel("softbank"),name:"carrierPaymentMethod"},model:{value:e.carrierPaymentMethod,callback:function(t){e.carrierPaymentMethod=t},expression:"carrierPaymentMethod"}})],1)]):e._e(),e._v(" "),r("div",{staticClass:"m-purchaseSubscribeMagazine__attention"},[e.showFirstMonthFree&&!e.isCouponApplied?r("div",{staticClass:"m-purchaseSubscribeMagazine__attentionItem"},[r("nt-icon",{staticClass:"m-purchaseSubscribeMagazine__attentionIcon",attrs:{clickable:!1,size:"small",type:"check"}}),e._v(" "),r("div",{staticClass:"m-purchaseSubscribeMagazine__attentionText"},[e._v("\n              "+e._s(e.freeMonthPeriod)+"\n            ")])],1):e._e(),e._v(" "),r("div",{staticClass:"m-purchaseSubscribeMagazine__attentionItem"},[r("nt-icon",{staticClass:"m-purchaseSubscribeMagazine__attentionIcon",attrs:{clickable:!1,size:"small",type:"check"}}),e._v(" "),r("div",{staticClass:"m-purchaseSubscribeMagazine__attentionText"},[e._v("\n              購読月("+e._s(e.subscribableMonth)+")に追加されるすべての記事\n            ")])],1),e._v(" "),e.magazine.canReadAll?r("div",{staticClass:"m-purchaseSubscribeMagazine__attentionItem"},[r("nt-icon",{staticClass:"m-purchaseSubscribeMagazine__attentionIcon",attrs:{clickable:!1,size:"small",type:"check"}}),e._v(" "),r("div",{staticClass:"m-purchaseSubscribeMagazine__attentionText"},[e._v("\n              過去に追加されたすべての記事\n            ")])],1):e._e(),e._v(" "),e.magazine.canReadAll?e._e():r("div",{staticClass:"m-purchaseSubscribeMagazine__attentionItem"},[r("nt-icon",{staticClass:"m-purchaseSubscribeMagazine__attentionIcon",attrs:{clickable:!1,size:"small",type:"check"}}),e._v(" "),r("div",{staticClass:"m-purchaseSubscribeMagazine__attentionText"},[e._v("\n              全ての無料記事\n            ")])],1),e._v(" "),e.magazine.canReadAll?e._e():r("div",{staticClass:"m-purchaseSubscribeMagazine__attentionItem"},[r("nt-icon",{staticClass:"m-purchaseSubscribeMagazine__cautionIcon",attrs:{clickable:!1,size:"small",type:"warning"}}),e._v(" "),r("div",{staticClass:"m-purchaseSubscribeMagazine__attentionText"},[e._v("\n              購読月外に追加された有料記事は購入が必要\n            ")])],1),e._v(" "),e.isCouponApplied?r("div",{staticClass:"m-purchaseSubscribeMagazine__attentionItem"},[r("nt-icon",{staticClass:"m-purchaseSubscribeMagazine__cautionIcon",attrs:{clickable:!1,size:"small",type:"warning"}}),e._v(" "),e._m(0)],1):e._e(),e._v(" "),r("div",{staticClass:"m-purchaseSubscribeMagazine__attentionItem"},[r("nt-icon",{staticClass:"m-purchaseSubscribeMagazine__cautionIcon",attrs:{clickable:!1,size:"small",type:"warning"}}),e._v(" "),r("div",{staticClass:"m-purchaseSubscribeMagazine__attentionText"},[e._v("\n              返金不可\n              "),r("nt-link",{staticClass:"m-purchaseSubscribeMagazine__helpSupport",attrs:{href:e.$path.staticPath("https://help-note.com/hc/ja/articles/360000670602/"),"aria-label":"返金について",target:"_blank"}},[r("nt-icon",{attrs:{clickable:!1,size:"small",type:"help"}})],1)],1)],1)])],2),e._v(" "),e.showWithFollow?r("div",{staticClass:"m-purchaseSubscribeMagazine__item"},[r("form-checkbox",{attrs:{id:"withFollow",value:!0,checked:e.withFollow,label:"クリエイターをフォロー"},on:{input:e.setWithFollow}})],1):e._e(),e._v(" "),e.apiError?r("form-error-list",{staticClass:"m-purchaseSubscribeMagazine__item"},[r("div",[e._v(e._s(e.toApiErrorMessage(e.apiError)))])]):e._e()],1)]),e._v(" "),r("div",{class:{"pl-4":e.isPurchaseConfirmButtonTreatment}},[r("purchase-confirm-link")],1),e._v(" "),e.isPurchaseConfirmButtonTreatment?r("div",{staticClass:"m-purchaseSubscribeMagazine__footerTreatment"},[e.showSubscribeButton?r("nt-button",{attrs:{disabled:e.isSubmitting,size:"large",width:"fit",type:"primary"},on:{click:function(t){return t.preventDefault(),e.subscribe(t)}}},[e._v("\n      "+e._s(e.subscribeButtonLabel)+"\n    ")]):r("nt-button",{attrs:{disabled:e.isSubmitting,size:"large",width:"fit",type:"primary"},on:{click:function(t){return t.preventDefault(),e.$emit("inputCard",{})}}},[e._v("\n      カード情報入力画面へ\n    ")])],1):r("div",{staticClass:"m-basicModalContent__footer"},[r("modal-footer-button-group",{scopedSlots:e._u([{key:"default",fn:function(t){return[r("nt-button",{class:t.buttonClass,attrs:{disabled:e.isSubmitting,size:"small",type:"basic"},on:{click:function(t){return t.preventDefault(),e.closeModal()}}},[e._v("\n          キャンセル\n        ")]),e._v(" "),e.showSubscribeButton?r("nt-button",{class:t.buttonClass,attrs:{disabled:e.isSubmitting,size:"small",type:"primary"},on:{click:function(t){return t.preventDefault(),e.subscribe()}}},[e._v("\n          "+e._s(e.subscribeButtonLabel)+"\n        ")]):r("nt-button",{class:t.buttonClass,attrs:{disabled:e.isSubmitting,size:"small",type:"primary"},on:{click:function(t){return t.preventDefault(),e.$emit("inputCard",{})}}},[e._v("\n          カード情報入力画面へ\n        ")])]}}])})],1)])}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-purchaseSubscribeMagazine__attentionText"},[e._v("\n              クーポンを使用して購読される場合は、"),r("br"),e._v("\n              クレジットカードでの決済のみとなります。\n            ")])}],!1,null,"2713ce64",null));t.a=ae.exports},2882:function(e,t,r){"use strict";var n=r(0),o=r(3),c=r(1424),l=r(2125),d=r(355),m=r(188),h=r(9),_=r(26),v=r(47),f=r(34),M=r(246),x=r(116),C=r(1763),y=r(1493),w=o.a.extend({components:{NtIcon:_.default,NtLink:v.a,NtButton:f.a,ModalFooterButtonGroup:M.a,ModalHeading:x.a,PurchaseCover:C.a},mixins:[c.a,l.a,d.a],props:{isModal:{type:Boolean,default:!1},placeType:{type:String,default:"purchase-caution-modal"}},data:()=>({isSubmitting:!1}),computed:{config:()=>h,actionType(){return this.$store.state.modal.purchaseModalContainer.actionType},note(){return this.$store.state.purchase.note},magazine(){return this.$store.state.purchase.magazine},contentName(){return"note_purchase"===this.actionType?this.note.name:this.magazine.name},contentCoverUrl(){return"note_purchase"===this.actionType?this.$store.getters[m.PURCHASE_GETTER_TYPES.GET_COVER_URL]:this.magazine.coverLandscapeSp},contentAuthor(){return"note_purchase"===this.actionType?this.note.user:this.magazine.user},contentPrice(){return"note_purchase"===this.actionType?this.note.price:this.magazine.price},paymentMethod(){return this.$store.state.modal.purchaseModalContainer.paymentMethod||this.currentUser.lastPaymentMethod},afterCaution(){return this.$store.state.modal.purchaseModalContainer.afterCaution},purchaseCoverKind(){return"note_purchase"===this.actionType?"note":"magazine"},authorName(){return this.contentAuthor.nickname||this.contentAuthor.urlname}},mounted(){Object(y.c)(this.$tracker,{kind:y.a.cv_purchasing_process,action:"imp",placeType:this.placeType})},methods:{confirm(){this.$emit("confirm",{})},purchase(){var e=this;return Object(n.a)((function*(){e.isSubmitting=!0;var t=e.isModal?{}:{returnUrl:"".concat(h.defaultBaseUrl,"/a/purchase/after_purchase")};yield e.$_purchaseable_purchase(t),e.isSubmitting=!1}))()},close(){this.$emit("close",{})}}}),S=(r(2651),r(2653),r(5)),component=Object(S.a)(w,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-purchaseCaution"},[r("div",{staticClass:"m-basicModalContent__header"},[e.isModal?r("modal-heading",{staticStyle:{display:"inline"}},[e._v("\n      購入内容の確認\n    ")]):[e._v("\n      購入内容の確認\n    ")],e._v(" "),r("nt-link",{staticClass:"m-purchaseCaution__helpLink",attrs:{href:"https://help-note.com/hc/ja/sections/900000076443","aria-label":"購入/決済について",target:"_blank"}},[r("nt-icon",{attrs:{type:"help",clickable:!1}})],1)],2),e._v(" "),r("div",{staticClass:"m-purchaseCaution__body"},[r("div",{staticClass:"m-purchaseCaution__item m-purchaseCaution__item--target"},[r("purchase-cover",{attrs:{kind:e.purchaseCoverKind,"image-url":e.contentCoverUrl,title:e.contentName,"author-name":e.authorName,price:e.contentPrice,note:e.note,magazine:e.magazine}})],1),e._v(" "),e._m(0)]),e._v(" "),r("div",{staticClass:"m-basicModalContent__footer"},[r("modal-footer-button-group",{scopedSlots:e._u([{key:"default",fn:function(t){return[r("nt-button",{class:t.buttonClass,attrs:{size:"small",type:"basic"},on:{click:function(t){return t.preventDefault(),e.close()}}},[e._v("\n          キャンセル\n        ")]),e._v(" "),"purchase"===e.afterCaution?r("nt-button",{class:t.buttonClass,attrs:{disabled:e.isSubmitting,size:"small",type:"primary"},on:{click:function(t){return t.preventDefault(),e.purchase()}}},[e._v("\n          "+e._s(e.config.paymentButtonLabels[e.paymentMethod])+"\n        ")]):r("nt-button",{class:t.buttonClass,attrs:{size:"small",type:"primary"},on:{click:function(t){return t.preventDefault(),e.confirm()}}},[e._v("\n          次へ\n        ")])]}}])})],1)])}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-purchaseCaution__text"},[e._v("\n      この記事は返金できません。"),r("br"),e._v("金額をご確認のうえ購入してください。\n    ")])}],!1,null,"366aff22",null);t.a=component.exports},2883:function(e,t,r){"use strict";var n=r(0),o=(r(29),r(3)),c=r(1826),l=r(80),d=r(190),m=r(246),h=r(116),_=r(34),v=r(1419),f=r(1937),M=r(1763),x=r(2544),C=r(9),y=r(2),w=r(188),S=r(107),P=r(245),k=r(1424),z=r(355),$=r(1526),T=r(1493),N=r(21),E=o.a.extend({components:{ConfirmListItem:c.a,FormErrorList:l.a,ModalFooterButtonGroup:m.a,ModalHeading:h.a,NtButton:_.a,NtCurrency:v.a,PurchaseConfirmLink:f.a,PurchaseCover:M.a,PurchaseRefundHelpLink:x.a,FormCheckbox:d.a},mixins:[k.a,z.a,P.a,$.a],props:{isModal:{type:Boolean,default:!1},placeType:{type:String,default:"purchase-confirm-modal"}},data:()=>({apiError:null,isSubmitting:!1}),computed:{config:()=>C,note(){return this.$store.state.purchase.note},magazine(){return this.$store.state.purchase.magazine},actionType(){return this.$store.state.modal.purchaseModalContainer.actionType},isSupport(){return"support"===this.actionType},isNotePurchase(){return"note_purchase"===this.actionType},isMagazinePurchase(){return"magazine_purchase"===this.actionType},isPurchase(){return this.isNotePurchase||this.isMagazinePurchase},contentName(){return"note_purchase"===this.actionType?this.note.name:this.magazine.name},purchaseCoverKind(){if(!this.isPurchase)throw"not purchase";return this.isNotePurchase?"note":"magazine"},contentCoverUrl(){return"note_purchase"===this.actionType?this.$store.getters[w.PURCHASE_GETTER_TYPES.GET_COVER_URL]:this.magazine.cover},contentAuthor(){return"note_purchase"===this.actionType||"support"===this.actionType?this.note.user:this.magazine.user},contentAuthorName(){return this.contentAuthor.nickname||this.contentAuthor.urlname},contentPrice(){return"note_purchase"===this.actionType?this.note.price:this.magazine.price},supportPrice(){return this.$store.state.modal.purchaseModalContainer.supportPrice},isValidSupportPrice(){return this.supportPrice>0},supportMessage(){return Object(S.m)(this.$store.state.modal.purchaseModalContainer.supportMessage)},paymentMethod(){return this.$store.state.modal.purchaseModalContainer.paymentMethod||this.currentUser.lastPaymentMethod},showPurchaseButton(){return!!this.paymentMethod&&(!("creditcard"===this.paymentMethod&&!this.currentUser.canCheckout)&&Object.keys(C.paymentButtonLabels).includes(this.paymentMethod))},isGoToCreditCard(){return"creditcard"===this.paymentMethod&&!this.currentUser.canCheckout},paymentLabel(){return C.paymentLabels[this.paymentMethod]},notePriceWithSupport(){return this.note.price+this.supportPrice},showWithFollow(){return!!["note_purchase","magazine_purchase","support"].includes(this.actionType)&&(void 0!==this.contentAuthor.id&&!this.contentAuthor.isFollowing)},disabledFollow(){return this.$store.state.modal.purchaseModalContainer.nextPageDisableFollow},headerText(){return this.isSupport?"サポート内容の確認":"購入内容の確認"},purchaseButtonName(){return this.isSupport?"サポートする":"購入する"},simpleNonRefundableMessageExperimentGroupName(){var e,t=this.$store.getters[N.USER_GETTER_TYPES.EXPERIMENT_INFO_MAP],r=null===(e=null==t?void 0:t.PurchaseSimpleNonRefundableMessageExperiment)||void 0===e?void 0:e.groupName;return null!=r?r:"others"},isSimpleNonRefundableMessageTreatment(){return"treatment"==this.simpleNonRefundableMessageExperimentGroupName}},mounted(){var e,t;Object(T.c)(this.$tracker,{kind:T.a.cv_purchasing_process,action:"imp",contentType:this.isNotePurchase||this.isSupport?"Note":"Magazine",contentKey:this.isNotePurchase||this.isSupport?null===(e=this.note)||void 0===e?void 0:e.key:null===(t=this.magazine)||void 0===t?void 0:t.key,placeType:this.placeType,purchaseType:this.isSupport?"support":"paid",experiment_info:{simple_non_refundable_message:{group_name:this.simpleNonRefundableMessageExperimentGroupName},purchase_confirm_button:{group_name:this.purchaseConfirmButtonGroupName}}})},methods:{init(){if(this.isSubmitting=!1,void 0!==this.$store.state.modal.purchaseModalContainer.withFollow&&(this.withFollow=this.$store.state.modal.purchaseModalContainer.withFollow),"support"!==this.actionType&&!["creditcard","paypay"].includes(this.paymentMethod)){this.$store.dispatch(y.MODAL_ACTION_TYPES.SET_PURCHASE_MODAL_CONTAINER,{supportPrice:0,supportMessage:""})}},setWithFollow(e){this.withFollow=e},purchase(){var e=this;return Object(n.a)((function*(){e.isSubmitting=!0;var t=e.isModal?{}:{returnUrl:"".concat(C.defaultBaseUrl,"/a/purchase/after_purchase")};e.trackFollowCreatorWithSupport(),e.showWithFollow&&e.withFollow&&(yield e.followUser({userId:e.contentAuthor.id,userKey:e.contentAuthor.key,via:"support"===e.actionType?"support_creator":"purchase_content"})),yield e.$_purchaseable_purchase(t),e.isSubmitting=!1}))()},changePaymentMethod(){this.$emit("selectPaymentMethod",{nextPageDisableFollow:this.disabledFollow,withFollow:this.withFollow})},close(){this.$emit("close")},trackFollowCreatorWithSupport(){this.isSupport&&!this.contentAuthor.isFollowing&&this.$tracker.trackActionLogs([this.$tracker.buildActionLogRecord({kind:"follow-creator-with-support",contents:{follow:this.withFollow}})])}}}),I=(r(2657),r(2659),r(5)),component=Object(I.a)(E,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-purchaseSupportConfirm",class:{"m-purchaseSupportConfirm__contentTreatment":e.isPurchaseConfirmButtonTreatment}},[e.isPurchaseConfirmButtonTreatment?r("div",[r("nt-button",{staticClass:"ml-2 mt-2",attrs:{size:"small",type:"basic",disabled:e.isSubmitting},on:{click:function(t){return t.preventDefault(),e.close(t)}}},[e._v("\n      戻る\n    ")])],1):e._e(),e._v(" "),r("div",{staticClass:"m-basicModalContent__header",class:{"m-purchaseSupportConfirm__headerTreatment":e.isPurchaseConfirmButtonTreatment}},[r("div",{staticClass:"m-purchaseSupportConfirm__header"},[e.isModal?r("modal-heading",[e._v("\n        "+e._s(e.headerText)+"\n      ")]):[e._v("\n        "+e._s(e.headerText)+"\n      ")]],2)]),e._v(" "),r("div",{staticClass:"m-basicModalContent__body"},[r("div",{staticClass:"m-purchaseSupportConfirm__body"},[e.isPurchase?r("div",{staticClass:"m-purchaseSupportConfirm__item m-purchaseSupportConfirm__item--target",class:{"m-purchaseSupportConfirm__coverTreatment":e.isPurchaseConfirmButtonTreatment}},[r("purchase-cover",{attrs:{kind:e.purchaseCoverKind,"image-url":e.contentCoverUrl,title:e.contentName,"author-name":e.contentAuthorName,price:e.contentPrice,note:e.note,magazine:e.magazine,"is-simple-non-refundable-message-treatment":e.isSimpleNonRefundableMessageTreatment}})],1):e._e(),e._v(" "),e.isValidSupportPrice?[r("confirm-list-item",{staticClass:"m-purchaseSupportConfirm__item",class:{"mx-2":e.isPurchaseConfirmButtonTreatment}},[r("template",{slot:"header"},[e._v("\n            サポート対象\n          ")]),e._v(" "),r("template",{slot:"body"},[e._v("\n            "+e._s(e.contentAuthorName)+"\n          ")])],2),e._v(" "),r("confirm-list-item",{staticClass:"m-purchaseSupportConfirm__item",class:{"mx-2":e.isPurchaseConfirmButtonTreatment}},[r("template",{slot:"header"},[e._v("\n            サポート金額\n          ")]),e._v(" "),r("template",{slot:"body"},[r("nt-currency",{attrs:{amount:e.supportPrice,prefix:"",suffix:"円"}})],1)],2),e._v(" "),e.isNotePurchase?r("confirm-list-item",{staticClass:"m-purchaseSupportConfirm__item",class:{"mx-2":e.isPurchaseConfirmButtonTreatment}},[r("template",{slot:"header"},[e._v("\n            合計金額\n          ")]),e._v(" "),r("template",{slot:"body"},[r("nt-currency",{attrs:{amount:e.notePriceWithSupport,prefix:"",suffix:"円"}})],1)],2):e._e()]:e._e(),e._v(" "),e.paymentLabel?r("confirm-list-item",{staticClass:"m-purchaseSupportConfirm__item",class:{"mx-2":e.isPurchaseConfirmButtonTreatment}},[r("template",{slot:"header"},[e._v("\n          決済方法\n        ")]),e._v(" "),r("template",{slot:"body"},[r("div",{staticClass:"m-purchaseSupportConfirm__credit"},[e._v("\n            "+e._s(e.paymentLabel)+"\n          ")]),e._v(" "),r("nt-button",{attrs:{size:"small",type:"basic"},on:{click:function(t){return t.preventDefault(),e.changePaymentMethod(t)}}},[e._v("\n            変更\n          ")])],1)],2):e._e(),e._v(" "),e.showWithFollow?r("div",{staticClass:"m-purchaseSupportConfirm__item",class:{"mx-2":e.isPurchaseConfirmButtonTreatment}},[r("form-checkbox",{attrs:{id:"withFollow",disabled:e.disabledFollow,value:!0,checked:e.withFollow,label:"クリエイターをフォロー"},on:{input:e.setWithFollow}})],1):e._e(),e._v(" "),e.supportMessage?r("confirm-list-item",{staticClass:"m-purchaseSupportConfirm__item",class:{"mx-2":e.isPurchaseConfirmButtonTreatment}},[r("template",{slot:"header"},[e._v("\n          メッセージ\n        ")]),e._v(" "),r("span",{staticClass:"m-purchaseSupportConfirm__message",attrs:{slot:"body"},domProps:{textContent:e._s(e.supportMessage)},slot:"body"})],2):e._e(),e._v(" "),e.apiError?r("div",{staticClass:"m-purchaseSupportConfirm__item"},[r("form-error-list",[r("div",[e._v(e._s(e.toApiErrorMessage(e.apiError)))])])],1):e._e()],2)]),e._v(" "),e.isSupport?e._e():r("div",{class:{"m-purchaseSupportConfirm__linkTreatment":e.isPurchaseConfirmButtonTreatment}},[e.isSimpleNonRefundableMessageTreatment?r("purchase-refund-help-link"):e._e(),e._v(" "),r("purchase-confirm-link")],1),e._v(" "),e.isPurchaseConfirmButtonTreatment?r("div",{staticClass:"m-purchaseSupportConfirm__footerTreatment"},[e.showPurchaseButton?r("nt-button",{attrs:{disabled:e.isSubmitting,size:"large",width:"fit",type:"primary"},on:{click:function(t){return t.preventDefault(),e.purchase(t)}}},[e._v("\n      "+e._s(e.isSubmitting?"処理中":"購入")+"\n    ")]):e.isGoToCreditCard?r("nt-button",{attrs:{size:"large",width:"fit",type:"primary"},on:{click:function(t){return t.preventDefault(),e.$emit("inputCard",{})}}},[e._v("\n      カード情報入力画面へ\n    ")]):r("nt-button",{attrs:{size:"large",width:"fit",type:"primary"},on:{click:function(t){return t.preventDefault(),e.$emit("selectPaymentMethod",{})}}},[e._v("\n      決済方法を選択\n    ")])],1):r("div",{staticClass:"m-basicModalContent__footer"},[r("modal-footer-button-group",{scopedSlots:e._u([{key:"default",fn:function(t){return[r("nt-button",{class:t.buttonClass,attrs:{disabled:e.isSubmitting,type:"basic",size:"small"},on:{click:function(t){return t.preventDefault(),e.close(t)}}},[e._v("\n          キャンセル\n        ")]),e._v(" "),e.isSubmitting?[r("nt-button",{class:t.buttonClass,attrs:{disabled:!0,size:"small"}},[e._v("\n            処理中\n          ")])]:[e.showPurchaseButton?r("nt-button",{class:t.buttonClass,attrs:{size:"small",type:"primary"},on:{click:function(t){return t.preventDefault(),e.purchase()}}},[e._v("\n            購入する\n          ")]):e.isGoToCreditCard?r("nt-button",{class:t.buttonClass,attrs:{size:"small",type:"primary"},on:{click:function(t){return t.preventDefault(),e.$emit("inputCard",{})}}},[e._v("\n            カード情報入力画面へ\n          ")]):r("nt-button",{class:t.buttonClass,attrs:{size:"small",type:"primary"},on:{click:function(t){return t.preventDefault(),e.$emit("selectPaymentMethod",{})}}},[e._v("\n            決済方法を選択\n          ")])]]}}])})],1)])}),[],!1,null,"626e00c9",null);t.a=component.exports},2885:function(e,t,r){"use strict";var n=r(3),o=r(9),c=r(30),l=r(1424),d=r(378),m=r(246),h=r(116),_=r(34),v=r(78),f=r(26),M=r(47),x=r(93),C=r(1493),y=r(1526),w=n.a.extend({components:{FormRadio:d.a,ModalFooterButtonGroup:m.a,ModalHeading:h.a,NtButton:_.a,NtLinkFunctional:v.a,NtIcon:f.default,NtLink:M.a,NtSvgIcon:x.a},mixins:[c.a,l.a,y.a],props:{isModal:{type:Boolean,default:!1},placeType:{type:String,default:"purchase-payment-method-modal"}},data:()=>({paymentMethod:"creditcard",carrierPaymentMethod:"docomo"}),computed:{isCarrier(){return"carrier"===this.paymentMethod},isGoToCreditCard(){return"creditcard"===this.paymentMethod&&!this.currentUser.canCheckout},isGoToConfirm(){return"creditcard"===this.paymentMethod&&this.currentUser.canCheckout||["carrier","paypay"].includes(this.paymentMethod)},actionType(){return this.$store.state.modal.purchaseModalContainer.actionType},withSupport(){return this.$store.state.modal.purchaseModalContainer.withSupport},initialPaymentMethod(){var e=this.$store.state.modal.purchaseModalContainer.paymentMethod;if(!e)return"creditcard";return["docomo","au","softbank"].includes(e)?"carrier":e}},mounted(){Object(C.c)(this.$tracker,{kind:C.a.cv_purchasing_process,action:"imp",placeType:this.placeType,experiment_info:{purchase_confirm_button:{group_name:this.purchaseConfirmButtonGroupName}}})},methods:{handleSelect(){["note_purchase","magazine_purchase"].includes(this.actionType)?this.$emit("moveToPurchaseOneshotContent",{withSupport:"carrier"!==this.paymentMethod&&this.withSupport,paymentMethod:"carrier"===this.paymentMethod?this.carrierPaymentMethod:this.paymentMethod,via:"purchasePaymentMethod"}):(this.$emit("confirm",{paymentMethod:"carrier"===this.paymentMethod?this.carrierPaymentMethod:this.paymentMethod}),this.$_purchaseable_shouldShowCautionModal&&this.isModal&&this.replacePurchaseCautionModal({afterCaution:"confirm"}))},resetData(){var e=this.initialPaymentMethod;this.paymentMethod=e,this.carrierPaymentMethod="carrier"===e?this.$store.state.modal.purchaseModalContainer.paymentMethod:"docomo"},back(){this.$emit("moveToPurchaseOneshotContent",{via:"purchasePaymentMethod"})},paymentLabel:e=>o.paymentLabels[e]}}),S=(r(2663),r(2665),r(5)),component=Object(S.a)(w,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-purchaseSupportPaymentMethod"},[r("div",{staticClass:"m-basicModalContent__header",class:{"m-purchaseSupportPaymentMethod__headerTreatment":e.isPurchaseConfirmButtonTreatment}},[e.isModal?r("modal-heading",{staticStyle:{display:"inline"}},[e._v("\n      お支払い方法の選択\n    ")]):[e._v("\n      お支払い方法の選択\n    ")],e._v(" "),r("nt-link",{staticClass:"m-purchaseSupportPaymentMethod__helpLink",attrs:{href:e.$path.staticPath("https://help-note.com/hc/ja/articles/360010310214"),"aria-label":"有料記事を購入する（購入方法）",target:"_blank"}},[r("nt-icon",{attrs:{type:"help",clickable:!1}})],1)],2),e._v(" "),r("div",{staticClass:"m-basicModalContent__body"},[r("div",{staticClass:"m-purchaseSupportPaymentMethod__body",class:{"mx-4":e.isPurchaseConfirmButtonTreatment}},[r("div",{staticClass:"m-purchaseSupportPaymentMethod__item"},[r("form-radio",{attrs:{id:"creditcard",name:"payment-method",value:"creditcard",label:"クレジットカード"},model:{value:e.paymentMethod,callback:function(t){e.paymentMethod=t},expression:"paymentMethod"}})],1),e._v(" "),r("div",{staticClass:"m-purchaseSupportPaymentMethod__item"},[r("div",{staticClass:"m-purchaseSupportPaymentMethod__itemInner"},[r("form-radio",{attrs:{id:"paypay",name:"payment-method",value:"paypay",label:"PayPay"},model:{value:e.paymentMethod,callback:function(t){e.paymentMethod=t},expression:"paymentMethod"}})],1),e._v(" "),r("div",{staticClass:"m-purchaseSupportPaymentMethod__itemInner m-purchaseSupportPaymentMethod__itemInner--help"},[r("nt-link-functional",{staticClass:"m-purchaseSupportPaymentMethod__helpLink",attrs:{href:"https://www.help-note.com/hc/ja/articles/360010310214#h_01FW0K8DT32RBDBF183T7FTEWA","aria-label":"PayPayとは",target:"_blank"}},[r("nt-svg-icon",{attrs:{type:"help"}})],1)],1)]),e._v(" "),r("div",{staticClass:"m-purchaseSupportPaymentMethod__item"},[r("div",{staticClass:"m-purchaseSupportPaymentMethod__itemInner"},[r("form-radio",{attrs:{id:"carrier",name:"payment-method",value:"carrier",label:"携帯キャリア決済"},model:{value:e.paymentMethod,callback:function(t){e.paymentMethod=t},expression:"paymentMethod"}})],1),e._v(" "),r("div",{staticClass:"m-purchaseSupportPaymentMethod__itemInner m-purchaseSupportPaymentMethod__itemInner--help"},[r("nt-link-functional",{staticClass:"m-purchaseSupportPaymentMethod__helpLink",attrs:{href:"https://www.help-note.com/hc/ja/articles/360010310214#h_01F20HEQB3DDH44P1HKSDAE5EH","aria-label":"携帯キャリア決済とは",target:"_blank"}},[r("nt-svg-icon",{attrs:{type:"help"}})],1)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.isCarrier,expression:"isCarrier"}],staticClass:"m-purchaseSupportPaymentMethod__carrier"},[r("form-radio",{staticClass:"m-purchaseSupportPaymentMethod__item",attrs:{id:"carrier-docomo",name:"carrier-payment-method",value:"docomo",label:e.paymentLabel("docomo")},model:{value:e.carrierPaymentMethod,callback:function(t){e.carrierPaymentMethod=t},expression:"carrierPaymentMethod"}}),e._v(" "),r("form-radio",{staticClass:"m-purchaseSupportPaymentMethod__item",attrs:{id:"carrier-au",name:"carrier-payment-method",value:"au",label:e.paymentLabel("au")},model:{value:e.carrierPaymentMethod,callback:function(t){e.carrierPaymentMethod=t},expression:"carrierPaymentMethod"}}),e._v(" "),r("form-radio",{staticClass:"m-purchaseSupportPaymentMethod__item",attrs:{id:"carrier-softbank",name:"carrier-payment-method",value:"softbank",label:e.paymentLabel("softbank")},model:{value:e.carrierPaymentMethod,callback:function(t){e.carrierPaymentMethod=t},expression:"carrierPaymentMethod"}})],1)])])]),e._v(" "),e.isPurchaseConfirmButtonTreatment?r("div",{staticClass:"m-purchaseSupportPaymentMethod__footerTreatment"},[e.paymentMethod?e.isGoToCreditCard?r("nt-button",{attrs:{size:"large",width:"fit",type:"primary"},on:{click:function(t){return t.preventDefault(),e.$emit("inputCard",{})}}},[e._v("\n      カード情報入力画面へ\n    ")]):e.isGoToConfirm?r("nt-button",{attrs:{size:"large",width:"fit",type:"primary"},on:{click:function(t){return t.preventDefault(),e.handleSelect(t)}}},[e._v("\n      選択\n    ")]):e._e():r("nt-button",{attrs:{disabled:!0,size:"large",width:"fit",type:"primary"}},[e._v("\n      決済方法を選択してください\n    ")]),e._v(" "),r("nt-button",{staticClass:"mt-3",attrs:{width:"fit",type:"basic"},on:{click:function(t){return t.preventDefault(),e.back(t)}}},[e._v("\n      キャンセル\n    ")])],1):r("div",{staticClass:"m-basicModalContent__footer"},[r("modal-footer-button-group",{scopedSlots:e._u([{key:"default",fn:function(t){return[r("nt-button",{class:t.buttonClass,attrs:{type:"basic",size:"small"},on:{click:function(t){return t.preventDefault(),e.back(t)}}},[e._v("\n          キャンセル\n        ")]),e._v(" "),e.paymentMethod?e.isGoToCreditCard?r("nt-button",{class:t.buttonClass,attrs:{type:"primary",size:"small"},on:{click:function(t){return t.preventDefault(),e.$emit("inputCard",{})}}},[e._v("\n          カード情報入力画面へ\n        ")]):e.isGoToConfirm?r("nt-button",{class:t.buttonClass,attrs:{type:"primary",size:"small"},on:{click:function(t){return t.preventDefault(),e.handleSelect()}}},[e._v("\n          選択\n        ")]):e._e():r("nt-button",{class:t.buttonClass,attrs:{disabled:!0,size:"small"}},[e._v("\n          決済方法を選択してください\n        ")])]}}])})],1)])}),[],!1,null,"f352f65c",null);t.a=component.exports},2886:function(e,t,r){"use strict";var n=r(0),o=(r(177),r(10),r(11),r(3)),c=r(30),l=r(355),d=r(245),m=r(2484),h=r(34),_=r(25),v=r(78),f=r(246),M=r(116),x=r(190),C=r(1493),y=r(93),w=r(188),S=r(354),P=r(365),k=r(1526),z=r(361),$=o.a.extend({components:{BenefitAppealTexts:m.a,NtButton:h.a,NtImage:_.a,NtLinkFunctional:v.a,ModalFooterButtonGroup:f.a,ModalHeading:M.a,FormCheckbox:x.a,NtSvgIcon:y.a,ColorLabel:S.a},mixins:[c.a,l.a,d.a,k.a],props:{isModal:{type:Boolean,default:!1},plan:{type:Object,required:!0},placeType:{type:String,default:"purchase-subscribe-circle-plan-modal"}},data:()=>({allowAppearInMemberList:!0,isSubmitting:!1}),computed:{title:()=>"参加内容の確認",message(){return"".concat(this.plan.description)},price(){if(0===this.plan.price)return"無料";var e=this.$options.filters.currency(this.plan.price);return"".concat(e," / 月")},shouldInputCard(){return!this.currentUser.canCheckout&&this.plan.price>0},cannotSubscribe(){return this.plan.isMember||this.isSubmitting},hasBenefits(){return this.plan.benefitAppealTexts.length>0},hasBenefitMagazines(){return this.plan.membershipMagazines&&this.plan.membershipMagazines.length>0},benefitMagazineTexts(){var e=[];if(!this.hasBenefitMagazines)return e;for(var t of this.plan.membershipMagazines){if(e.length>=10){e.push({type:"magazine",text:"他".concat(this.plan.membershipMagazines.length-e.length,"件のマガジンの記事を読むことができます")});break}e.push({type:"magazine",text:"「".concat(t.name,"」の記事を読むことができます")})}return e},buttonText(){return this.plan.isCanceled?"解約済み":this.plan.isMember?"参加中":this.shouldInputCard?"カード情報入力画面へ":"参加する"},circleOwner(){return this.plan.circle.owner},isShowAgreementForm(){return!this.plan.isMember&&(!this.plan.isMember||!this.circleOwner.isFollowing)},isShowFirstMonthFreeLabel(){return this.shouldInputCard?!1===this.plan.isImmediateCharge:this.plan.isFreeTrialPeriodAvailable},freeMonthPeriod(){var e=this.plan;if(null===e.freeTrialPeriod){var t=e.subscription;return null===t||!1===t.freeSubscribe?"":"".concat(Object(P.b)(t.startedAt,"YYYY年M月D日"),"から").concat(Object(P.b)(t.expiresAt,"YYYY年M月D日"),"まで無料")}return"".concat(Object(P.b)(e.freeTrialPeriod.startAt,"YYYY年M月D日"),"から").concat(Object(P.b)(e.freeTrialPeriod.endAt,"YYYY年M月D日"),"まで無料")},isFreeTrialPeriodAvailable(){return this.plan.isFreeTrialPeriodAvailable},contentAuthor(){return this.$store.state.purchase.creator},visibleBoardBenefit(){return!1===Object(z.a)(this.plan.circle)},showPurchaseConfirmTreatment(){return this.isPurchaseConfirmButtonTreatment&&!this.isModal}},mounted(){Object(C.c)(this.$tracker,{kind:C.a.cv_purchasing_process,action:"imp",contentType:"CirclePlan",contentKey:this.plan.key,placeType:this.placeType,purchaseType:"subscription",prev:this.$route.query.prev,experiment_info:{purchase_confirm_button:{group_name:this.purchaseConfirmButtonGroupName}}})},methods:{isBoardDisabled:z.a,init(){this.allowAppearInMemberList=!0},setAllowAppearInMemberList(e){this.allowAppearInMemberList=e},setWithFollow(e){this.withFollow=e},postSubscribe(){var e=this;return Object(n.a)((function*(){if(e.shouldInputCard)e.$emit("input-card");else{e.isSubmitting=!0;var t=e.plan.key,r={allow_appear_in_member_list:e.allowAppearInMemberList,payment_method:"creditcard"};try{var n=(yield e.$axios.post("/v2/subscriptions/circle_plans/".concat(t),r)).data.data.thanksMessage;e.$emit("after-subscribe",{thanksMessage:n})}catch(t){var o=e.toApiErrorMessage(t.response),c=e.popModal();e.replaceAnyMessageModal({message:o,closeCallback:c})}e.withFollow&&!e.circleOwner.isFollowing&&(yield e.followUser({userId:e.circleOwner.id,userKey:e.circleOwner.key})),e.isSubmitting=!1}}))()},handleClickUnsubscribe(){this.$emit("click-unsubscribe")},handleClickCancel(){this.$store.dispatch(w.PURCHASE_ACTION_TYPES.SET_BEFORE_PURCHASING_PLACE,""),this.$emit("click-cancel")}}}),T=(r(2673),r(2675),r(5)),component=Object(T.a)($,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.showPurchaseConfirmTreatment?r("div",[r("nt-button",{staticClass:"ml-2 mt-2",attrs:{size:"small",type:"basic",disabled:e.isSubmitting},on:{click:function(t){return t.preventDefault(),e.handleClickCancel(t)}}},[e._v("\n      戻る\n    ")])],1):e._e(),e._v(" "),r("div",{staticClass:"m-basicModalContent__header",class:{"m-subscribeMembershipPlanModal__headerTreatment":e.showPurchaseConfirmTreatment}},[r("div",{staticClass:"m-subscribeMembershipPlanModal__title"},[e.isModal?r("modal-heading",{staticStyle:{display:"inline"}},[e._v("\n        "+e._s(e.title)+"\n      ")]):[e._v("\n        "+e._s(e.title)+"\n      ")]],2)]),e._v(" "),r("section",{staticClass:"m-subscribeMembershipPlanModal__body",class:{"m-subscribeMembershipPlanModal__bodyTreatment":e.showPurchaseConfirmTreatment}},[r("h2",{staticClass:"visually-hidden"},[e._v("\n      メンバーシップの詳細\n    ")]),e._v(" "),r("div",{staticClass:"m-subscribeMembershipPlanModal__detail",class:{"px-4":e.showPurchaseConfirmTreatment}},[r("div",{staticClass:"m-subscribeMembershipPlanModal__card"},[r("div",{staticClass:"m-subscribeMembershipPlanModal__cardInner"},[r("nt-image",{staticClass:"m-subscribeMembershipPlanModal__cardImg",attrs:{src:e.plan.headerImagePath,alt:""}})],1)]),e._v(" "),r("section",{staticClass:"m-subscribeMembershipPlanModal__section"},[r("h3",{staticClass:"m-subscribeMembershipPlanModal__heading"},[e._v("\n          "+e._s(e.plan.name)+"\n        ")]),e._v(" "),r("p",{staticClass:"m-subscribeMembershipPlanModal__description"},[e._v("\n          "+e._s(e.plan.description)+"\n        ")])]),e._v(" "),r("section",{staticClass:"m-subscribeMembershipPlanModal__section"},[r("h3",{staticClass:"m-subscribeMembershipPlanModal__heading"},[e._v("\n          月額の会費\n        ")]),e._v(" "),r("div",{staticClass:"m-subscribeMembershipPlanModal__description"},[r("div",{staticClass:"flex justify-start items-center gap-2"},[e._v("\n            "+e._s(e.price)+"\n            "),e.isShowFirstMonthFreeLabel?r("color-label",{attrs:{text:"初月無料",size:"small"}}):e._e()],1),e._v(" "),e.isFreeTrialPeriodAvailable||e.plan.isMember?r("div",{staticClass:"mt-2"},[e._v("\n            "+e._s(e.freeMonthPeriod)+"\n          ")]):e._e()]),e._v(" "),!e.shouldInputCard&&e.plan.price>0?r("p",{staticClass:"m-subscribeMembershipPlanModal__paymentLabel"},[e._v("\n          決済方法: 登録されているクレジットカード\n        ")]):e._e()]),e._v(" "),r("section",{staticClass:"m-subscribeMembershipPlanModal__section"},[r("h3",{staticClass:"m-subscribeMembershipPlanModal__heading"},[e._v("\n          メンバーシップ特典\n        ")]),e._v(" "),r("div",{staticClass:"m-subscribeMembershipPlanModal__description"},[r("ul",{staticClass:"m-subscribeMembershipPlanModal__defaultBenefitList"},[r("li",{staticClass:"m-subscribeMembershipPlanModal__benefitItem"},[r("div",{staticClass:"m-subscribeMembershipPlanModal__benefitTitle"},[r("div",{staticClass:"m-subscribeMembershipPlanModal__benefitIcon"},[r("nt-svg-icon",{attrs:{"aria-hidden":"true",type:"memberscard"}})],1),e._v("\n                メンバー限定の会員証\n              ")])]),e._v(" "),0!==e.plan.price?r("li",{staticClass:"m-subscribeMembershipPlanModal__benefitItem"},[r("div",{staticClass:"m-subscribeMembershipPlanModal__benefitTitle"},[r("div",{staticClass:"m-subscribeMembershipPlanModal__benefitIcon"},[r("nt-svg-icon",{attrs:{"aria-hidden":"true",type:"badge"}})],1),e._v("\n                活動期間に応じてバッジを表示\n              ")]),e._v(" "),r("ul",{staticClass:"m-subscribeMembershipPlanModal__badgeList"},e._l(5,(function(t){return r("li",{key:t,staticClass:"m-subscribeMembershipPlanModal__badgeItem"},[r("nt-image",{attrs:{src:e.$path.assetsPath("images/membership/badge/"+t+".png"),width:"78",height:"78",alt:""}})],1)})),0)]):e._e(),e._v(" "),e.visibleBoardBenefit?r("li",{staticClass:"m-subscribeMembershipPlanModal__benefitItem"},[r("div",{staticClass:"m-subscribeMembershipPlanModal__benefitTitle"},[r("div",{staticClass:"m-subscribeMembershipPlanModal__benefitIcon"},[r("nt-svg-icon",{attrs:{"aria-hidden":"true",type:"circle"}})],1),e._v("\n                メンバー限定掲示板\n              ")])]):e._e(),e._v(" "),e.plan.membershipNotesEnabled?r("li",{staticClass:"m-subscribeMembershipPlanModal__benefitItem"},[r("div",{staticClass:"m-subscribeMembershipPlanModal__benefitTitle"},[r("div",{staticClass:"m-subscribeMembershipPlanModal__benefitIcon"},[r("nt-svg-icon",{attrs:{"aria-hidden":"true",type:"note"}})],1),e._v("\n                メンバー特典記事\n              ")])]):e._e(),e._v(" "),e.plan.membershipMagazinesEnabled?r("li",{staticClass:"m-subscribeMembershipPlanModal__benefitItem"},[r("div",{staticClass:"m-subscribeMembershipPlanModal__benefitTitle"},[r("div",{staticClass:"m-subscribeMembershipPlanModal__benefitIcon"},[r("nt-svg-icon",{attrs:{"aria-hidden":"true",type:"magazine"}})],1),e._v("\n                メンバー特典マガジン\n              ")])]):e._e(),e._v(" "),e.hasBenefitMagazines?r("li",{staticClass:"m-subscribeMembershipPlanModal__benefitItem"},[r("benefit-appeal-texts",{attrs:{"benefit-appeal-texts":e.benefitMagazineTexts}})],1):e._e(),e._v(" "),e.hasBenefits?r("li",{staticClass:"m-subscribeMembershipPlanModal__benefitItem"},[r("benefit-appeal-texts",{attrs:{"benefit-appeal-texts":e.plan.benefitAppealTexts,size:"medium"}})],1):e._e()])])])]),e._v(" "),e.isShowAgreementForm?r("div",{staticClass:"m-subscribeMembershipPlanModal__agreement"},[!1===e.plan.isMember?r("form-checkbox",{staticClass:"m-subscribeMembershipPlanModal__agreementForm",attrs:{id:"allowAppearInMemberList",value:!0,checked:e.allowAppearInMemberList,label:"自分がメンバーであることを公開する"},on:{input:e.setAllowAppearInMemberList}}):e._e(),e._v(" "),!1===e.circleOwner.isFollowing?r("form-checkbox",{staticClass:"m-subscribeMembershipPlanModal__agreementForm",attrs:{id:"withFollow",value:!0,checked:e.withFollow,label:"クリエイターをフォロー"},on:{input:e.setWithFollow}}):e._e()],1):e._e(),e._v(" "),r("div",{staticClass:"m-subscribeMembershipPlanModal__attention"},[r("nt-link-functional",{staticClass:"m-subscribeMembershipPlanModal__attentionLink",attrs:{href:"https://www.help-note.com/hc/ja/articles/6253267645337",target:"_blank"}},[e._v("\n        有料コンテンツの購入についての確認事項\n      ")])],1),e._v(" "),r("div",{staticClass:"m-subscribeMembershipPlanModal__attention"},[r("nt-link-functional",{staticClass:"m-subscribeMembershipPlanModal__attentionLink",attrs:{href:"https://www.help-note.com/hc/ja/articles/900000861826",target:"_blank"}},[e._v("\n        メンバーシップについてはこちら\n      ")])],1)]),e._v(" "),e.showPurchaseConfirmTreatment?r("div",{staticClass:"m-subscribeMembershipPlanModal__footerTreatment"},[e.plan.isMember&&!1===e.plan.isCanceled?r("nt-button",{attrs:{size:"large",width:"fit",type:"danger"},on:{click:function(t){return t.preventDefault(),e.handleClickUnsubscribe(t)}}},[e._v("\n      プランの解約\n    ")]):e._e(),e._v(" "),r("nt-button",{class:{"mt-3":e.plan.isMember&&!1===e.plan.isCanceled,"bg-background-secondary":e.cannotSubscribe},attrs:{disabled:e.cannotSubscribe,type:e.isSubmitting?"disabled":"primary",size:"large",width:"fit"},on:{click:function(t){return t.preventDefault(),e.postSubscribe(t)}}},[e._v("\n      "+e._s(e.buttonText)+"\n    ")])],1):r("div",{staticClass:"m-basicModalContent__footer"},[r("modal-footer-button-group",{scopedSlots:e._u([{key:"default",fn:function(t){return[e.plan.isMember&&!1===e.plan.isCanceled?r("nt-button",{staticClass:"m-subscribeMembershipPlanModal__unsubscribeButton",class:t.buttonClass,attrs:{type:"danger",size:"small"},on:{click:function(t){return t.preventDefault(),e.handleClickUnsubscribe(t)}}},[e._v("\n          プランの解約\n        ")]):e._e(),e._v(" "),r("nt-button",{class:t.buttonClass,attrs:{type:"basic",size:"small"},on:{click:function(t){return t.preventDefault(),e.handleClickCancel(t)}}},[e._v("\n          キャンセル\n        ")]),e._v(" "),r("nt-button",{class:t.buttonClass,attrs:{type:e.isSubmitting?"disabled":"primary",disabled:e.cannotSubscribe,size:"small"},on:{click:function(t){return t.preventDefault(),e.postSubscribe(t)}}},[e._v("\n          "+e._s(e.buttonText)+"\n        ")])]}}])})],1)])}),[],!1,null,"9d9e1dce",null);t.a=component.exports},2888:function(e,t,r){"use strict";var n=r(0),o=(r(10),r(117),r(118),r(119),r(120),r(121),r(122),r(123),r(124),r(125),r(126),r(127),r(128),r(129),r(11),r(32),r(3)),c=r(187),l=r(80),d=r(193),m=r(247),h=r(402),_=r(246),v=r(34),f=r(78),M=r(2545),x=r(9),C=r(2125),y=r(30),w=r(1493),S=r(190),P=r(245),k=r(1420),z=r(26),circle=r(40),$=r(188),T=r(47),N=r(1526),E=r(106),I=new Map([["s100","bg_support_01.png"],["s500","bg_support_02.png"],["s1000","bg_support_03.png"],["sfree","bg_support_04.png"]]),L=o.a.extend({components:{FormCheckbox:S.a,Avatar:c.a,FormErrorList:l.a,FormGroup:d.a,FormTextarea:m.a,InputCount:h.a,ModalFooterButtonGroup:_.a,NtButton:v.a,NtLinkFunctional:f.a,SupportSelectPrice:M.a,NtIcon:z.default,NtLink:T.a},mixins:[C.a,y.a,P.a,N.a],props:{isModal:{type:Boolean,default:!1},placeType:{type:String,default:"purchase-support-modal"}},computed:{config:()=>x,creator(){return this.$store.state.purchase.note?this.$store.state.purchase.note.user:null},hasMembership(){return!!this.$store.state.purchase.note&&this.$store.state.purchase.note.isPublicMembershipConnected},userProfileImagePath(){return new k.a(this.creator.userProfileImagePath).size(56).dpr().toString()},supportAppealText(){var e;return null!==(e=this.creator.supportBoxAppealText)&&void 0!==e?e:""},currentSupportBackground(){var e,t=(null===(e=this.currentSupport)||void 0===e?void 0:e.kind)||x.support.defaultKind,n=I.get(t),o=n?r(2681)("./".concat(n)):"";return{"background-image":o?"url(".concat(o,")"):"none"}},planSelectText(){var e=this.$store.getters[$.PURCHASE_GETTER_TYPES.MIN_PLAN_PRICE],t="(".concat(e,"円/月〜)");return"プランを選択 ".concat(e?t:"")},membershipPath(){return"".concat(this.$path.contentPath({contentType:"membership",content:this.creator}),"/join")},contentAuthor(){return this.$store.state.purchase.creator},priceValidateMessage(){var e=Object(E.number)(x.support.minPrice),t=Object(E.number)(x.support.maxPrice);return"".concat(e,"円から").concat(t,"円の間でサポートしてください。")}},mounted(){var e,t;Object(w.c)(this.$tracker,{kind:w.a.cv_purchasing_process,action:"imp",contentType:"Note",contentKey:null===(e=this.$store.state.purchase.note)||void 0===e?void 0:e.key,placeType:this.placeType,purchaseType:"support",experiment_info:{purchase_confirm_button:{group_name:this.purchaseConfirmButtonGroupName}}}),this.hasMembership&&this.$tracker.trackActionLogs([this.$tracker.buildActionLogRecord({kind:"membership-support-imp",contents:{creatorUrlname:this.creator.urlname,noteKey:null===(t=this.$store.state.purchase.note)||void 0===t?void 0:t.key}})])},methods:{decide(){this.$v.$touch(),this.$v.$invalid||this.$emit("decide",{actionType:"support",supportPrice:Number(this.currentSupport.price),supportMessage:this.supportMessage,paymentMethod:this.currentUser.lastPaymentMethod||"creditcard",withFollow:this.withFollow})},init(){var e=this;return Object(n.a)((function*(){e.supportMessage="",e.$v.$reset(),e.hasMembership&&(yield e.fetchMembershipPlans())}))()},close(){this.$emit("close")},onChangeWithFollow(e){this.withFollow=e},fetchMembershipPlans(){var e=this;return Object(n.a)((function*(){var{data:data}=yield Object(circle.f)(e.$axios,e.creator.urlname);e.$store.dispatch($.PURCHASE_ACTION_TYPES.SET_CIRCLE_PLANS,data.circlePlans)}))()},trackClickLog(){var e;this.$tracker.trackActionLogs([this.$tracker.buildActionLogRecord({kind:"membership-support-click",contents:{creatorUrlname:this.creator.urlname,noteKey:null===(e=this.$store.state.purchase.note)||void 0===e?void 0:e.key}})])}}}),A=(r(2682),r(2684),r(5)),component=Object(A.a)(L,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-purchaseSupport"},[r("div",{staticClass:"m-basicModalContent__body"},[r("section",{staticClass:"m-purchaseSupport__body"},[r("div",{staticClass:"m-purchaseSupport__cover",style:e.currentSupportBackground},[""!==e.supportAppealText?r("div",{staticClass:"m-purchaseSupport__balloon"},[r("div",{staticClass:"m-purchaseSupport__balloonInner"},[e._v("\n            "+e._s(e.supportAppealText)+"\n          ")])]):e._e(),e._v(" "),r("figure",{staticClass:"m-purchaseSupport__avatar"},[r("avatar",{attrs:{src:e.userProfileImagePath,size:"large"}})],1),e._v(" "),r("h1",{staticClass:"m-purchaseSupport__title"},[e._v("\n          "+e._s(e.creator.nickname||e.creator.urlname)+" さんをサポート\n        ")])]),e._v(" "),r("div",{staticClass:"m-purchaseSupport__inner",class:{"mx-4":e.isPurchaseConfirmButtonTreatment}},[e.hasMembership?r("section",{staticClass:"m-purchaseSupport__item"},[r("h3",{staticClass:"mb-2 text-sm font-bold"},[e._v("\n            メンバーシップで定期サポート\n          ")]),e._v(" "),r("nt-link",{attrs:{href:e.membershipPath,"is-button-link":!0,"button-type":"basic","button-width":"fit",target:"_blank"},nativeOn:{click:function(t){return e.trackClickLog(t)}}},[e._v("\n            "+e._s(e.planSelectText)+"\n          ")])],1):e._e(),e._v(" "),r("div",{staticClass:"m-purchaseSupport__item"},[r("nt-link-functional",{staticClass:"m-purchaseSupport__help",attrs:{href:e.$path.staticPath("https://help-note.com/hc/ja/articles/360009035473"),target:"_blank"}},[r("span",{staticClass:"m-purchaseSupport__helpText"},[e._v("サポートとは")]),r("nt-icon",{attrs:{type:"help",clickable:!1,size:"small"}})],1),e._v(" "),r("form-group",{attrs:{label:"金額"}},[r("support-select-price",{model:{value:e.currentSupport,callback:function(t){e.currentSupport=t},expression:"currentSupport"}}),e._v(" "),r("form-error-list",{directives:[{name:"show",rawName:"v-show",value:e.$v.currentSupport.price.$error,expression:"$v.currentSupport.price.$error"}],attrs:{slot:"errorMessage"},slot:"errorMessage"},[r("div",{directives:[{name:"show",rawName:"v-show",value:!e.$v.currentSupport.price.required,expression:"!$v.currentSupport.price.required"}]},[e._v("\n                金額は必須です。\n              ")]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.$v.currentSupport.price.range,expression:"!$v.currentSupport.price.range"}]},[e._v("\n                "+e._s(e.priceValidateMessage)+"\n              ")])])],1)],1),e._v(" "),r("div",{staticClass:"m-purchaseSupport__item"},[r("form-textarea",{attrs:{id:"message",placeholder:e.messagePlaceholder,"has-error":e.$v.supportMessage.$error,label:"メッセージ"},model:{value:e.supportMessage,callback:function(t){e.supportMessage=t},expression:"supportMessage"}},[r("form-error-list",{directives:[{name:"show",rawName:"v-show",value:e.$v.supportMessage.$error,expression:"$v.supportMessage.$error"}],attrs:{slot:"errorMessage"},slot:"errorMessage"},[r("div",{directives:[{name:"show",rawName:"v-show",value:!e.$v.supportMessage.maxLength,expression:"!$v.supportMessage.maxLength"}]},[e._v("\n                "+e._s(e.config.support.maxMessageNum)+"文字以内で入力してください。\n              ")])])],1),e._v(" "),r("input-count",{attrs:{length:e.supportMessage.length,"max-length":e.config.support.maxMessageNum}})],1),e._v(" "),e.creator.isFollowing?e._e():r("div",{staticClass:"m-purchaseSupport__item"},[r("form-checkbox",{attrs:{id:"follow",checked:e.withFollow,value:!0,label:"クリエイターをフォロー"},on:{input:e.onChangeWithFollow}})],1)])])]),e._v(" "),e.isPurchaseConfirmButtonTreatment?r("div",{staticClass:"m-purchaseSupport__footerTreatment"},[r("nt-button",{attrs:{size:"large",width:"fit",type:"primary"},on:{click:function(t){return t.preventDefault(),e.decide(t)}}},[e._v("\n      確認\n    ")]),e._v(" "),r("nt-button",{staticClass:"mt-3",attrs:{width:"fit",type:"basic"},on:{click:function(t){return t.preventDefault(),e.close(t)}}},[e._v("\n      キャンセル\n    ")])],1):r("div",{staticClass:"m-basicModalContent__footer"},[r("modal-footer-button-group",{scopedSlots:e._u([{key:"default",fn:function(t){return[r("nt-button",{class:t.buttonClass,attrs:{size:"small",type:"basic"},on:{click:function(t){return e.close()}}},[e._v("\n          キャンセル\n        ")]),e._v(" "),r("nt-button",{class:t.buttonClass,attrs:{size:"small",type:"primary"},on:{click:function(t){return e.decide()}}},[e._v("\n          サポートする\n        ")])]}}])})],1)])}),[],!1,null,"1095997c",null);t.a=component.exports},2891:function(e,t,r){"use strict";var n=r(0),o=(r(15),r(16)),c=r(31),l=r(1826),d=r(80),m=r(246),h=r(34),_=r(47),v=r(1937),f=r(1763),M=r(116),x=r(188),C=r(2),y=r(30),w=r(355),S=r(98),P=r(9),k={components:{ConfirmListItem:l.a,FormErrorList:d.a,ModalFooterButtonGroup:m.a,NtButton:h.a,NtLink:_.a,PurchaseConfirmLink:v.a,PurchaseCover:f.a,ModalHeading:M.a},mixins:[y.a,w.a],props:{isModal:{type:Boolean,default:!1}},data:()=>({isSubmitting:!1}),computed:Object.assign(Object.assign({},Object(c.c)({coverUrl:x.PURCHASE_GETTER_TYPES.GET_COVER_URL})),{note(){return this.$store.state.purchase.note},guest(){return this.$store.state.purchase.guest},errored(){return this.$store.state.purchase.errored},successed(){return this.$store.state.purchase.successed}}),methods:{init(){Object(S.f)(P.gmo.tokenScript,!1),this.isSubmitting=!1,this.$store.dispatch(x.PURCHASE_ACTION_TYPES.RESET_ERROR)},purchase(){var e=this;return Object(n.a)((function*(){e.isSubmitting=!0,yield e.$store.dispatch(x.PURCHASE_ACTION_TYPES.PURCHASE_NOTE_FOR_GUEST),e.isSubmitting=!1,e.errored||(e.$store.dispatch(C.MODAL_ACTION_TYPES.SET_PURCHASE_MODAL_CONTAINER,{guestAuthorizationNumber:e.successed.authorizationNumber}),e.$emit("after-purchase"))}))()},closeModal(){o.o.remove("note-detail-paywall-click"),this.$emit("close")}}},z=(r(2694),r(2696),r(5)),component=Object(z.a)(k,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.note?r("div",{staticClass:"m-purchaseNoteGuestConfirm"},[r("div",{staticClass:"m-basicModalContent__header"},[e.isModal?r("modal-heading",{staticStyle:{display:"inline"}},[e._v("\n      購入内容の確認\n    ")]):[e._v("\n      購入内容の確認\n    ")]],2),e._v(" "),r("div",{staticClass:"m-basicModalContent__body"},[r("div",{staticClass:"m-purchaseNoteGuestConfirm__item m-purchaseNoteGuestConfirm__item--target"},[r("purchase-cover",{attrs:{kind:"note","image-url":e.coverUrl,title:e.note.name,"author-name":e.note.user.nickname||e.note.user.urlname,price:e.note.price,note:e.note}})],1),e._v(" "),r("confirm-list-item",{staticClass:"m-purchaseNoteGuestConfirm__item"},[r("template",{slot:"header"},[e._v("\n        クレジットカード\n        "),r("nt-link",{staticClass:"m-purchaseNoteGuestConfirm__link",on:{click:function(t){return e.$emit("input-card")}}},[e._v("\n          変更\n        ")])],1),e._v(" "),r("template",{slot:"body"},[r("ul",[r("li",[e._v("カード番号:"+e._s(e.guest.card.no))]),e._v(" "),r("li",[e._v("有効期限:"+e._s(e.guest.card.expiryMonth)+" / "+e._s(e.guest.card.expiryYear))]),e._v(" "),r("li",[e._v("カード名義:"+e._s(e.guest.card.name))])])])],2),e._v(" "),r("confirm-list-item",{staticClass:"m-purchaseNoteGuestConfirm__item"},[r("template",{slot:"header"},[e._v("\n        メールアドレス\n        "),r("nt-link",{staticClass:"m-purchaseNoteGuestConfirm__link",on:{click:function(t){return e.$emit("input-card")}}},[e._v("\n          変更\n        ")])],1),e._v(" "),r("template",{slot:"body"},[e._v("\n        "+e._s(e.guest.mail)+"\n      ")])],2),e._v(" "),r("confirm-list-item",{staticClass:"m-purchaseNoteGuestConfirm__item"},[r("template",{slot:"header"},[e._v("\n        購入すると\n        "),r("nt-link",{staticClass:"m-purchaseNoteGuestConfirm__link",attrs:{href:e.$path.staticPath("/terms"),target:"_blank"}},[e._v("\n          利用規約\n        ")]),e._v("と\n        "),r("nt-link",{staticClass:"m-purchaseNoteGuestConfirm__link",attrs:{href:"https://note.jp/n/nd65ead4182a6#b8d0587d-bfbc-4e7a-9e9e-ee7aacb88b3d",target:"_blank"}},[e._v("\n          プライバシーポリシー\n        ")]),e._v("\n        に同意したものとみなします。\n      ")],1)],2),e._v(" "),e.errored?r("form-error-list",{staticClass:"m-purchaseNoteGuestConfirm__item"},[r("div",[e._v(e._s(e.toApiErrorMessage(e.errored)))])]):e._e()],1),e._v(" "),r("purchase-confirm-link"),e._v(" "),r("div",{staticClass:"m-basicModalContent__footer"},[r("modal-footer-button-group",{scopedSlots:e._u([{key:"default",fn:function(t){return[r("nt-button",{class:t.buttonClass,attrs:{disabled:e.isSubmitting,type:"basic",size:"small"},on:{click:function(t){return t.preventDefault(),e.closeModal()}}},[e._v("\n          キャンセル\n        ")]),e._v(" "),r("nt-button",{class:t.buttonClass,attrs:{disabled:e.isSubmitting,size:"small",type:"primary"},on:{click:function(t){return e.purchase()}}},[e._v("\n          購入する\n        ")])]}}],null,!1,3231421579)})],1)],1):e._e()}),[],!1,null,"b5475266",null);t.a=component.exports},3315:function(e,t,r){var content=r(4394);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("37080d6e",content,!0,{sourceMap:!1})},3316:function(e,t,r){var content=r(4396);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("6cafdac4",content,!0,{sourceMap:!1})},4393:function(e,t,r){"use strict";r(3315)},4394:function(e,t,r){var n=r(12)((function(i){return i[1]}));n.push([e.i,".o-purchaseNoteFlowChoiceModal[data-v-105385ea]{padding:40px}.o-purchaseNoteFlowChoiceModal__item+.o-purchaseNoteFlowChoiceModal__item[data-v-105385ea]{padding-top:32px;margin-top:32px;border-top:1px solid var(--color-border-default)}.o-purchaseNoteFlowChoiceModal__button+.o-purchaseNoteFlowChoiceModal__button[data-v-105385ea]{margin-top:8px}.o-purchaseNoteFlowChoiceModal__title[data-v-105385ea]{margin-bottom:16px;font-weight:700;text-align:center}",""]),n.locals={},e.exports=n},4395:function(e,t,r){"use strict";r(3316)},4396:function(e,t,r){var n=r(12)((function(i){return i[1]}));n.push([e.i,".o-premiumSubscribeModal__body[data-v-1cf4ede1]{padding:24px}.o-premiumSubscribeModal__item[data-v-1cf4ede1]{display:flex;margin-bottom:20px}.o-premiumSubscribeModal__cover[data-v-1cf4ede1]{width:60px;height:60px;margin-right:20px;border:1px solid var(--color-border-default);border-radius:4px}.o-premiumSubscribeModal__name[data-v-1cf4ede1]{font-weight:700}.o-premiumSubscribeModal__caution[data-v-1cf4ede1]{font-size:var(--font-size-xs)}.o-premiumSubscribeModal__link[data-v-1cf4ede1]{color:var(--color-custom-accent)}.o-premiumSubscribeModal__plan[data-v-1cf4ede1]{padding:24px 24px 24px 40px;list-style-type:disc;background-color:var(--color-background-secondary);border:1px solid var(--color-border-default);border-radius:4px}.o-premiumSubscribeModal__price[data-v-1cf4ede1]{margin-bottom:8px;font-size:var(--font-size-xl);font-weight:700;text-align:center}.o-premiumSubscribeModal__priceSub[data-v-1cf4ede1]{display:inline;font-size:var(--font-size-xs);font-weight:400}.o-premiumSubscribeModal__attention[data-v-1cf4ede1]{margin-top:16px}.o-premiumSubscribeModal__attentionItem[data-v-1cf4ede1]{display:flex;align-content:center}.o-premiumSubscribeModal__attentionItem+.o-premiumSubscribeModal__attentionItem[data-v-1cf4ede1]{margin-top:8px}.o-premiumSubscribeModal__attentionIcon[data-v-1cf4ede1]{flex:0 0 auto;margin-right:8px;line-height:1.5;color:var(--color-custom-accent)}.o-premiumSubscribeModal__attentionText[data-v-1cf4ede1]{width:100%;font-size:var(--font-size-xs);font-weight:700;line-height:1.5;color:var(--color-text-secondary)}",""]),n.locals={},e.exports=n},4976:function(e,t,r){"use strict";r.r(t);var n=r(67),o=r(79),c=r(2888),l=r(30),d={components:{BasicModalContent:o.a,SupportShared:c.a,NtModal:n.a},mixins:[l.a],computed:{creator(){return this.$store.state.purchase.note?this.$store.state.purchase.note.user:null}},methods:{init(){var e;null===(e=this.$refs.supportShared)||void 0===e||e.init()},relayDecide(e){this.$emit("decide",e)}}},m=r(5),h=Object(m.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.creator?r("nt-modal",{attrs:{"disable-backdrop":!0,name:"purchaseSupport"},on:{"before-open":function(t){return e.init()}}},[r("basic-modal-content",{staticClass:"o-purchaseSupport"},[r("support-shared",{ref:"supportShared",attrs:{slot:"allParts","is-modal":!0},on:{decide:e.relayDecide,close:e.popModal},slot:"allParts"})],1)],1):e._e()}),[],!1,null,null,null).exports,_=r(3),v=r(3600),f=_.a.extend({components:{NtModal:n.a,BasicModalContent:o.a,OneshotContentShared:v.a},mixins:[l.a],computed:{actionType(){return this.$store.state.modal.purchaseModalContainer.actionType},note(){return this.$store.state.purchase.note},magazine(){return this.$store.state.purchase.magazine}},methods:{init(){var e;null===(e=this.$refs.oneshotContentShared)||void 0===e||e.init()},relayConfirm(e){this.$emit("confirm",e)},relayAfterPurchase(e){this.$emit("afterPurchase",e)},relayChangePaymentMethod(e){this.$emit("changePaymentMethod",e)}}}),M=Object(m.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return"note_purchase"===e.actionType&&e.note||"magazine_purchase"===e.actionType&&e.magazine?r("nt-modal",{attrs:{"disable-backdrop":!0,name:"purchaseOneshotContent"},on:{"before-open":function(t){return e.init()}}},[r("basic-modal-content",{attrs:{scrollable:!1}},[r("oneshot-content-shared",{ref:"oneshotContentShared",attrs:{slot:"allParts","is-modal":!0},on:{confirm:e.relayConfirm,afterPurchase:e.relayAfterPurchase,changePaymentMethod:e.relayChangePaymentMethod,close:e.popModal},slot:"allParts"})],1)],1):e._e()}),[],!1,null,null,null).exports,x=r(2885),C={components:{NtModal:n.a,BasicModalContent:o.a,PaymentMethodShared:x.a},mixins:[l.a],methods:{resetData(){var e;null===(e=this.$refs.paymentMethodShared)||void 0===e||e.resetData()},relayConfirm(e){this.$emit("confirm",e)},relayInputCard(e){this.$emit("inputCard",e)},moveToPurchaseOneshotContentModal(e){this.replacePurchaseOneshotContentModal(e)}}},y=Object(m.a)(C,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.currentUser?r("nt-modal",{attrs:{"disable-backdrop":!0,name:"purchasePaymentMethod"},on:{"before-open":function(t){return e.resetData()}}},[r("basic-modal-content",[r("payment-method-shared",{ref:"paymentMethodShared",attrs:{slot:"allParts","is-modal":!0},on:{confirm:e.relayConfirm,moveToPurchaseOneshotContent:e.moveToPurchaseOneshotContentModal,inputCard:e.relayInputCard,close:function(t){return e.popModal()}},slot:"allParts"})],1)],1):e._e()}),[],!1,null,null,null).exports,w=r(2884),S={components:{BasicModalContent:o.a,NtModal:n.a,CreditCardInputShared:w.a},mixins:[l.a],methods:{init(){var e;null===(e=this.$refs.creditCardInputShared)||void 0===e||e.init()},relaySaved(e){this.$emit("saved",e)},confirm(){this.replacePurchaseNoteGuestConfirmModal({})}}},P=Object(m.a)(S,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nt-modal",{attrs:{"disable-backdrop":!0,name:"purchaseCreditCardInput"},on:{"before-open":function(t){return e.init()}}},[r("basic-modal-content",[r("credit-card-input-shared",{ref:"creditCardInputShared",attrs:{slot:"allParts","is-modal":!0},on:{saved:e.relaySaved,close:e.popModal,confirm:e.confirm},slot:"allParts"})],1)],1)}),[],!1,null,null,null).exports,k=r(2883),z=_.a.extend({components:{BasicModalContent:o.a,NtModal:n.a,ConfirmShared:k.a},mixins:[l.a],computed:{note(){return this.$store.state.purchase.note},magazine(){return this.$store.state.purchase.magazine}},methods:{init(){var e;null===(e=this.$refs.confirmShared)||void 0===e||e.init()},relaySelectPaymentMethod(e){this.$emit("selectPaymentMethod",e)},relayInputCard(e){this.$emit("inputCard",e)},relayAfterPurchase(e){this.$emit("afterPurchase",e)}}}),$=Object(m.a)(z,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.note||e.magazine?r("nt-modal",{attrs:{"disable-backdrop":!0,name:"purchaseSupportConfirm"},on:{"before-open":function(t){return e.init()}}},[r("basic-modal-content",[r("confirm-shared",{ref:"confirmShared",attrs:{slot:"allParts","is-modal":!0},on:{selectPaymentMethod:e.relaySelectPaymentMethod,inputCard:e.relayInputCard,afterPurchase:e.relayAfterPurchase,close:e.popModal},slot:"allParts"})],1)],1):e._e()}),[],!1,null,null,null).exports,T=r(34),N={components:{BasicModalContent:o.a,NtButton:T.a,NtModal:n.a},mixins:[l.a],computed:{note(){return this.$store.state.purchase.note},showGuestPurchase(){return this.note&&"SoundNote"!==this.note.type}},methods:{toLoginPage(){window.location.href=this.$path.loginPath()},toSignupPage(){window.location.href=this.$path.signupPath()}}},E=(r(4393),Object(m.a)(N,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nt-modal",{attrs:{name:"purchaseNoteFlowChoice"}},[r("basic-modal-content",[r("div",{staticClass:"o-purchaseNoteFlowChoiceModal",attrs:{slot:"body"},slot:"body"},[r("section",{staticClass:"o-purchaseNoteFlowChoiceModal__item"},[r("h1",{staticClass:"o-purchaseNoteFlowChoiceModal__title"},[e._v("\n          アカウントをお持ちの方\n        ")]),e._v(" "),r("nt-button",{staticClass:"o-purchaseNoteFlowChoiceModal__button",attrs:{type:"primary",size:"large",width:"fit"},on:{click:function(t){return e.toLoginPage()}}},[e._v("\n          ログインして購入\n        ")]),e._v(" "),r("nt-button",{staticClass:"o-purchaseNoteFlowChoiceModal__button",attrs:{type:"basic",width:"fit"},on:{click:function(t){return e.toSignupPage()}}},[e._v("\n          会員登録して購入\n        ")])],1),e._v(" "),e.showGuestPurchase?r("section",{staticClass:"o-purchaseNoteFlowChoiceModal__item"},[r("h1",{staticClass:"o-purchaseNoteFlowChoiceModal__title"},[e._v("\n          アカウントをお持ちでない方\n        ")]),e._v(" "),r("nt-button",{staticClass:"o-purchaseNoteFlowChoiceModal__button",attrs:{type:"primary",size:"large",width:"fit"},on:{click:function(t){return e.replacePurchaseCreditCardInputModal({})}}},[e._v("\n          そのまま購入\n        ")])],1):e._e()]),e._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("nt-button",{attrs:{size:"small",type:"basic"},on:{click:function(t){return e.popModal()}}},[e._v("\n        閉じる\n      ")])],1)])],1)}),[],!1,null,"105385ea",null).exports),I=r(0),L=r(2891),A={components:{BasicModalContent:o.a,NoteGuestConfirmShared:L.a,NtModal:n.a},mixins:[l.a],methods:{init(){var e;null===(e=this.$refs.noteGuestConfirmShared)||void 0===e||e.init()},relayAfterPurchase(){var e=this;return Object(I.a)((function*(){e.$emit("afterPurchase",{purchaseResult:e.$store.state.purchase.successed})}))()},callReplacePurchaseCreditCardInputModal(){this.replacePurchaseCreditCardInputModal({})}}},F=Object(m.a)(A,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nt-modal",{attrs:{"disable-backdrop":!0,name:"purchaseNoteGuestConfirm"},on:{"before-open":function(t){return e.init()}}},[r("basic-modal-content",{attrs:{scrollable:!1}},[r("note-guest-confirm-shared",{ref:"noteGuestConfirmShared",attrs:{slot:"allParts","is-modal":!0},on:{"input-card":e.callReplacePurchaseCreditCardInputModal,close:e.popModal,"after-purchase":e.relayAfterPurchase},slot:"allParts"})],1)],1)}),[],!1,null,null,null).exports,O=r(2482),B=r(188),G=r(355),U=_.a.extend({components:{BasicModalContent:o.a,NtModal:n.a,NoteGuestCompleteShared:O.a},mixins:[l.a,G.a],data:()=>({registerCompleted:!1}),methods:{init(){var e;null===(e=this.$refs.noteGuestCompleteShared)||void 0===e||e.init()},afterRegister(){this.registerCompleted=!0},deinit(){this.$store.dispatch(B.PURCHASE_ACTION_TYPES.RESET_GUEST_CREDITCARD)},closeAndReload(){this.$path.reloadCurrentPath(),this.popModal()}}}),j=Object(m.a)(U,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nt-modal",{attrs:{"disable-backdrop":!0,name:"purchaseNoteGuestComplete"},on:{"before-open":function(t){return e.init()},closed:function(t){return e.deinit()}}},[r("basic-modal-content",{attrs:{scrollable:!1}},[r("note-guest-complete-shared",{ref:"noteGuestCompleteShared",attrs:{slot:"allParts","is-modal":!0,"register-completed":e.registerCompleted},on:{"after-register":e.afterRegister,"close-after-signup":e.closeAndReload,"close-without-signup":e.popModal},slot:"allParts"})],1)],1)}),[],!1,null,null,null).exports,R=r(3599),D=_.a.extend({components:{AfterPurchaseShared:R.a,BasicModalContent:o.a,NtModal:n.a},mixins:[l.a],computed:{modalName:()=>"afterPurchaseMessage"},methods:{init(){var e;null===(e=this.$refs.afterPurchaseShared)||void 0===e||e.init()},close(){this.popModal(),this.$emit("closed",{actionType:this.actionType})}}}),Y=Object(m.a)(D,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nt-modal",{attrs:{"disable-backdrop":!0,name:e.modalName},on:{"before-open":function(t){return e.init()}}},[r("basic-modal-content",{staticClass:"o-afterPurchaseMessageModal"},[r("after-purchase-shared",{ref:"afterPurchaseShared",attrs:{slot:"allParts","is-modal":!0},on:{close:e.close},slot:"allParts"})],1)],1)}),[],!1,null,null,null).exports,H=r(2874),K=_.a.extend({components:{NtModal:n.a,BasicModalContent:o.a,SubscribeMagazineShared:H.a},mixins:[l.a],computed:{magazine(){return this.$store.state.purchase.magazine}},methods:{init(){var e;null===(e=this.$refs.subscribeMagazineShared)||void 0===e||e.init()},relayInputCard(e){this.$emit("inputCard",e)},relayAfterPurchase(e){this.$emit("afterPurchase",e)}}}),W=Object(m.a)(K,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.magazine?r("nt-modal",{attrs:{"disable-backdrop":!0,name:"purchaseSubscribeMagazine"},on:{"before-open":function(t){return e.init()}}},[r("basic-modal-content",{attrs:{scrollable:!1}},[r("subscribe-magazine-shared",{ref:"subscribeMagazineShared",attrs:{slot:"allParts","is-modal":!0},on:{inputCard:e.relayInputCard,afterPurchase:e.relayAfterPurchase,close:e.popModal},slot:"allParts"})],1)],1):e._e()}),[],!1,null,null,null).exports,V=r(246),J=r(25),Q=r(1419),X=r(26),Z=r(47),ee=r(80),te=r(1937),ae=r(365),re=r(21),ne=_.a.extend({components:{BasicModalContent:o.a,ModalFooterButtonGroup:V.a,NtButton:T.a,NtImage:J.a,NtModal:n.a,NtCurrency:Q.a,NtIcon:X.default,NtLink:Z.a,FormErrorList:ee.a,PurchaseConfirmLink:te.a},mixins:[l.a,G.a],data:()=>({apiError:null}),computed:{premiumPlan(){return this.$store.state.modal.purchaseModalContainer.premiumPlan},nextChargesAt(){return Object(ae.b)(this.premiumPlan.nextChargesAt,"YYYY年M月D日")}},methods:{closeModal(){var e=this;return Object(I.a)((function*(){yield e.$store.dispatch(re.USER_ACTION_TYPES.AUTH),e.popModal()}))()},callReplacePurchaseCreditCardInputModal(e){var{supportPrice:t,supportMessage:r,paymentMethod:n}=e;this.replacePurchaseCreditCardInputModal({supportPrice:t,supportMessage:r,paymentMethod:n})},subscribe(){var e=this;return Object(I.a)((function*(){yield e.$store.dispatch(B.PURCHASE_ACTION_TYPES.SUBSCRIBE_PREMIUM,{premiumPlan:e.premiumPlan});var t=e.$store.state.purchase.errored;t?e.apiError=t:(yield e.$store.dispatch(re.USER_ACTION_TYPES.AUTH),e.$emit("afterPurchase",{purchaseResponse:e.$store.state.purchase.successed}))}))()}}}),se=(r(4395),Object(m.a)(ne,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nt-modal",{staticClass:"o-premiumSubscribeModal",attrs:{name:"purchaseSubscribePremium"}},[r("basic-modal-content",[r("div",{attrs:{slot:"header"},slot:"header"},[e._v("\n      noteプレミアムに申し込む\n    ")]),e._v(" "),r("div",{attrs:{slot:"body"},slot:"body"},[r("div",{staticClass:"o-premiumSubscribeModal__body"},[e.premiumPlan?r("div",{staticClass:"o-premiumSubscribeModal__main"},[r("div",{staticClass:"o-premiumSubscribeModal__item"},[r("nt-image",{staticClass:"o-premiumSubscribeModal__cover",attrs:{src:e._f("imageSquare")("~/assets/images/default_note_logo_202212.png",e.isMobile,"small"),lazy:!1,alt:""}}),e._v(" "),r("div",{staticClass:"o-premiumSubscribeModal__title"},[r("div",{staticClass:"o-premiumSubscribeModal__name"},[e._v("\n                "+e._s(e.premiumPlan.name)+"\n              ")]),e._v(" "),r("div",{staticClass:"o-premiumSubscribeModal__caution"},[r("nt-link",{staticClass:"o-premiumSubscribeModal__link",attrs:{href:"/premium",target:"_blank"}},[e._v("\n                  "+e._s(e.premiumPlan.name)+"についてはこちら\n                ")])],1)])],1),e._v(" "),r("div",{staticClass:"o-premiumSubscribeModal__plan"},[r("div",{staticClass:"o-premiumSubscribeModal__price"},[r("span",{staticClass:"o-premiumSubscribeModal__priceSub"},[e._v("¥")]),e._v(" "),r("nt-currency",{attrs:{prefix:"",amount:e.premiumPlan.price,suffix:""}}),e._v(" "),r("span",{staticClass:"o-premiumSubscribeModal__priceSub"},[e._v(" / 月")])],1),e._v(" "),r("ul",{staticClass:"o-premiumSubscribeModal__attention"},[r("li",{staticClass:"o-premiumSubscribeModal__attentionItem"},[r("nt-icon",{staticClass:"o-premiumSubscribeModal__attentionIcon",attrs:{clickable:!1,size:"small",type:"check"}}),e._v(" "),e.premiumPlan.freeTrialIsAvailable?r("div",{staticClass:"o-premiumSubscribeModal__attentionText"},[e._v("\n                  来月より課金開始（加入月無料）\n                ")]):r("div",{staticClass:"o-premiumSubscribeModal__attentionText"},[e._v("\n                  今月より課金開始\n                ")])],1),e._v(" "),r("li",{staticClass:"o-premiumSubscribeModal__attentionItem"},[r("nt-icon",{staticClass:"o-premiumSubscribeModal__attentionIcon",attrs:{clickable:!1,size:"small",type:"check"}}),e._v(" "),r("div",{staticClass:"o-premiumSubscribeModal__attentionText"},[e._v("\n                  次回課金日: "+e._s(e.nextChargesAt)+"\n                ")])],1)])]),e._v(" "),e.apiError?r("form-error-list",{staticClass:"o-premiumSubscribeModal__error"},[r("div",[e._v(e._s(e.toApiErrorMessage(e.apiError)))])]):e._e()],1):e._e()]),e._v(" "),r("purchase-confirm-link")],1),e._v(" "),r("modal-footer-button-group",{attrs:{slot:"footer"},slot:"footer",scopedSlots:e._u([{key:"default",fn:function(t){return[r("nt-button",{class:t.buttonClass,attrs:{type:"basic",size:"small"},on:{click:function(t){return t.preventDefault(),e.closeModal()}}},[e._v("\n          キャンセル\n        ")]),e._v(" "),e.currentUser.canCheckout?e._e():r("nt-button",{class:t.buttonClass,attrs:{type:"primary",size:"small"},on:{click:function(t){return t.preventDefault(),e.callReplacePurchaseCreditCardInputModal(t)}}},[e._v("\n          カード情報入力画面へ\n        ")]),e._v(" "),!e.currentUser.isPremiumUser&&e.currentUser.canCheckout?r("nt-button",{class:t.buttonClass,attrs:{type:"primary",size:"small"},on:{click:function(t){return t.preventDefault(),e.subscribe(t)}}},[e._v("\n          noteプレミアムに申込\n        ")]):e._e(),e._v(" "),e.currentUser.isPremiumUser?r("nt-button",{class:t.buttonClass,attrs:{disabled:!0,type:"secondary",size:"small"}},[e._v("\n          noteプレミアム登録済\n        ")]):e._e()]}}])})],1)],1)}),[],!1,null,"1cf4ede1",null).exports),ie=r(2882),oe=_.a.extend({components:{BasicModalContent:o.a,CautionShared:ie.a,NtModal:n.a},mixins:[l.a],computed:{isShown(){return"note_purchase"===this.actionType&&this.note&&!0!==this.note.isRefund||"magazine_purchase"===this.actionType&&this.magazine},actionType(){return this.$store.state.modal.purchaseModalContainer.actionType},note(){return this.$store.state.purchase.note},magazine(){return this.$store.state.purchase.magazine}},methods:{close(){this.popModal()},relayConfirm(e){this.$emit("confirm",e)},relayAfterPurchase(e){this.$emit("afterPurchase",e)}}}),ce=Object(m.a)(oe,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isShown?r("nt-modal",{attrs:{"disable-backdrop":!0,name:"purchaseCaution"}},[r("basic-modal-content",{attrs:{scrollable:!1}},[r("caution-shared",{attrs:{slot:"allParts","is-modal":!0},on:{close:e.close,confirm:e.relayConfirm,afterPurchase:e.relayAfterPurchase},slot:"allParts"})],1)],1):e._e()}),[],!1,null,null,null).exports,le=r(2886),de=r(1736),ue=r(135),pe=_.a.extend({components:{BasicModalContent:o.a,NtModal:n.a,SubscribeMembershipPlanShared:le.a},mixins:[l.a,de.a],computed:{plan(){return this.$store.state.modal.subscribeMembershipPlan.plan}},mounted(){this.mountModals("subscribeMembershipPlanComplete","unsubscribeMembershipPlan")},methods:{init(){var e;null===(e=this.$refs.subscribeMembershipPlanShared)||void 0===e||e.init()},afterSubscribe(e){var t,r=this,{thanksMessage:n}=e;this.replaceSubscribeMembershipPlanCompleteModal({plan:this.plan,thanksMessage:n,closeCallback:(t=Object(I.a)((function*(){var e=r.$store.state.pages.noteDetail.data;if(null!==e&&"note-detail"===r.$store.state.purchase.beforePurchasingPlace)yield r.afterPurchaseFromNote(e),r.$modal.pop();else{var t=r.plan.circle.key,n=r.$path.contentPath({contentType:"membership",content:r.plan.circle.owner});try{var o=yield Object(ue.c)(r.$axios,t),{data:data}=o;data.length>0?window.location.href="".concat(n,"/notes"):window.location.href=n}catch(e){window.location.href=n}}})),function(){return t.apply(this,arguments)})})},openUnsubscribeModal(){var e={plan:this.plan,owner:this.plan.circle.owner,unsubscribeCallback:()=>{window.location.reload()}};this.replaceUnsubscribeMembershipPlanModal(e)}}}),me={components:{PurchaseSupportModal:h,PurchaseOneshotContentModal:M,PurchasePaymentMethodModal:y,PurchaseCreditCardInputModal:P,PurchaseConfirmModal:$,PurchaseNoteFlowChoiceModal:E,PurchaseNoteGuestConfirmModal:F,PurchaseNoteGuestCompleteModal:j,AfterPurchaseMessageModal:Y,PurchaseSubscribeMagazineModal:W,PurchaseSubscribePremiumModal:se,PurchaseCautionModal:ce,SubscribeMembershipPlanModal:Object(m.a)(pe,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.plan?r("nt-modal",{attrs:{"disable-backdrop":!1,name:"subscribeMembershipPlan"},on:{"before-open":e.init}},[r("basic-modal-content",{staticClass:"o-subscribeMembershipPlanModal"},[r("subscribe-membership-plan-shared",{ref:"subscribeMembershipPlanShared",attrs:{slot:"allParts","is-modal":!0,plan:e.plan},on:{"after-subscribe":e.afterSubscribe,"click-unsubscribe":e.openUnsubscribeModal,"click-cancel":e.popModal,"input-card":function(t){return e.$emit("input-card",{})}},slot:"allParts"})],1)],1):e._e()}),[],!1,null,null,null).exports},mixins:[l.a,de.a]},he=Object(m.a)(me,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.isLoggedIn?[r("purchase-support-modal",{on:{decide:e.replacePurchaseConfirmModal}}),e._v(" "),r("purchase-oneshot-content-modal",{on:{confirm:e.replacePurchaseConfirmModal,afterPurchase:e.afterPurchase,changePaymentMethod:e.replacePurchasePaymentMethodModal}}),e._v(" "),r("purchase-subscribe-magazine-modal",{on:{inputCard:e.replacePurchaseCreditCardInputModal,afterPurchase:e.afterPurchase}}),e._v(" "),r("purchase-subscribe-premium-modal",{on:{inputCard:e.replacePurchaseCreditCardInputModal,afterPurchase:e.afterPurchase}}),e._v(" "),r("subscribe-membership-plan-modal",{on:{"input-card":e.replacePurchaseCreditCardInputModal}}),e._v(" "),r("purchase-caution-modal",{on:{confirm:e.replacePurchaseConfirmModal,afterPurchase:e.afterPurchase}}),e._v(" "),r("purchase-confirm-modal",{on:{selectPaymentMethod:e.replacePurchasePaymentMethodModal,inputCard:e.replacePurchaseCreditCardInputModal,afterPurchase:e.afterPurchase}})]:[r("purchase-note-flow-choice-modal"),e._v(" "),r("purchase-note-guest-confirm-modal",{on:{afterPurchase:e.afterGuestPurchase}})],e._v(" "),r("purchase-note-guest-complete-modal"),e._v(" "),r("purchase-payment-method-modal",{on:{confirm:e.confirm,inputCard:e.replacePurchaseCreditCardInputModal}}),e._v(" "),r("purchase-credit-card-input-modal",{on:{saved:e.savedCreditCard}}),e._v(" "),r("after-purchase-message-modal",{on:{closed:e.closedAfterPurchaseMessage}})],2)}),[],!1,null,null,null);t.default=he.exports}}]);