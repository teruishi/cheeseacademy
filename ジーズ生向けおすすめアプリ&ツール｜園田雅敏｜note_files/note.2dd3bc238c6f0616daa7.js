(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{2082:function(e,t,r){"use strict";r(32),r(10),r(11);var n=r(3),o=r(2484),l=r(354),m=r(1419),c=r(25),h=r(47),d=r(9),f=r(30),v=r(1455),_=r(34),y=r(573),x=n.a.extend({components:{BeforePurchasingButton:v.a,NtButton:_.a},mixins:[f.a],props:{plan:{type:Object,required:!0},blocksYou:{type:Boolean,required:!0},noteKey:{type:String,default:""},size:{type:String,default:"medium"}},computed:{buttonType(){return this.plan.isMember||this.plan.isOwner?"secondary":"primary"},buttonText(){return this.plan.isOwner?"編集する":this.plan.isMember?"参加中":"参加手続きへ"},isBlocked(){return this.blocksYou&&!this.plan.isMember},canPurchase(){var{isOwner:e,isMember:t}=this.plan;return!e&&!t}},mounted(){this.mountModals("pickUrlname","subscribeMembershipPlan")},methods:{onClickButton(){if(!1!==this.isLoggedIn)if(this.currentUser.urlname)if(this.plan.isOwner)this.moveToSetting();else{var e=!this.currentUser.emailConfirmedFlag;if(this.$webview.isAndroidWebview&&!this.$webview.isAndroidVersionGteq(1,68,0)&&(e=!1),e)this.$webview.isAndroidWebview?window.location.href=this.$webview.needsMailActivation():this.pushRequestEmailConfirmModal();else if(this.isBlocked){var t=d.blockMessage.circle;this.pushAnyMessageModal({message:t})}else{var r={plan:this.plan,path:this.$path,prev:this.$route.path,noteKey:this.noteKey},{url:n,message:o}=Object(y.d)(r);n?location.href=n:o&&this.pushAnyMessageModal({message:o})}}else{var l={via:"membership",closeCallback:()=>{this.onClickButton()}};this.pushPickUrlnameModal(l)}else this.pushLoginOrSignupModal({type:"membership"})},moveToSetting(){this.$router.push("/settings/membership/plans/".concat(this.plan.key,"/edit"))}}}),w=(r(3791),r(5)),S=Object(w.a)(x,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-membershipPurchasingButton"},[e.canPurchase?r("div",{directives:[{name:"track-event",rawName:"v-track-event",value:{action:"membership-purchasing-button-click",category:"button",label:"membership"},expression:"{\n      action: 'membership-purchasing-button-click', category: 'button', label: 'membership'\n    }"}]},[r("before-purchasing-button",{attrs:{"button-size":e.size,"button-text":e.buttonText,"button-type":e.buttonType,"button-width":"fit","purchase-type":"subscription","content-key":e.plan.key,"content-type":"CirclePlan"},on:{click:e.onClickButton}})],1):r("nt-button",{attrs:{type:e.buttonType,width:"fit",size:e.size},on:{click:e.onClickButton}},[e._v("\n    "+e._s(e.buttonText)+"\n  ")])],1)}),[],!1,null,"67478327",null).exports,M=r(26),C=r(1420),k=r(107),z=n.a.extend({props:{defaultHeight:{type:Number,required:!0},defaultSpHeight:{type:Number,default:0}},data:()=>({canShowReadMore:!1,isShowReadMore:!1,height:0}),computed:{styles(){return 0!==this.height?{"--max-height":"".concat(this.height,"px"),"--sp-max-height":"".concat(this.height,"px")}:{"--max-height":"".concat(this.defaultHeight,"px"),"--sp-max-height":this.defaultSpHeight>0?"".concat(this.defaultSpHeight,"px"):0}}},mounted(){var e=this.$refs.detail;if(void 0!==e){if(0===this.defaultSpHeight)this.height=this.defaultHeight;else{var t=window.matchMedia("(max-width: 480px)").matches;this.height=t?this.defaultSpHeight:this.defaultHeight}this.canShowReadMore=e.offsetHeight<e.scrollHeight}},methods:{handleReadMoreClick(){var e=!this.isShowReadMore,t=this.$refs.detail;if(void 0!==t){var r=t.scrollHeight;t.style.maxHeight="".concat(e?r:this.height,"px")}this.isShowReadMore=e}}}),T=(r(3793),Object(w.a)(z,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-readMoreContainer",class:{relative:e.canShowReadMore},style:e.styles,attrs:{"aria-expanded":e.isShowReadMore}},[r("div",{ref:"detail",staticClass:"m-readMoreContainer__detail overflow-hidden transition-all duration-400 ease-inOut",class:{relative:e.canShowReadMore},attrs:{"aria-hidden":!e.isShowReadMore}},[e._t("default"),e._v(" "),e.canShowReadMore&&!1===e.isShowReadMore?r("div",{staticClass:"absolute bottom-0 left-0 w-full h-10 bg-gradient-to-t from-background-primary to-transparent"}):e._e()],2),e._v(" "),e.canShowReadMore?r("button",{staticClass:"m-readMoreContainer__readMore",on:{click:e.handleReadMoreClick}},[e._v("\n    "+e._s(e.isShowReadMore?"閉じる":"もっとくわしく")+"\n  ")]):e._e()])}),[],!1,null,"cbdd40b4",null).exports),A=r(1450),P=r(361),B=r(78),O=n.a.extend({components:{NtLinkFunctional:B.a,BenefitAppealTexts:o.a,ColorLabel:l.a,NtCurrency:m.a,NtImage:c.a,NtLink:h.a,NtIcon:M.default,MembershipPurchasingButton:S,ReadMoreContainer:T,AvatarList:A.a},props:{plan:{type:Object,required:!0,default:null},linkRequired:{type:Boolean,default:!1},creator:{type:Object,required:!1,default:null},isPreview:{type:Boolean,default:!1},noteKey:{type:String,default:""},isShowDescription:{type:Boolean,default:!0},buttonSize:{type:String,default:"medium"},showMembers:{type:Boolean,default:!1}},computed:{price(){return this.plan.isOwner||this.plan.isMember||0===this.plan.price?0:this.plan.price},statusLabelText(){return"public"===this.plan.status?"公開中":"非公開"},statusLabelType(){return"public"===this.plan.status?"custom":"basic"},planSettingPath(){return"/settings/membership/plans/".concat(this.plan.key,"/edit?destination=message")},membershipPath(){var option={contentType:"membership",content:this.plan.circle.owner},e=this.plan.isMember||this.plan.isOwner,path=this.$path.contentPath(option);return"".concat(path).concat(e?"":"/join")},headerImage(){return new C.a(this.plan.headerImagePath).format("jpg").width(this.isMobile?400:600).crop("16:9").quality().toString()},blocksYou(){var e;return(null===(e=this.creator)||void 0===e?void 0:e.blocksYou)||!1},circleName(){return this.plan.circle.name},defaultBenefitAppealTexts(){var e=[{type:"memberscard",text:"メンバー限定の会員証が発行されます"}];return 0!==this.plan.price&&e.push({type:"badge",text:"活動期間に応じたバッジを表示"}),!1===Object(P.a)(this.plan.circle)&&e.push({type:"circle",text:"メンバー限定掲示板を閲覧できます"}),this.plan.membershipNotesEnabled&&e.push({type:"note",text:"メンバー特典記事を閲覧できます"}),this.plan.membershipMagazinesEnabled&&e.push({type:"magazine",text:"メンバー特典マガジンを閲覧できます"}),e},benefitMagazineTexts(){var e=[];if(!this.benefitMagazines)return e;for(var t of this.benefitMagazines){if(e.length>=10){e.push({type:"magazine",text:"マガジン 他".concat(this.benefitMagazines.length-e.length,"件")});break}var r=t.name.length>12?"".concat(t.name.substring(0,11),"..."):t.name;e.push({type:"magazine",text:"マガジン「".concat(r,"」")})}return e},benefitAppealTexts(){return[...this.plan.benefitAppealTexts.map((text=>({type:"recommend",text:text}))),...this.benefitMagazineTexts,...this.defaultBenefitAppealTexts]},benefitMagazines(){return this.plan.membershipMagazines},showStatusLabel(){return!this.isPreview&&this.plan.isOwner},isFirstMonthFree(){return 0!==this.plan.price&&(void 0===this.currentUser||null===this.currentUser||this.plan.isOwner||!1===this.currentUser.canCheckout?!1===this.plan.isImmediateCharge:this.plan.isFreeTrialPeriodAvailable)},memberAvatars(){return this.plan.followingMembers.map((e=>{var t=e.userProfileImagePath||e.userProfileImageUrl;return{src:new C.a(t).size(32).dpr().toString()}}))},membersNames(){return this.showMembers?this.plan.followingMembers.slice(0,2).map((e=>"".concat(Object(k.o)(e.nickname||e.urlname,12),"さん"))).join("、"):""}}}),R=(r(3795),Object(w.a)(O,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.plan?r("div",{staticClass:"m-membershipSummary"},[e.showStatusLabel?r("color-label",{staticClass:"m-membershipSummary__statusLabel",attrs:{text:e.statusLabelText,type:e.statusLabelType}}):e._e(),e._v(" "),r("div",{staticClass:"m-membershipSummary__header"},[r("h3",{staticClass:"m-membershipSummary__headerTitle"},[e._v("\n      "+e._s(e.plan.name)+"\n    ")]),e._v(" "),r("div",{staticClass:"m-membershipSummary__headerEyeCatch"},[r("div",{staticClass:"m-membershipSummary__card"},[r("div",{staticClass:"m-membershipSummary__cardInner"},[r("nt-image",{staticClass:"m-membershipSummary__cardImg",attrs:{src:e.headerImage,alt:""}})],1)])])]),e._v(" "),e.showMembers&&e.plan.followingMembers.length>0?[r("span",{staticClass:"block mt-2 text-sm text-center"},[e._v("\n      フォロー中の "+e._s(e.membersNames)+" も参加しています\n    ")]),e._v(" "),r("avatar-list",{staticClass:"my-1 flex justify-center md:my-2",attrs:{"aria-label":e.plan.followingMembers.length+"名",avatars:e.memberAvatars,"avatar-count":e.plan.followingMembers.length,"max-visible-count":10,"count-limit":100}})]:e._e(),e._v(" "),r("div",{staticClass:"m-membershipSummary__body"},[e.linkRequired?r("nt-link",{staticClass:"m-membershipSummary__link",attrs:{to:e.membershipPath,"aria-label":e.circleName}}):e._e(),e._v(" "),e.price>0&&e.$webview.canShowPurchaseFeature?r("div",{staticClass:"flex items-center mb-2 gap-2"},[r("nt-currency",{staticClass:"m-membershipSummary__price",attrs:{amount:e.price,suffix:" / 月"}}),e._v(" "),e.isFirstMonthFree?r("color-label",{attrs:{text:"初月無料",size:"small"}}):e._e()],1):e._e(),e._v(" "),r("read-more-container",{attrs:{"default-height":240,"default-sp-height":40}},[e.isShowDescription?r("p",{staticClass:"m-membershipSummary__description",domProps:{textContent:e._s(e.plan.description)}}):e._e(),e._v(" "),r("benefit-appeal-texts",{staticClass:"mb-4",attrs:{"benefit-appeal-texts":e.benefitAppealTexts,size:"small"}})],1),e._v(" "),r("div",{staticClass:"m-membershipSummary__footer"},[e.plan.isOwner?r("nt-link-functional",{staticClass:"mb-4",attrs:{to:e.planSettingPath,"is-button-link":!0,"button-type":"secondary","button-width":"fit"}},[e._v("\n        お礼メッセージ設定\n      ")]):e._e(),e._v(" "),e.$webview.canShowPurchaseFeature?r("membership-purchasing-button",{attrs:{plan:e.plan,"blocks-you":e.blocksYou,"note-key":e.noteKey,size:e.buttonSize}}):r("div",{staticClass:"m-membershipSummary__itemAlert"},[r("nt-icon",{staticClass:"m-membershipSummary__itemAlertIcon",attrs:{type:"warning",size:"small",clickable:!1}}),e._v(" "),r("span",{staticClass:"m-membershipSummary__itemAlertText"},[e._v("\n          このアプリ内では、メンバーシップを購読できません\n        ")]),e._v(" "),e.$webview.isAndroidVersionGteq(2,18,0)?r("span",{staticClass:"m-membershipSummary__itemAlertAdditionalText"},[e._v("\n          noteウェブサイトでご購入ください\n        ")]):e._e()],1)],1)],1)],2):e._e()}),[],!1,null,"f7e2454c",null));t.a=R.exports},2484:function(e,t,r){"use strict";var n=r(3),o=r(93),l=n.a.extend({components:{NtSvgIcon:o.a},props:{benefitAppealTexts:{type:Array,required:!0},iconType:{type:String,default:"recommend"},size:{type:String,default:"medium"}},computed:{appealTexts(){return this.benefitAppealTexts.map((e=>void 0===(null==e?void 0:e.type)?{type:this.iconType,text:e}:e))},benefitListStyle(){return"small"===this.size?"gap-[0.125rem]":"gap-2"},benefitListItemStyle(){return"small"===this.size?"text-xs":"text-sm font-bold"}}}),m=r(5),component=Object(m.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",{class:"m-BenefitAppealTexts flex flex-col "+e.benefitListStyle,attrs:{"aria-label":"特典一覧"}},e._l(e.appealTexts,(function(t,i){return r("li",{key:i,class:"flex items-start break-all "+e.benefitListItemStyle},[r("div",{staticClass:"mr-2 flex items-center justify-center"},[r("nt-svg-icon",{attrs:{"aria-hidden":"true",type:t.type}})],1),e._v(" "),r("span",{staticClass:"self-center"},[e._v("\n      "+e._s(t.text)+"\n    ")])])})),0)}),[],!1,null,null,null);t.a=component.exports},3006:function(e,t,r){var content=r(3792);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("4dd53a58",content,!0,{sourceMap:!1})},3007:function(e,t,r){var content=r(3794);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("e3c53d1e",content,!0,{sourceMap:!1})},3008:function(e,t,r){var content=r(3796);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("61151cf2",content,!0,{sourceMap:!1})},3791:function(e,t,r){"use strict";r(3006)},3792:function(e,t,r){var n=r(12)((function(i){return i[1]}));n.push([e.i,".m-membershipPurchasingButton[data-v-67478327]{position:relative;pointer-events:auto}",""]),n.locals={},e.exports=n},3793:function(e,t,r){"use strict";r(3007)},3794:function(e,t,r){var n=r(12)((function(i){return i[1]}));n.push([e.i,".m-readMoreContainer[data-v-cbdd40b4]{--max-height:0px;--sp-max-height:0px}.m-readMoreContainer__detail[data-v-cbdd40b4]{max-height:var(--sp-max-height)}@media only screen and (min-width:769px){.m-readMoreContainer__detail[data-v-cbdd40b4]{max-height:var(--max-height)}}.m-readMoreContainer__readMore[data-v-cbdd40b4]{display:block;margin:0 auto 16px;font-size:var(--font-size-xs);font-weight:700;color:var(--color-custom-accent)}@media only screen and (min-width:769px){.m-readMoreContainer__readMore[data-v-cbdd40b4]{transition:background-color .2s cubic-bezier(1,0,0,1)}.m-readMoreContainer__readMore[data-v-cbdd40b4]:hover{color:var(--color-custom-accent-reaction)}}",""]),n.locals={},e.exports=n},3795:function(e,t,r){"use strict";r(3008)},3796:function(e,t,r){var n=r(12)((function(i){return i[1]}));n.push([e.i,".m-membershipSummary[data-v-f7e2454c]{position:relative;display:flex;flex:1;flex-direction:column;height:100%}.m-membershipSummary__header[data-v-f7e2454c]{display:flex;align-items:center;width:100%;margin-bottom:12px}.m-membershipSummary__headerTitle[data-v-f7e2454c]{width:calc(100% - 88px);font-size:var(--font-size-base);font-weight:700}.m-membershipSummary__headerEyeCatch[data-v-f7e2454c]{width:80px;margin-left:8px}.m-membershipSummary__link[data-v-f7e2454c]{position:absolute;top:0;right:0;bottom:0;left:0;display:block;width:100%;height:100%}.m-membershipSummary__card[data-v-f7e2454c]{position:relative;width:100%;overflow:hidden;border-radius:4%/7.1%;box-shadow:var(--elevation-4)}.m-membershipSummary__cardInner[data-v-f7e2454c]{position:relative;height:0;padding-bottom:56.25%}.m-membershipSummary__cardImg[data-v-f7e2454c]{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;background:var(--color-gray-500);object-fit:cover}.m-membershipSummary__body[data-v-f7e2454c]{display:flex;flex:1;flex-direction:column}.m-membershipSummary__statusLabel[data-v-f7e2454c]{width:max-content;margin-bottom:4px}.m-membershipSummary__price[data-v-f7e2454c]{font-size:var(--font-size-sm);font-weight:700;color:var(--color-text-success)}.m-membershipSummary__description[data-v-f7e2454c]{margin-bottom:16px;font-size:var(--font-size-sm);color:var(--color-text-secondary);word-break:break-all;white-space:pre-line}.m-membershipSummary__footer[data-v-f7e2454c]{position:relative;margin-top:auto}.m-membershipSummary__itemAlert[data-v-f7e2454c]{margin-top:8px;font-size:var(--font-size-xs)}.m-membershipSummary__itemAlertIcon[data-v-f7e2454c]{margin-right:4px;color:var(--color-text-caution)}.m-membershipSummary__itemAlertText[data-v-f7e2454c]{display:inline;color:var(--color-text-secondary)}.m-membershipSummary__itemAlertAdditionalText[data-v-f7e2454c]{color:var(--color-text-secondary);white-space:nowrap}",""]),n.locals={},e.exports=n}}]);