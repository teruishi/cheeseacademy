(window.webpackJsonp=window.webpackJsonp||[]).push([[523],{3326:function(t,o,e){var content=e(4416);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(13).default)("6147f2b0",content,!0,{sourceMap:!1})},4415:function(t,o,e){"use strict";e(3326)},4416:function(t,o,e){var n=e(12)((function(i){return i[1]}));n.push([t.i,".o-violationModal__body[data-v-605d6132]{padding:40px}@media only screen and (max-width:480px){.o-violationModal__body[data-v-605d6132]{padding:24px}}.o-violationModal__body[data-v-605d6132]  label,.o-violationModal__item[data-v-605d6132]{display:block;margin-bottom:16px;cursor:pointer}.o-violationModal__radio[data-v-605d6132]{margin-right:8px}.o-violationModal__textarea[data-v-605d6132]{min-height:160px}.o-violationModal__error[data-v-605d6132]{font-size:var(--font-size-sm);color:var(--color-text-danger)}.o-violationModal__thanks[data-v-605d6132]{font-size:var(--font-size-base);text-align:center}",""]),n.locals={},t.exports=n},5192:function(t,o,e){"use strict";e.r(o);var n=e(0),l=e(53),r=e(30),d=e(79),v=e(378),c=e(246),m=e(116),_=e(34),y=e(67),f=e(376),h=["rrated","copyright","slander","spam","others"],M={components:{BasicModalContent:d.a,FormRadio:v.a,ModalFooterButtonGroup:c.a,ModalHeading:m.a,NtButton:_.a,NtModal:y.a,NtTextarea:f.a},mixins:[r.a],data:()=>({violation:{type:"rrated",message:""},submitting:!1}),validations:{violation:{type:{required:l.required,allowed:t=>h.includes(t)},message:{maxLength:Object(l.maxLength)(500)}}},computed:{user(){return this.$store.state.modal.violationModal.user},note(){return this.$store.state.modal.violationModal.note},comment(){return this.$store.state.modal.violationModal.comment},boardPost(){return this.$store.state.modal.violationModal.boardPost},magazine(){return this.$store.state.modal.violationModal.magazine},circle(){return this.$store.state.modal.violationModal.circle},context(){return this.$store.state.modal.violationModal.context},disableSubmit(){return this.$v.$invalid||this.submitting}},methods:{ok(){var t=this;return Object(n.a)((function*(){var o,e;t.isLoggedIn?t.disableSubmit||(t.submitting=!0,t.note?(o="Note",e=t.note.key):t.user?(o="User",e=t.user.key):t.comment?(o="Comment",e=t.comment.key):t.boardPost?(o="BoardPost",e=t.boardPost.key):t.magazine?(o="Magazine",e=t.magazine.key):t.circle&&(o="Circle",e=t.circle.key),yield t.submit({message:t.violation.message,kind:t.violation.type,report_user_id:t.currentUser.id,content_type:o,content_key:e,context:t.context}),t.submitting=!1):alert("ログインをしてください。")}))()},submit(t){var o=this;return Object(n.a)((function*(){try{yield o.$axios.$post("/v3/violations",t);o.popModal(),o.pushAnyMessageModal({message:"送信に成功しました。<br>ご協力ありがとうございます。"})}catch(t){alert("送信に失敗しました。")}}))()},init(){this.violation={type:"rrated",message:""},this.submitting=!1}}},x=(e(4415),e(5)),component=Object(x.a)(M,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("nt-modal",{attrs:{name:"violation"},on:{"before-open":function(o){return t.init()}}},[e("basic-modal-content",{staticClass:"o-violationModal"},[e("modal-heading",{attrs:{slot:"header"},slot:"header"},[t._v("\n      報告する\n    ")]),t._v(" "),e("div",{staticClass:"o-violationModal__body",attrs:{slot:"body"},slot:"body"},[e("form-radio",{staticClass:"o-violationModal__radio",attrs:{id:"rrated",name:"violationType",value:"rrated",label:"ポルノ・暴力"},model:{value:t.violation.type,callback:function(o){t.$set(t.violation,"type",o)},expression:"violation.type"}}),t._v(" "),e("form-radio",{staticClass:"o-violationModal__radio",attrs:{id:"copyright",name:"violationType",value:"copyright",label:"著作権違反"},model:{value:t.violation.type,callback:function(o){t.$set(t.violation,"type",o)},expression:"violation.type"}}),t._v(" "),e("form-radio",{staticClass:"o-violationModal__radio",attrs:{id:"slander",name:"violationType",value:"slander",label:"誹謗中傷"},model:{value:t.violation.type,callback:function(o){t.$set(t.violation,"type",o)},expression:"violation.type"}}),t._v(" "),e("form-radio",{staticClass:"o-violationModal__radio",attrs:{id:"spam",name:"violationType",value:"spam",label:"スパム"},model:{value:t.violation.type,callback:function(o){t.$set(t.violation,"type",o)},expression:"violation.type"}}),t._v(" "),e("form-radio",{staticClass:"o-violationModal__radio",attrs:{id:"others",name:"violationType",value:"others",label:"その他"},model:{value:t.violation.type,callback:function(o){t.$set(t.violation,"type",o)},expression:"violation.type"}}),t._v(" "),e("div",{staticClass:"o-violationModal__item"},[e("nt-textarea",{staticClass:"o-violationModal__textarea",attrs:{placeholder:"理由についてお書きください（任意）"},model:{value:t.violation.message,callback:function(o){t.$set(t.violation,"message",o)},expression:"violation.message"}})],1),t._v(" "),e("div",{staticClass:"o-violationModal__error"},[t.$v.violation.message.maxLength?t._e():e("p",[t._v("\n          500文字以内にしてください。\n        ")]),t._v(" "),t.$v.violation.type.allowed?t._e():e("p",[t._v("\n          なにか選んでください。\n        ")])])],1),t._v(" "),e("modal-footer-button-group",{attrs:{slot:"footer"},slot:"footer",scopedSlots:t._u([{key:"default",fn:function(o){return[e("nt-button",{class:o.buttonClass,attrs:{type:"basic",size:"small"},on:{click:function(o){return t.popModal()}}},[t._v("\n          キャンセル\n        ")]),t._v(" "),e("nt-button",{class:o.buttonClass,attrs:{disabled:t.disableSubmit,type:"primary",size:"small"},on:{click:t.ok}},[t._v("\n          送信する\n        ")])]}}])})],1)],1)}),[],!1,null,"605d6132",null);o.default=component.exports}}]);